var _0x5a50fc=_0x3fa7;!function($,x){for(var e=_0x3fa7,t=$();;)try{if(parseInt(e(436))/1*(parseInt(e(349))/2)+parseInt(e(1350))/3+-parseInt(e(1335))/4*(-parseInt(e(1157))/5)+parseInt(e(493))/6+-parseInt(e(746))/7*(-parseInt(e(1332))/8)+-parseInt(e(1262))/9+-parseInt(e(741))/10*(parseInt(e(373))/11)==383010)break;t.push(t.shift())}catch(i){t.push(t.shift())}}(_0x2aa9,383010);var _0xaa295f=function(){var $=!0;return function(x,e){var t=$?function(){var $=_0x3fa7;if(e){var t=e[$(329)](x,arguments);return e=null,t}}:function(){};return $=!1,t}}(),_0x3429ea=_0xaa295f(this,function(){var $=_0x3fa7;return _0x3429ea[$(579)]()[$(1066)]($(819)).toString()[$(503)](_0x3429ea)[$(1066)]("(((.+)+)+)+$")});_0x3429ea();var _0x4d1b51=function(){var $=!0;return function(x,e){var t=$?function(){var $=_0x3fa7;if(e){var t=e[$(329)](x,arguments);return e=null,t}}:function(){};return $=!1,t}}();!function(){_0x4d1b51(this,function(){var $=_0x3fa7,x=RegExp($(1082)),e=RegExp($(345),"i"),t=_0x44d4b7("init");x[$(593)](t+$(446))&&e[$(593)](t+$(924))?_0x44d4b7():t("0")})()}();var _0x8ecf49=function(){var $=!0;return function(x,e){var t=$?function(){var $=_0x3fa7;if(e){var t=e[$(329)](x,arguments);return e=null,t}}:function(){};return $=!1,t}}(),_0x2bbcc3=_0x8ecf49(this,function(){for(var $=_0x3fa7,x=function(){var $,x=_0x3fa7;try{$=Function(x(816)+x(1186)+");")()}catch(e){$=window}return $}(),e=x[$(953)]=x[$(953)]||{},t=[$(650),$(411),$(453),$(1372),$(1301),$(689),$(1120)],i=0;i<t[$(1255)];i++){var a=_0x8ecf49.constructor[$(554)][$(721)](_0x8ecf49),n=t[i],r=e[n]||a;a[$(827)]=_0x8ecf49[$(721)](_0x8ecf49),a[$(579)]=r[$(579)][$(721)](r),e[n]=a}});_0x2bbcc3();const SCRIPT_CONFIG={version:"2.0",name:"Bratki Enhanced Script",debug:!0,mobile:{maxBackgroundTime:36e5,heartbeatInterval:1e4,wakeLockTimeout:3e5},timeouts:{min:300,max:900,waitMin:15e3,waitMax:25e3}},PLATFORM={isIOS:/iPad|iPhone|iPod/[_0x5a50fc(593)](navigator[_0x5a50fc(1329)]),isAndroid:/Android/[_0x5a50fc(593)](navigator[_0x5a50fc(1329)]),isMobile:/Mobi|Android/i[_0x5a50fc(593)](navigator[_0x5a50fc(1329)]),isSafari:/^((?!chrome|android).)*safari/i[_0x5a50fc(593)](navigator.userAgent),isChrome:/Chrome/[_0x5a50fc(593)](navigator.userAgent),get isIOSSafari(){var $=_0x5a50fc;return this[$(1356)]&&this[$(525)]},get needsAudioKeepAlive(){var x=_0x5a50fc;return this[x(828)]||this[x(1356)]&&!this[x(1191)]}};console.log(_0x5a50fc(1314),PLATFORM);var icPlayUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAQAAABLCVATAAAAiklEQVRIx+2UzQ1AQBQGJW7OGlACPeiCKqiCLqhCEUpYDTi7SUb27Hflc7JTwCT7dt4LAo9nD5lKtNISKUSWiVwjsvTEGhHMlBqRZSDRiGChJlSILOOLKDjGPQrOcYuCa55HcSPqFCKjeNpKoxj2SKoIslIEKVmRmUKxtJ3ijBjFYXP/6I+Pv+cPbFrkcdWH6mjQAAAAAElFTkSuQmCC",icPauseUrl=_0x5a50fc(511),TYPE_SWITCH=1,TYPE_TIMEOUT_SCENES=2,TYPE_SCENES=3,switchStyle='\n    img[src*=\'data:image\'] { width: 22px; height: 22px; }\n\n    /* Слайдер (switch) — обновлён под тёмный фон */\n    .switch {\n        position: relative;\n        display: inline-block;\n        width: 34px;\n        height: 20px;\n        margin: 2px 0;\n    }\n    .switch input { opacity: 0; width: 0; height: 0; }\n    .slider {\n        position: absolute;\n        cursor: pointer;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background-color: #e20c0cff; /* Тёмно-серый — неактивный */\n        border-radius: 34px;\n        transition: .2s;\n        padding: 5px;\n    }\n    .slider:before {\n        position: absolute;\n        content: "";\n        height: 18px;\n        width: 16px;\n        left: 2px;\n        bottom: 1px;\n        background-color: white;\n        border-radius: 50%;\n        transition: .4s;\n    }\n    input:checked + .slider {\n        background-color: #2196F3; /* Ярко-голубой — активный */\n    }\n    input:checked + .slider:before {\n        transform: translateX(14px);\n    }\n    input:focus + .slider {\n        box-shadow: 0 0 3px rgba(33, 150, 243, 0.5);\n    }\n\n    /* Текстовые поля — стили под тёмный фон */\n    .edit_text,\n    input[type="text"] {\n        min-height: 20px;          /* Минимальная высота */\n        height: auto;              /* Автоматическое увеличение по содержимому */\n        padding: 3px 6px;          /* Внутренние отступы */\n        font-size: 12px;\n        color: #2196F3;            /* Голубой текст */\n        background-color: #1a1a1a; /* Тёмно-серый фон */\n        border: none;\n        border-bottom: 2px solid #555;\n        border-radius: 3px;\n        outline: none;\n        resize: none;              /* Запрещаем ручное изменение размера */\n        overflow: visible;         /* Позволяет тексту выходить за границы (если нужно) */\n        line-height: 1.4;\n        font-family: sans-serif;\n    }\n\n    .edit_text:focus,\n    input[type="text"]:focus {\n        border-bottom-color: #2196F3; /* Голубая подсветка при фокусе */\n        box-shadow: 0 0 3px rgba(33, 150, 243, 0.5);\n    }\n\n    /* Ползунки (range) — стили под тёмный фон */\n    input[type="range"] {\n        -webkit-appearance: none;\n        appearance: none;\n        width: 100%;\n        height: 3px;\n        background: #d62e2eff;          /* Тёмный фон трека */\n        border-radius: 1.5px;\n        outline: none;\n        margin: 8px 0;\n    }\n\n    /* Стиль бегунка ползунка */\n    input[type="range"]::-webkit-slider-thumb {\n        -webkit-appearance: none;\n        appearance: none;\n        width: 16px;\n        height: 16px;\n        border-radius: 50%;\n        background: #19da12ff;\n        cursor: pointer;\n        box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);\n    }\n\n    input[type="range"]::-moz-range-thumb {\n        width: 16px;\n        height: 16px;\n        border-radius: 50%;\n        background: #1ceb38ff;\n        cursor: pointer;\n        border: none;\n        box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);\n    }\n\n    /* Прогресс-бар ползунка (необязательно, но выглядит красиво) */\n    input[type="range"]::-webkit-slider-runnable-track {\n        background: #333;\n        border-radius: 1.5px;\n    }\n\n    input[type="range"]::-moz-range-track {\n        background: #333;\n        border-radius: 1.5px;\n    }\n\n    /* Кнопки — оставляем как есть, но можно чуть подправить */\n    .btn-equip {\n        color: #338899;\n        display: inline-block;\n        margin: 0 5px 3px 0;\n        padding: 2px 4px;\n        font-size: 12px;\n        text-decoration: none;\n        background: #1a1a1a;\n        border: 1px solid #333;\n        border-radius: 3px;\n    }\n\n    /* Всплывающее окно — без изменений, но если нужно — можно добавить тёмный фон */\n    .popup-content {\n        max-height: 300px;\n        overflow-y: auto;\n        padding: 10px;\n        font-size: 12px;\n        color: #ffffff;\n        background-color: #121212; /* Дополнительно: глубокий тёмный фон */\n        border-radius: 6px;\n        border: 1px solid #333;\n    }\n',TYPE_SWITCH=1,TYPE_TIMEOUT_SCENES=2,TYPE_SCENES=3;function _0x2aa9(){var $=["backgroundManager","img","Районы","-buffsSpec-0-link","combatPanel","urlc","GET","setProperty","Газануть","/stim_armor_12x12.png","Хищник-старейшина","Достиг бонус-оружейник <img src='https://img3.bratki.mobi/images/NPCs/topor.gld.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","/stim_accuracy_12x12.png","preload","shopping","screen","entryType","performanceObserver","val_","href","orientationHandler","Неистовство < Робот < Слежка < Точный","exception","initWakeLock","Только за 1 <img src='https://img2.bratki.mobi/images/tmp/bullets12x12.png' alt='bullet' style='vertical-align: middle; width: 12px; height: 12px;'>","acceptLinkPanel","currentCategoryIndex","linkc","проверка лицензии","now","isSupported","заряжается","[WakeLockManager] Инициализация...","bonus_350","SPAN","[Bratki Script] Platform detected:","WakeLockManager","reload","Красный (R)","2026-04-12","[WakeLockManager] Wake Lock активирован"," ч.","notifyblock","mobileManager","cursor: pointer; height:20px; border-radius:5px; overflow:hidden; display:inline-block;","Подлый барыга","gun","Фон: Порт","networkManager","init","userAgent","rampage","Бонусы","2092432ORTiVa","Покрутить отмычку","Robberycentury","4voeiyT","debu","/stim_power_12x12.png","trim","initPerformanceMonitoring","method","pageShowHandler","custom-menu","getElementById",'Регулировка случайного интервала задержки между кликами с помощью двух ползунков. <br /><font color="#FFFF33">*Минимальная задержка</font> - минимальное время задержки (в миллисекундах). <br /><font color="#FFFF33">*Максимальная задержка</font> - максимальное время задержки (в миллисекундах). ЕСЛИ МОДУЛЬ ВЫКЛЮЧЕН, РАБОТАЕТ СТАРАЯ ЗАДЕРЖКА',"Tiger","createToggleHandler","[WorkerManager] Worker не поддерживается:","form","0.7","873948jjLQxk","% (","script","input, textarea, select","checkWorkerSupport","createSettingElement","isIOS","isAndroid","setupTouchOptimizations",".quant","2125-10-25","beltBlock-2","maxSafeModeTimeout","BlackOpsSmuggle","load","handleForegroundTransition","2026-01-21T","createMenu","bonus_bullet_no_icon","[WakeLockManager] Wake Lock заблокирован пользователем","chem_speed","Фон: Горки","error","item_difficulty_30",".b-enemy","https://img0.bratki.mobi/images/cities/police_480.jpg","refreshLink","Фон: Сити","Гостиная",");\n                        z-index: -1;\n                    }\n                    .custom-menu, .custom-menu * {\n                        color: rgb(","[BackgroundManager] Возврат в активный режим (был в фоне ","[WorkerManager] Не удается запустить game loop - worker недоступен","Захват СМИ","needsAudioKeepAlive","setupViewportOptimizations","my-bratki-script","firstaid","enabled","bg_cop","-last","handleMemoryPressure","⚠️ [AutoBon] Хедер (.b-header.small) не найден — скрипт не может проверить иконки","Запретить продажу <img src='https://img2.bratki.mobi/images/icons/cross.png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","action","<img src='https://img0.bratki.mobi/images/items/stimulators/new/energy_light_32x32.png  ' alt='energy' style='vertical-align: middle; width: 15px; height: 15px;'> ","content","auto_butcher","div.b-header","parentNode","handleTimerProgress","open","Включить подсветку мобов на арене <img src='https://img1.bratki.mobi/images/NPCs/mafia_boss.gld.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","startItemsCount","btn-lock","[BackgroundManager] Ошибка в callback ","onComplete","⚠️ [AutoBon] Ячейка настойки ","focus","push","chem_power","[Bratki Engine] Загрузка оригинальных модулей...","min_random_timeout (","running","isOpen","2026-09-29","damageLastAttackerLink","Выживание +20 мин <img src='/images/icons/revival.png' alt='revival' style='vertical-align: middle; width: 12px; height: 12px;'> за 2 <img src='https://img2.bratki.mobi/images/tmp/bullets12x12.png' alt='bullet' style='vertical-align: middle; width: 12px; height: 12px;'>","pong","Невалидная дата для ID ","Группировка","[MobileManager] Активация экономии трафика","onTimerComplete","onpopstate","achievements_bar-enabled","Пнуть замок","application/x-www-form-urlencoded; charset=utf-8","adjustable_barrage","setupMessageHandlers","[WakeLockManager] Ошибка освобождения Wake Lock:","settings_","a.btn-a.ml3","callbacks","classList","BratkiEngine","menuCustomizer","mozConnection","timeout","Смертельный форсаж","popups","range","Точный выстрел","confirmLink","[BackgroundManager] Page Hide event",'\n                    .custom-menu::before {\n                        content: "";\n                        position: absolute;\n                        top: 0; left: 0; right: 0; bottom: 0;\n                        background: url(\'https://raw.githubusercontent.com/JenichG/nx/main/Endless Falls 1.gif\') no-repeat center center;\n                        background-size: cover;\n                        opacity: 1;\n                        z-index: -1;\n                    }\n                    .custom-menu::after {\n                        content: "";\n                        position: absolute;\n                        top: 0; left: 0; right: 0; bottom: 0;\n                        background: rgba(0, 0, 0, 0.1);\n                        z-index: -1;\n                    }\n                    .custom-menu, .custom-menu * {\n                        color: rgba(203, 206, 24, 1) !important;\n                    }\n                ',"public_items_sell","attack_dead_bypass",".content-inner.bg-verygray","repeatLink","Состояние аффекта","medikit","Тепловизор","Быстрые гонки <img src='https://img2.bratki.mobi/images/cars/icons/race_29x29.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>","font-size: 12px; color: #ffffff; min-width: 200px;","level","createInvisibleVideo","apply","выкл","Cбор eжедневной награды <img src='https://img0.bratki.mobi/images/icons/buff_generosity.png' alt='gift' style='vertical-align: middle; width: 18px; height: 18px;'>","item_difficulty_40","backgroundStartTime","[MobileManager] Батарея: ","blurHandler","-bottles-2","isInitialized","audio","enable_belt_combined","Задержка нажатия на Газ <img src='https://img3.bratki.mobi/images/cars/icons/21x21_gaz.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>","modules","[BackgroundManager] Переход в фоновый режим","batteryLevel","visibility","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","elements","2025-08-18","auto_repair","26PHCEIb","-1-linkMoney","findLinksByUrlComponent","⚠️ [AutoBon] Таблица настоек не найдена (.content-inner.bg-verygray)",'img[src*="followtarget.png"]',"/stim_speed_12x12.png","get"," не найдена"," НЕДОСТУПНА (inactive span)","pushState","Затемнение"," worker pong:","Бонус за 700 <img src='https://img3.bratki.mobi/images/icons/cash.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> и 1 <img src='https://img2.bratki.mobi/images/tmp/bullets12x12.png' alt='bullet' style='vertical-align: middle; width: 15px; height: 15px;'>","cache","[MobileManager] Кеши очищены","none","transition","mission_mode","offsetY","connectionManager","tr.va-t a:not(.minor)","Настойка мощности<img src='https://img3.bratki.mobi/images/items/stimulators/new/stim_power_12x12.png' alt='power' style='vertical-align: middle; width: 15px; height: 15px;'>","У тебя в сумке нет модификаторов.","domain","33fZEdrw","\uD83E\uDDEA [AutoBon] Настойка ","skill_bonus_3","createSettingsPopupHandler","gift_recipient_id","span.warn","width: 0%; height: 100%; position: absolute; opacity: 0.5; top: 0; left: 0","connectionType","state","px; text-align:center;","right","cursor: pointer;","maxWidth","setPopup","menu_dim","performLicenseCheck","nextSibling","display: inline-block; overflow: hidden; padding: 3px; vertical-align: top;","uid","furious","Бункер","-receptionsClass-2-receptions-1-link","маст","bg_potrox","lastAction","Установить","absolute",'-selectItemLink"].btn-a',"BackgroundManager","edit_text","linkt","currentStepIndex","change","Не личные вещи сбыть <img src='https://img0.bratki.mobi/images/icons/credits.png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","orientationchange","Точный < Лечение < Яд < Инъекция","RestPrank",'a[href*="user/achievement"]',"warn","handleOrientationChange","click","x2 опыт на 30 мин <img src='/images/icons/double_exp.png' alt='x2' style='vertical-align: middle; width: 12px; height: 12px;'> за 800 <img src='https://img0.bratki.mobi/images/icons/credits.png' alt='credits' style='vertical-align: middle; width: 12px; height: 12px;'>","Минимальная стойка <img src='https://img3.bratki.mobi/images/icons/defensive_stand.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","pop","persisted","onswitch","park","Да, подтверждаю","div","javascript:void(0)","Установка/снятие мода за 1к кредитов <img src='https://img0.bratki.mobi/images/icons/credits.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","friends","[WakeLockManager] WebSocket keep-alive пока не реализован","[WorkerManager] Запрос выполнения модуля: ","2125-01-19","норм","split","-bottles-4","width","expires","initBatteryManager","Стим 4  <img src='https://img1.bratki.mobi/images/items/stimulators/adrenalin_inj32.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","/gang","3897zPGnKf","handlePage","[WorkerManager] Game Worker error:","личное","robot","giftshop","pauseGameLoop","500ms","-items-","shooter_abilities_order","chain","Макс. таймаут ожидания (мс) <img src='https://img.icons8.com/?size=48&id=19034&format=png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","getCombatLinks","getEntries","Взорвать петарду","updateProgress","/icons/skillcooldown.png","info","не хватает","position","hide","replace","[MobileManager] Высокое использование памяти: ","description","Проверка лицензии перед работой скрипта","2025-10-28","workerManager","unknown","some","muted","[Bratki Engine] Обработка игровой логики...","hideMsg","textContent","NotAllowedError"," → ","getAttribute","createGameWorker","affect","Минимальная задержка","\n            // Timer Worker - Точные таймеры\n            let timers = new Map();\n            let intervalCounters = new Map();\n\n            function createTimer(id, delay, interval = false) {\n                if (timers.has(id)) {\n                    clearTimeout(timers.get(id));\n                }\n\n                const startTime = Date.now();\n                \n                function tick() {\n                    const elapsed = Date.now() - startTime;\n                    const remaining = Math.max(0, delay - elapsed);\n                    \n                    if (remaining <= 0) {\n                        // Таймер истек\n                        postMessage({\n                            type: 'timer_complete',\n                            id: id,\n                            timestamp: Date.now()\n                        });\n                        \n                        timers.delete(id);\n                        \n                        if (interval) {\n                            // Перезапускаем для интервального таймера\n                            createTimer(id, delay, true);\n                        }\n                    } else {\n                        // Обновляем прогресс\n                        if (Date.now() % 1000 < 50) { // Отправляем прогресс раз в секунду\n                            postMessage({\n                                type: 'timer_progress',\n                                id: id,\n                                remaining: remaining,\n                                progress: (elapsed / delay) * 100,\n                                timestamp: Date.now()\n                            });\n                        }\n                        \n                        // Планируем следующую проверку\n                        const nextCheck = Math.min(remaining, 100); // Максимум 100мс между проверками\n                        timers.set(id, setTimeout(tick, nextCheck));\n                    }\n                }\n                \n                tick();\n            }\n\n            // Обработка сообщений\n            self.onmessage = function(event) {\n                const { type, data } = event.data;\n\n                switch (type) {\n                    case 'create_timer':\n                        createTimer(data.id, data.delay, data.interval || false);\n                        break;\n\n                    case 'cancel_timer':\n                        if (timers.has(data.id)) {\n                            clearTimeout(timers.get(data.id));\n                            timers.delete(data.id);\n                            postMessage({ type: 'timer_cancelled', id: data.id });\n                        }\n                        break;\n\n                    case 'get_timers':\n                        postMessage({ \n                            type: 'timers_list', \n                            timers: Array.from(timers.keys()),\n                            timestamp: Date.now()\n                        });\n                        break;\n\n                    case 'ping':\n                        postMessage({ \n                            type: 'pong', \n                            timestamp: Date.now(),\n                            activeTimers: timers.size\n                        });\n                        break;\n                }\n            };\n        ","опции","a[href*='tempItemsLink']","[MobileManager] Деинициализация завершена","touchstart","returnLink","observe"," Задержки на значение \"0\" не работают <img src='https://cdn-icons-png.flaticon.com/128/7887/7887126.png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","private_items_sell","Обстрел","onsubmit","getGameWorkerCode","messageHandlers","beltBlock-1","Модификаторы","outerHTML","updateModules","skill_timeout","1416984yZiGYQ",'a[href*="items-',"На главную","exc","https://img3.bratki.mobi/images/cities/doki_480.jpg","handleSlowPerformance","startGameLoop","initConnectionManager","focusHandler","wakeLock","constructor","-giftPanel-giftCell-getGiftLink","overflow: hidden; border-radius: 3px; z-index: 3000; right: 0; background: #000; transition: 250ms;","[WorkerManager] Ошибка инициализации:","getMissionsLinks","autoInjectedScript","Обход неживых целей <img src='https://bratki.mobi/images/icons/neutral.offline.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","preventDefault","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAQAAABLCVATAAAAMElEQVRIx2NgGAWjABn8b0BAYsRxG4QEiBEfNWjUoFGDRg0aNWgADaJW4T8KRg4AABfpAict00b7AAAAAElFTkSuQmCC","doctor","Моя сумка","\n\nОбратитесь к разработчику для продления лицензии.","[WakeLockManager] Ошибка создания invisible video:","blur","boxShadow","[WorkerManager] Timer Worker ошибка:","lastCheck","smi","[MobileManager] Медленное соединение, активация экономного режима",'a.btn-a.narrow.mt5[href*="gang/donate"]',"sqrt","getBackgroundDuration","isSafari","[WakeLockManager] Wake Lock неактивен, попытка восстановления...","enableNetworkSavingMode","display: inline-block; font-size: 12px; transition: 500ms;","<span>Команда</span>","setTime","Полная версия","attack_predators","enable_belt_4","setupPageLifecycleEvents","gang1-enabled","keys","onchange","selectLink","hasOwnProperty","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAABDUlEQVR4AcXSPUoDURRH8TtJOj9aEXEVouAqRBAtDIq4AwsDgo0IIskUQkAsBDGFrkALRdBCG+swpJIQFFdgJKNH8PK43EiYgRT+/t1jTvGGJ/+BHYJtpH/C310SNPIFzwRPg4MCj9ywxDQNvghSzphimVseiHywifrG+JM1LGCcd7K8MmrBIV6TKjUSvH0LynQxRxQQhCJ1zAcrFgiztFFN9HNNEtQLM/2/dRdVRbDFqAoyKKjlC+bpoBKKhNMSLVSbOSxgnU9MHU1KHGO6rFpwgJcQE9PC27NgjDeydBixQNjIfBplf+mIe65YYJJTUoIeJ0ywyDV3REM9b78LgvN8QYX0dz228gR+wwc/ymXie5Q1fWkAAAAASUVORK5CYII=","efensivestand","TEXT_NODE","HEAD","isInBackground","name","Мастерская мясника","gameWorker","Верхний хол","createAudioContext","toFixed","minSafeModeTimeout","effectiveType","getConnectionType","prototype","\uD83D\uDD12 Проверка лицензии","a[href*='beltBlock-2'] .locked-time","retryCount","setRequestHeader","[WakeLockManager] Ошибка создания Audio Context:","gang2-enabled","loop","[MobileManager] Готов к работе","popup-content","initMemoryManagement","querySelector","[WakeLockManager] Инициализация Audio Keep-Alive для iOS...","https://img1.bratki.mobi/images/cities/ghetto_480.jpg","beforeUnloadHandler","0:targetLink","pow","div.font12.p3 > div.mt5","fetchKeepAliveInterval","takeLink","Сорванная башня","Название вещи для установки модов","Авто бон \n  <img src='https://img0.bratki.mobi/images/icons/specshkola.png' \n       alt='Бицепс' \n       style='width: 20px; height: 20px; vertical-align: middle; animation: flex 2s infinite;'>\n  <style>\n    @keyframes flex {\n      0%, 100% { transform: scale(1); }\n      50% { transform: scale(1.1); }\n    }\n  </style>\n","font-size:12px; padding:3px 3px; color:#2196F3; width:","modification-enabled","toString","entries","[WakeLockManager] Деинициализация завершена","descPopup","healLink","fly","Хищник-охотник","Ставка","target2","Инъекция < Лечение < Точный < Яд","Уличный торговец","2125-09-09","webkitConnection","bonus_700","test","preventPageUnload","Рандомно","connection","portrait","isLowPowerMode","application/javascript","(?:^|; )","все","menu_color_b","[WakeLockManager] Инициализация fallback методов...","2025-10-02",'img[src*="looking_for_target.png"]',"isPageLocked","floor","itemSelectionCompleted","addChild","catch","blackmarket","hidden","timerId","Сдать в общак","Аффект < Обстрел < Стойка < Точный","Сумка \uD83D\uDC5C","onclick","chargingchange","top","has","getBatteryLevel","menu_position","menu","scrollTo","Кухня","silentAudio","gangDonate","-receptionsClass-0-receptions-1-link","По умолчанию","Все","script_speed_max_timeout","Хищник-командующий","menuOpened","[WakeLockManager] Ошибка создания silent audio:","откроются через","addCallback","documentElement","timerWorker","a[href*='/item']","2026-03-18","Точный < Обстрел < Аффект < Стойка","500px","-0-linkMoney","Запустить","item_categories_csv","responseText","div.content-inner>div:not([class])","[WakeLockManager] Wake Lock API доступен","СТАРТ!!!","log","intervalId","Обновить","Голубой огонек","style","Быстрый сбор вещей с почты <img src='https://img1.bratki.mobi/images/icons/mes_in.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","Автосалон Грида","Вставить отмычку в замок","visibilityChangeHandler","status","table a[href*='takeLink']","memoryPressure","Слежка < Неистовство < Точный < Робот","padding","toLowerCase","clicked","set","x2 опыт на час <img src='/images/icons/double_exp.png' alt='x2' style='vertical-align: middle; width: 12px; height: 12px;'> за 1500 <img src='https://img0.bratki.mobi/images/icons/credits.png' alt='credits' style='vertical-align: middle; width: 12px; height: 12px;'>","survival_10min","getTeamHp","/icons/double_exp.png",".search-form, .b-notice, .event, .b-header, .container, .b-footmenu","14px","Грабежи \n      <img src='https://img1.bratki.mobi/images/icons/grabeji.png' \n           style='width: 20px; height: 20px; vertical-align: middle; animation: flex 2s infinite;'>\n  <style>\n    @keyframes flex {\n      0%, 100% { transform: scale(1); }\n      50% { transform: scale(1.2); }\n    }\n  </style>\n    ","[WorkerManager] Инициализация...","-receptionsClass-0-receptions-0-link","[MobileManager] Активация оптимизаций производительности","/home","safeMode","\"Забрать все\" в общаге <img src='https://img1.bratki.mobi/images/icons/seif.2.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","urlData","viewport","❌ ЛИЦЕНЗИЯ НЕ АКТИВНА\nID: ","Проезжает гонки с максимально быстрой скоростью","isCharging","overflow","<img src='https://img1.bratki.mobi/images/items/stimulators/adrenalin_inj32.png  ' alt='adrenaline' style='vertical-align: middle; width: 15px; height: 15px;'>","checking","Не удалось определить id вашего персонажа, убедитесь что вы вошли в него из кабинета и повторите снова","table","enable_belt_1","bottomProgress","maxHeight","initFallbackMethods","removeCallback","откл","2025-10-05","offsetWidth","setupUserInteractionListener","[MobileManager] Ошибка инициализации мониторинга производительности:","counter","Бонус за 700 <img src='https://img3.bratki.mobi/images/icons/cash.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>","doctor_abilities_order","Фон: Свободные Кварталы","Персонаж","-buffsCommon-1-link","injection","key","brute","checked","menu-bg-style","match","auto","double_exp_60min","-1000px","[WakeLockManager] Ошибка инициализации Audio Keep-Alive:","<h2>Союзники</h2>","from","div.header","[WakeLockManager] Ошибка инициализации:","-selectItemLink","bind","enablePerformanceOptimizations","public_items_to_gang","Администрация вокзала","[MobileManager] Инициализация для:","hasNewInterface","handleWorkerMessage","position: relative; top: 2px; display: inline-block;","touchmove","div.b-header.small","a[href*='useSkill'] .locked-time","Ждать","robLink","maxRetries","Робот < Слежка < Точный < Неистовство","Особое <img src='https://img0.bratki.mobi/images/icons/aftoriteti.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>","проф","Общение","[WakeLockManager] Wake Lock освобожден",".enemy-name","2423710MaAxDI","survival_20min","enable_belt_2","2026-09-22","pagehide","7fFssYn","background","onmouseup","⚠️ Очистка памяти...","Забрать все","number","Задержка способностей <img src='https://img3.bratki.mobi/images/icons/clock.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","-bottles-3","разряжается","take-all","destination","/gang/menu","span.info","request","[BackgroundManager] Page Show event","callback","createElement","span>span.warn","isMobile","setupOrientationHandling","display: flex; align-items: center; gap: 5px;","randomer","Первая помощь","cancel_timer","random","/cover","setSelection","fallbackToOriginal","font","2726-10-19","Лицензия не активна","/icons/regen.png","terminate","touchHandler","overflow: hidden; position: absolute; right: 5px; top: 0; transition: 500ms;","ожидание","--animation-duration","onmousedown","[WakeLockManager] Audio Keep-Alive готов","operation_bunker","wakeLockManager","[Bratki Engine] Ошибка инициализации:","getNextScene","/tasks","T00:00:00","border-top: 1px solid #fff; font-size: 12px; overflow:hidden; transition: 250ms;","Уникальные приемы","❌ Не найдена страница персонажа","execute_module","postMessage","useSetting","jsHeapSizeLimit","script_speed_min_timeout","mission/description","hideBottom","setInterval","while (true) {}",".b-header.small","Заказухи","orientation","[WorkerManager] Workers не поддерживаются, используем fallback","Фон: Площадь Культуры","\\$1","handleWorkerPong","enableLowPowerMode","then","-bottles-1","closeAllPopup","give-all","contains","return (function() ","touches",'img[src*="defensive_stand.png"]',"(((.+)+)+)+$","Figa_TrainStation","paused","/stim_stamina_12x12.png","\n            .custom-menu::before {\n                content: \"\";\n                position: absolute;\n                top: 0; left: 0; right: 0; bottom: 0;\n                background: url('https://raw.githubusercontent.com/JenichG/nx/main/Endless Falls 1.gif') no-repeat center center;\n                background-size: cover;\n                opacity: 0.9;\n                z-index: -1;\n            }\n            .custom-menu {\n                color: #c8ff00ff;\n            }\n        ","[MobileManager] Активация энергосберегающего режима","fontSize","create_timer","__proto__","isIOSSafari","createSilentAudio","relative","Друзья","[BackgroundManager] Деинициализация завершена","Выживание +10 мин <img src='/images/icons/revival.png' alt='revival' style='vertical-align: middle; width: 12px; height: 12px;'> за 1 <img src='https://img2.bratki.mobi/images/tmp/bullets12x12.png' alt='bullet' style='vertical-align: middle; width: 12px; height: 12px;'>","clear","Немного",".b-user","tagName","onconfig","destroy","true","bg_doki","Content-Type","forEach","setUpdateInterval","defensive_stand_threshold","Забирать все вещи <img src='https://bratki.mobi/images/icons/information.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","-receptionsClass-2-receptions-0-link","gift-enabled","includes","double_exp_30min","skill_bonus_1","bg_old_city","toUTCString","className","memory","Стрелка в парке","handleEngineState","час до отключения","findLinksByText","[BackgroundManager] Инициализация...","play","engine","thrownfactory","forceLowPowerMode","[WakeLockManager] Wake Lock API недоступен, используем fallback","innerWidth","gang3-enabled","getCookie","Mooringyachtclubagent","warehouse","/user","createDocumentFragment","Порядок способностей: Громила <img src='https://img2.bratki.mobi/images/icons/mafia.grumble.png  ' alt='brute' style='vertical-align: middle; width: 15px; height: 15px;'>","2025-10-13","-bottles-0","followtarget","pink","hasAttribute","fast_heal","Лечение < Яд < Инъекция < Точный","[WakeLockManager] Не удалось запустить silent audio:","   → Шаг ","debug","PerformanceObserver","popup_","showBottom","Слежение за целью","Достиг тренер по рукопашному бою <img src='https://img2.bratki.mobi/images/NPCs/32x32_nps4.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","Продолжить бой","#menu-bg-style",'Очистка сумки от вещей, <br /><font color="#ff0000">Будьте осторожны при выборе варианта сбыть</font><br /><font color="#ff3">исключеня</font> - (с общагом не работает) ключевые слова исключаящие обработку вещи, через запятую, например: филки, ящик',"span.inactive","setupIOSSpecialHandling","span","resize","[MobileManager] Деактивация энергосберегающего режима","gameState","appendChild","Сумка","updateConnectionState","translateZ(0)","=([^;]*)","[BackgroundManager] Window Blur","chem_armor","value","chem_stamina","2026-06-14","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover","2025-10-26","Аптечка","https://img3.bratki.mobi/images/cities/city_480.jpg","min","timer","Особняк Фила Ричи","Порядок способностей: Стрелок <img src='https://img3.bratki.mobi/images/icons/mafia.sniper.png  ' alt='shooter' style='vertical-align: middle; width: 15px; height: 15px;'>","transform","opacity","setupIOSFullscreen","height","a[href*='user']:not([class])","[MobileManager] Network Information API недоступен:","a[href*='beltBlock-0'] .locked-time","visibilitychange","input","https://img2.bratki.mobi/images/cities/gorki_480.jpg","Быстрая ПП <img src='https://img2.bratki.mobi/images/icons/medicine.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","Срок аренды скрипта закончен","video","duration","removeEventListener","Задание недоступно","show","timeoutId","mod_item_name","Джереми","confirmReq","2025-10-14","handleBackgroundTransition","getSceneLinks","black","getElement","[Bratki Engine] Запуск fallback цикла...","GuildDonateItem","-receptionsClass-0-receptions-2-link","Задержка нажатия на нитро <img src='https://img1.bratki.mobi/images/cars/icons/21x21_nitro.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>",".b-combat-info .enemy-name","[BackgroundManager] Before Unload","2125-03-18","getTimerWorkerCode","requestWakeLock","rebornLink","ID заказухи","console","item_difficulty","KillMajor","skill_bonus_5","2025-09-29","body","ul.block","transferMode","licenseCheck","Чарли","type","a[href*='","Склады Седого","headshot","Зажигалка","fallbackMainLoop","✅ Лицензия активна, ID: ","Не личные вещи в общак <img src='https://img1.bratki.mobi/images/icons/group.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>","initWebSocketKeepAlive","skill_bonus_0","overflow:hidden; transition: 250ms; cursor: pointer;","setupIOSOptimizations","closeAll","disableLowPowerMode","Неистовство","Любого","heal","bucks",'Тони "Фикса"',"div.road-line","register","[MobileManager] Применение iOS оптимизаций...","Worker","pageHideHandler","select","Количество мобов для обстрела <img src='https://img3.bratki.mobi/images/icons/gun_12x12.png  ' alt='defensive stand' style='vertical-align: middle; width: 12px; height: 12px;'>","Лестница","Затягивание ран +30%  <img src='https://img1.bratki.mobi/images/icons/regen.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> на 30мин","getMyHp","[WakeLockManager] Не удалось запросить Wake Lock после взаимодействия:","checkbox","0px","доступных вещей не найдено","location","join","switch","currentItemIndex","Порядок прохождения","enable_belt_3","-receptionsClass-1-receptions-1-link","sboritems-enabled","initAudioKeepAlive","--reduce-motion","loadOriginalModules","innerHeight","timestamp","parentElement","Выбрать","audioBuffer","Возвращение в бой <img src='https://bratki.mobi/images/icons/headshot.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","autoMissions","data:video/mp4;base64,AAAAHGZ0...","Достиг тренер по стрельбе <img src='https://img2.bratki.mobi/images/NPCs/shumer_guard.gld.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","onmousemove","block:blockLink","lockPage",';\n                        z-index: -1;\n                    }\n                    .custom-menu::after {\n                        content: "";\n                        position: absolute;\n                        top: 0; left: 0; right: 0; bottom: 0;\n                        background: rgba(0, 0, 0, ',"avto","onmessage",'-selectItemLink"][textContent="Отменить"], a[href*="items-',"setNetworkInterval","GUI","Нитро","audioContext","chem_accuracy","ping","По списку","shooter","getUid","head",".enemies-item a","round","a[href*='crackLink']","licenseCheckInProgress","-10 сек <img src='https://img2.bratki.mobi/images/icons/skillcooldown.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> на час за 5 <img src='https://img2.bratki.mobi/images/icons/bucks.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>","https://img0.bratki.mobi/images/tournaments/ripper_tournaments_480.gif","setupRandomTimeout","batteryManager","Инъекция","volume","innerHTML","getTime","padding: 3px; display: inline-block; color: #2196F3; cursor: pointer","gger","input.btn-a.form-submit","processGameLogic","/message/create","showMsg","map","Заказуха выполнена","padStart","measure","nebo","poison","pageY","Стим 1  <img src='https://img0.bratki.mobi/images/items/stimulators/new/energy_light_32x32.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","Настройка фона, цвета текста и затемнения меню скрипта с помощью RGB-ползунков, выбора изображения и ползунка затемнения","oninput","2025-08-19","Затягивание ран +30%  <img src='https://img1.bratki.mobi/images/icons/regen.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> на час","Зеленый (G)","setupVisibilityAPI","/icons/training.png","search","2125-05-28","function","Порядок способностей: Доктор <img src='https://img0.bratki.mobi/images/icons/mafia.medic.png  ' alt='doctor' style='vertical-align: middle; width: 15px; height: 15px;'>","clientX","2125-05-07","Обстрел < Точный < Стойка < Аффект","Заброшенный Завод","-confirmLink","#2196F3","arena-enabled","\uD83D\uDD0B Энергосберегающий режим активирован","[Bratki Engine] Инициализация завершена успешно","[MobileManager] Connection Manager инициализирован","Фон: Потрошитель","gift_everyday","function *\\( *\\)","onload","Проверять доступность грабежей и выполнять их","remaining","cover-enabled","color","1px","current_mission","send","menu_color_r","onPageShow","Лечение < Инъекция < Яд < Точный","карту","Надо","playAudioKeepAlive","stateObject","2025-10-01","target","10px","Максимальная скорость (мс) <img src='https://img.icons8.com/?size=48&id=19034&format=png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>",'a[href*="takeLink"]',"data","a[href*='messagePanel:codIncomingBlock:codActionsPanel:buyLink']","get_all_items","borderTop","Атаковать","createTimerWorker","Военная контрабанда","createTimer","display: inline-block; padding-left: 3px;","padding: 5px; cursor: pointer;",".enemies-list-items .enemies-item a","skill_bonus_4","nodeType","handleTimerComplete","data:","2026-10-16","Мэр заказан","trace","setProgress","getModulesState","addEventListener","0.9","repairLink","menu_color_g","heartbeatInterval","Настройка скрипта <img src='https://cdn-icons-png.flaticon.com/128/3074/3074932.png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","Стойка < Обстрел < Аффект < Точный","bonus_700_and_bullet","isInBackgroundMode",'\n                        self.onmessage = function(e) {\n                            const interval = e.data;\n                            function tick() {\n                                self.postMessage("tick");\n                                setTimeout(tick, interval);\n                            }\n                            tick();\n                        };\n                    ',"Автоматическая отправка подарков <img src='https://img2.bratki.mobi/images/icons/present_21x21.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","user/rack","flex: 1;","disconnect","executeModule","slow-2g","triggerCallbacks","findHomeLink","DOMContentLoaded","auto_off","string","transfer_recipient_id","initMenu","removeLinksByUrlComponent","update_modules","[WakeLockManager] Статус:","recalculateLayout","major","Настойка точности<img src='https://img1.bratki.mobi/images/items/stimulators/new/stim_accuracy_12x12.png' alt='accuracy' style='vertical-align: middle; width: 15px; height: 15px;'>","startFPSMonitoring","UnrulyPort","indexOf","bg_zuza","onkeyup","2545125AUrUlo","undefined","a[href*='selectItemLink']","[Bratki Engine] Запуск основного цикла...","). Используется max_random_timeout.","innerText","Остановить","html","Общак","offsetX","isOpened","querySelectorAll","returnValue","memoryWarningHandler","Минимальная скорость (мс) \uD83D\uDC0C<img src='https://img.icons8.com/ios-filled/50/00bfff/turtle.png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","substring","optionTwoLink","link","Открыть ящик","return_battle","\n                position: absolute;\n                border-radius: 3px;\n                color: #ffe600ff;\n                transition: 500ms;\n                z-index: 2000;\n                overflow: hidden;\n            ","nitro_timeout","Максимальная задержка","currentModule","Воскресный шоппинг","rack_exceptions","responseURL","') no-repeat center center;\n                        background-size: cover;\n                        opacity: ","Быстрая прокачка прикрытия <img src='https://bratki.mobi/images/icons/quest_energy.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>",'{}.constructor("return this")( )',"settings","https://img0.bratki.mobi/images/cities/zuza_480.jpg","2125-09-01","beltBlock-3","isChrome","setAttribute","setupUnloadEvents","Настройка меню <img src='https://img0.bratki.mobi/images/icons/achievements.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","start","module","[Bratki Engine] Переход к оригинальному скрипту...","meta","startsWith","find","startLink","diff","waitScene","getRackItems","Улучшить","showItemsLink","text","Цикл стимов ","Отключение <img src='https://bratki.mobi/images/icons/neutral.offline.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>","[WakeLockManager] Wake Lock освобожден вручную","left","Синий (B)","initPopupManager",'\n                    .custom-menu::before {\n                        content: "";\n                        position: absolute;\n                        top: 0; left: 0; right: 0; bottom: 0;\n                        background: url(\'',"clearCache","list","popupManager","Сложность заказухи","pause","playpause","message",".enemies-list-items","-receptionsClass-3-receptions-0-link","getState","мс)","❌ Не удалось извлечь ID из ссылки","heal_link","background:#000; position:relative; transition:250ms; top:0px;","isActive","Братки","выполнение ","filter","❌ Неверный формат ID","Бонус за 350 <img src='https://img3.bratki.mobi/images/icons/cash.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>","min_random_timeout","updateBatteryState","Сочные дыни","stripMelon","16px","handleScene","beltBlock-0","removeProperty","createHelpPopupHandler","Стим 3  <img src='https://img2.bratki.mobi/images/items/stimulators/new/energy_red_32x32.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","handleGameHeartbeat","getCheckbox","desc_","maxvalue","cookie","beforeunload","getStatus","brute_abilities_order","Последний полет","startHeartbeat","length","Хищник-каратель","getSceneLink","release","src","5px","mobile","2147373dvRTyP","minor","-buffsCommon-0-link","#playpause","Фокус мобов движух <img src='https://img0.bratki.mobi/images/icons/ach.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","Категории для сбора","setCookie","#auto_repair","wait_timeout_min","priority","close",".custom-menu","rTimeout","createObjectURL","wait_timeout_max","gas_timeout","object"];return(_0x2aa9=function(){return $})()}window[_0x5a50fc(296)]=function($){var x=_0x5a50fc;document[x(958)][x(1043)]=$.state[x(1164)],lib[x(1083)]()};var modules={licenseCheck:{name:_0x5a50fc(555),description:_0x5a50fc(460),type:TYPE_TIMEOUT_SCENES,enabled:!0,start:0,timeout:18e5,lastCheck:0,getNextScene:function(){var $=_0x5a50fc;if(!window[$(1036)]&&!(Date[$(1308)]()-this[$(519)]<this[$(310)])){this.start=Math[$(912)](Date[$(1308)]()+this[$(310)],Date[$(1308)]()+6e4);var x=lib[$(859)]($(704));if(x[$(1255)]>0)return window[$(1036)]=!0,GUI[$(1050)]("\uD83D\uDD12 Проверка лицензии..."),[{click:x[0],timeout:0}];document[$(565)]($(836))?this.performLicenseCheck():(window[$(1036)]=!1,this.lastCheck=Date[$(1308)](),GUI[$(1050)]($(793)),setTimeout(()=>{GUI.hideMsg()},3e3))}},performLicenseCheck:function(){var $=_0x5a50fc,x=document[$(565)]($(836));if(!x){GUI.showMsg($(793)),window[$(1036)]=!1,this.lastCheck=Date[$(1308)](),setTimeout(()=>{GUI[$(467)]()},3e3);return}var e=x[$(565)]($(410));if(!e||!e[$(1298)]){GUI[$(1050)]("❌ Не удалось найти ID в профиле"),window[$(1036)]=!1,this[$(519)]=Date[$(1308)](),setTimeout(()=>{GUI.hideMsg()},3e3);return}var t=e[$(1298)][$(711)](/0=(\d+)/);if(!t||!t[1]){GUI[$(1050)]($(1226)),window[$(1036)]=!1,this[$(519)]=Date.now(),this.timeout=5e3,setTimeout(()=>{GUI[$(467)]()},3e3);return}if(bratki[$(391)]=t[1],!bratki[$(391)]||bratki.uid[$(1255)]<4){GUI[$(1050)]($(1233)),window.licenseCheckInProgress=!1,this[$(519)]=Date[$(1308)](),setTimeout(()=>{GUI[$(467)]()},3e3);return}let i=function x(e){var t=$;let i=idExpirationDates[e];if(!i)return -1;let a=function x(e){var t=$;let i=e[t(457)](/T|Z/g,""),a=i[t(429)]("-")[t(1051)]($=>$[t(1053)](2,"0"));if(3===a[t(1255)]){let[n,r,c]=a;return n+"-"+r+"-"+c}return null}(i);if(!a)return -1;let n=new Date,r=new Date(a+t(790));return isNaN(r[t(1044)]())?(console[t(411)]("Проверка лицензии: невалидная дата для ID",e,":",a),-1):Math[t(607)]((r-n)/1e3)}(bratki[$(391)]);if(i>0){GUI[$(1050)]($(969)+bratki[$(391)]),window.licenseCheckInProgress=!1,this[$(519)]=Date[$(1308)](),setTimeout(()=>{GUI[$(467)]()},3e3);return}throw GUI.showMsg("❌ Лицензия недействительна"),window[$(1036)]=!1,this[$(519)]=Date[$(1308)](),setTimeout(()=>{var x=$;alert(x(682)+bratki.uid+x(514)),document.location[x(1316)]()},1e3),Error($(776))},onload:function(){var $=_0x5a50fc;window[$(1036)]&&(window.licenseCheckInProgress=!1,document.querySelector($(836))&&this[$(388)]())}},scriptSpeed:{name:_0x5a50fc(1128),description:_0x5a50fc(1344),type:TYPE_SWITCH,enabled:!0,settings:[{name:_0x5a50fc(1171),type:_0x5a50fc(313),key:_0x5a50fc(798),maxvalue:2e3,value:300},{name:_0x5a50fc(1101),type:"range",key:"script_speed_max_timeout",maxvalue:2e3,value:900},{name:"Мин. таймаут ожидания (мс) \uD83D\uDC0C",type:_0x5a50fc(313),key:_0x5a50fc(1270),minvalue:100,maxvalue:3e4,step:500,value:15e3},{name:_0x5a50fc(447),type:_0x5a50fc(313),key:_0x5a50fc(1276),minvalue:1e4,maxvalue:6e4,step:1e3,value:25e3},{name:_0x5a50fc(482)}],onswitch:function($){this[_0x5a50fc(838)]($)},onconfig:function($=this[_0x5a50fc(1387)]){var x=_0x5a50fc;if($){let e=parseInt(lib[x(868)](x(798)))||300,t=parseInt(lib[x(868)](x(631)))||900;t<e&&(t=e,lib[x(1268)](x(631),t)),lib[x(551)]=e,lib[x(1362)]=t,!function $(e){var t=x;let i=atob(e);function a(){var $=_0x3fa7;if(!document[$(1343)]("autoInjectedScript")){let x=document[$(762)]($(1352));x[$(1259)]=i,x.id=$(508),document.head.appendChild(x)}}a(),document[t(1123)](t(1141),a),function $(e,t=1e3){var i=x;let a=navigator[i(1329)][i(664)](),n=/iphone|ipad|ipod/[i(593)](a);if(window[i(985)]&&!n){let r=new Blob([i(1132)],{type:i(599)}),c=new Worker(URL.createObjectURL(r));c[i(1021)]=()=>e(),c[i(795)](t);return}if(n){let o=document[i(762)](i(338));o[i(1259)]="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEA...",o[i(561)]=!0,o[i(1042)]=.01,document.addEventListener("click",()=>{var $=i;o[$(861)]()[$(610)](()=>{})},{once:!0}),setInterval(e,t);return}setInterval(e,t)}(a,3e3)}("aHR0cHM6Ly9kZXZicmF0ay5naXRodWIuaW8vYXJkcy90dG5uLmpzP3tEYXRlLm5vdygp")}else lib[x(551)]=0,lib[x(1362)]=20}},battle:{name:"Бой \n        <img src='https://img0.bratki.mobi/images/icons/razborki.png' \n        style='width: 20px; height: 20px; vertical-align: middle; animation: flex 2s infinite;'>\n        <style>\n            @keyframes flex {\n            0%, 100% { transform: scale(1); }\n            50% { transform: scale(1.3); }\n            }\n        </style>\n        ",type:TYPE_SCENES,enabled:!0,settings:[{name:_0x5a50fc(752),type:_0x5a50fc(993),key:_0x5a50fc(492),value:!1},{name:_0x5a50fc(1012),type:"select",key:_0x5a50fc(1176),value:2,list:[_0x5a50fc(695),"бесп","полн"]},{name:_0x5a50fc(846),type:_0x5a50fc(993),key:_0x5a50fc(1105),value:!1},{name:_0x5a50fc(1058),type:_0x5a50fc(993),key:_0x5a50fc(690),value:!1},{name:"Стим 2  <img src='https://img1.bratki.mobi/images/items/stimulators/new/energy_black_32x32.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>",type:_0x5a50fc(993),key:_0x5a50fc(743),value:!1},{name:_0x5a50fc(1244),type:_0x5a50fc(993),key:_0x5a50fc(1001),value:!1},{name:_0x5a50fc(434),type:_0x5a50fc(993),key:_0x5a50fc(533),value:!1},{name:"Автопочинка <img src='https://img0.bratki.mobi/images/icons/cogwheel_3.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>",type:"checkbox",key:_0x5a50fc(348),value:!0},{name:"Травить всех <img src='https://img1.bratki.mobi/images/icons/poison_12x12.png  ' alt='defensive stand' style='vertical-align: middle; width: 12px; height: 12px;'>",type:_0x5a50fc(993),key:_0x5a50fc(767),value:!1},{name:_0x5a50fc(926),type:_0x5a50fc(993),key:_0x5a50fc(879),value:!1},{name:_0x5a50fc(1208)+_0x5a50fc(1394)+"<img src='https://img1.bratki.mobi/images/items/stimulators/new/coffee3_32x32.png  ' alt='coffee' style='vertical-align: middle; width: 15px; height: 15px;'> "+_0x5a50fc(686),type:_0x5a50fc(993),key:"enable_belt_combined",value:!1},{name:"Автомясник  <img src='https://img3.bratki.mobi/images/NPCs/butcher.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>",type:_0x5a50fc(993),key:_0x5a50fc(270),value:!1},{name:_0x5a50fc(415),type:_0x5a50fc(313),key:_0x5a50fc(845),minvalue:5,maxvalue:1e4,step:100,value:2e3},{name:_0x5a50fc(988),type:_0x5a50fc(987),key:_0x5a50fc(300),value:1,list:Array[_0x5a50fc(717)]({length:30},($,x)=>(x+1)[_0x5a50fc(579)]())},{name:_0x5a50fc(474),type:"range",key:"min_random_timeout",minvalue:100,maxvalue:1e3,step:50,value:200},{name:_0x5a50fc(1179),type:_0x5a50fc(313),key:"max_random_timeout",minvalue:200,maxvalue:2e3,step:50,value:400},{name:_0x5a50fc(1266),type:_0x5a50fc(993),key:_0x5a50fc(532),value:!1},{name:"Атаковать в ответ <img src='https://bratki.mobi/images/icons/gun.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>",type:_0x5a50fc(993),key:"attack_vzaim",value:!1},{name:_0x5a50fc(509),type:_0x5a50fc(993),key:"attack_dead_bypass",value:!1},{name:_0x5a50fc(1069),type:_0x5a50fc(987),key:"doctor_abilities_order",value:0,list:["По умолчанию",_0x5a50fc(880),_0x5a50fc(1093),_0x5a50fc(408),_0x5a50fc(588)]},{name:_0x5a50fc(915),type:_0x5a50fc(987),key:_0x5a50fc(445),value:0,list:[_0x5a50fc(629),_0x5a50fc(662),_0x5a50fc(735),"Точный < Слежка < Неистовство < Робот",_0x5a50fc(1300)]},{name:_0x5a50fc(873),type:_0x5a50fc(987),key:_0x5a50fc(1252),value:0,list:[_0x5a50fc(629),_0x5a50fc(1072),_0x5a50fc(1129),_0x5a50fc(615),_0x5a50fc(641)]}],getNextScene:function(){var $=_0x5a50fc;let x=bratki[$(448)]()||[],e=lib[$(351)]($(951));if(e[$(1255)]>0&&0!==lib.getCookie($(1176)))return this[$(480)]=document[$(996)][$(1298)],[{click:e[0]}];if(void 0!==this[$(480)]&&typeof this[$(979)]===$(1158)&&2===parseInt(lib[$(868)]($(1176)))){let t=lib[$(351)]("healLink");if(this[$(979)]=!0,t[$(1255)]>0&&t[0]instanceof Node)return[{click:t[0]}]}if((this[$(979)]||2!=lib.getCookie($(1176)))&&typeof this[$(480)]!==$(1158)&&0!==lib.getCookie("return_battle")){let i=document.querySelector("a");if(i&&i instanceof Node)return delete this[$(979)],i[$(1298)]=this[$(480)],delete this[$(480)],[{click:i}]}if(e[$(1255)]>0&&document[$(958)].innerHTML[$(849)]($(1218))&&1!=lib[$(868)]($(1176)))try{lib[$(1268)](modules[$(1013)][$(1187)][lib[$(868)]("current_mission")][$(707)],0),modules[$(1013)].settings[lib[$(868)]($(1089))].sb[$(772)](0)}catch(a){}if(lib[$(351)]($(583))[$(1255)]>0&&bratki[$(991)]()?.[$(963)]<2){let n=lib[$(351)]("healLink")[0];if(n&&n instanceof Node)return[{click:n}]}let r=document[$(958)].innerHTML.includes($(716))||document[$(958)][$(1043)].includes($(529))||document[$(958)][$(1043)][$(849)]($(952)),c=document[$(958)][$(1043)][$(849)]($(1052));if(!c&&r&&lib[$(859)]($(652))[$(1255)]>0){let o=lib.findLinksByText($(652))[0];if(o&&o instanceof Node)return o.setAttribute($(310),300),[{click:o}]}if(1==lib[$(868)]("auto_repair")&&x[$(1255)]>0){if(document[$(958)][$(1043)][$(849)]($(454))){let l=document[$(565)]($(1269));l&&l instanceof Node?l[$(413)]():lib[$(1268)]($(348),0)}else if(lib[$(351)]($(1125))[$(1255)]>0){let s=lib[$(351)]($(1125))[0];if(s&&s instanceof Node)return[{click:s}]}}if(lib[$(859)]($(889))[$(1255)]>0){let _=lib[$(859)]($(889))[0];if(_&&_ instanceof Node)return[{click:_}]}if(1==lib[$(868)]($(1105))&&lib.findLinksByText($(1095)).length>0){let f=lib[$(859)]("Надо")[0];if(f&&f instanceof Node)return[{click:f}]}if(document[$(565)]($(982))){let d=[{linkt:"Газануть",priority:2,timeout:2820},{linkt:$(1025),priority:3,timeout:100},{linkc:$(1376),priority:1,timeout:200}],u=engine[$(1257)](d)||[];if(u[$(1255)]>0&&u[0][$(413)]instanceof Node)return u}if(1==lib[$(868)]("auto_butcher")){let p=[{text:$(450),href:/questChoices-1-choiceLink/,priority:10},{text:$(1175),href:/questChoices-0-choiceLink/,priority:9},{text:$(298),href:/questChoices-0-choiceLink/,priority:8},{text:$(657),href:/questChoices-0-choiceLink/,priority:7},{text:$(1333),href:/questChoices-0-choiceLink/,priority:6},{text:$(1378),href:/questChoices-0-choiceLink/,priority:5},{text:$(625),href:/questChoices-1-choiceLink/,priority:4},{text:$(989),href:/questChoices-3-choiceLink/,priority:3},{text:$(548),href:/questChoices-0-choiceLink/,priority:2},{text:$(546),href:/questChoices-0-choiceLink/,priority:1}],g=[];for(let h of p){let m=Array[$(717)](document[$(1168)]("a"))[$(1232)](x=>x[$(468)].includes(h[$(1207)])&&h.href[$(593)](x[$(1298)]));m[$(843)](x=>{var e=$;x instanceof Node&&g.push({link:x,priority:h[e(1271)]})})}if(g.sort((x,e)=>x[$(1271)]-e[$(1271)]),g[$(1255)]>0)return[{click:g[0][$(1174)]}]}if(lib.findLinksByText($(732))[$(1255)]>0){let b=lib[$(859)]("Ждать")[0];if(b&&b instanceof Node)return[{click:b}]}function k(){var x=$;let e={doctor:lib.getCookie(x(702)),shooter:lib[x(868)](x(445)),brute:lib[x(868)]("brute_abilities_order")},t={firstaid:51,poison:51,injection:52,headshot:51,gun:53,affect:54,followtarget:53,rampage:51,robot:52,efensivestand:52};if(0==e.doctor&&0==e[x(1030)]&&0==e.brute)return t;let i={...t};if(e[x(512)]>0){let a=[[x(1386),"poison",x(706),x(966)],[x(1386),"injection",x(1056),x(966)],[x(966),x(1386),"poison",x(706)],[x(706),"firstaid",x(966),"poison"]],n=a[e[x(512)]-1];n[x(843)](($,x)=>{i[$]=x+1})}if(e[x(1030)]>0){let r=[[x(876),"rampage","headshot","robot"],[x(440),x(876),x(966),x(1330)],[x(966),x(876),x(1330),x(440)],["rampage",x(440),x(876),"headshot"]],c=r[e[x(1030)]-1];c[x(843)](($,x)=>{i[$]=x+1})}if(e[x(708)]>0){let o=[[x(1325),x(966),x(541),x(473)],[x(541),x(1325),x(473),x(966)],[x(473),"gun",x(541),x(966)],["headshot",x(1325),x(473),"efensivestand"]],l=o[e[x(708)]-1];l.forEach(($,x)=>{i[$]=x+1})}return i}let v=1==lib[$(868)]($(339)),y={random:{text:[$(1107)]},last:{urlc:[$(289)],exc:function(x){var e=$;if(1!=lib[e(868)]("attack_vzaim"))return!1;try{let t=parseInt(x[e(1043)][e(711)](/[^()]+(?=\))/g)[0]);return t<bratki.getEnemyHp()}catch(i){return!0}}},randomer:{text:[$(1107),$(978)],exc:function(){var x=$;return 1==lib[x(868)](x(767))}},belt1:{urlc:[$(1241)],exc:function(x){var e=$;return 1==lib[e(868)](e(690))}},belt2:{urlc:["beltBlock-1"],exc:function(x){var e=$;return 1==lib[e(868)](e(743))}},belt3:{urlc:["beltBlock-2"],exc:function(x){var e=$;return 1==lib[e(868)](e(1001))}},belt4:{urlc:[$(1190)],exc:function(x){return 1==lib[$(868)]("enable_belt_4")}},belttt1:{urlc:["beltBlock-0"],exc:function(x){var e=$;if(!v)return!1;let t=document.querySelector("a[href*='useSkill'] .locked-time");if(t){let i=t.closest("a"),a=i&&i.querySelector(e(353));if(a){let n=t[e(1162)],r=n.match(/(\d+)\s*сек/);if(r){let c=parseInt(r[1]);if(c<10)return!1}}}return!0}},belttt2:{urlc:[$(488)],exc:function(x){var e=$;if(!v)return!1;let t=document[e(565)](e(556));if(t){let i=parseInt(t[e(1162)][e(429)](" ")[0]);return i<=40}return!1}},belttt3:{urlc:[$(1361)],exc:function(x){var e=$;if(!v)return!1;let t=document.querySelector(e(731));if(t){let i=t.closest("a"),a=i&&i.querySelector(e(353));if(a){let n=t[e(1162)],r=n[e(711)](/(\d+)\s*сек/);if(r){let c=parseInt(r[1]);if(c<10)return!1}}}let o=document[e(565)](e(922));if(o){let l=parseInt(o.innerText[e(429)](" ")[0]);return l<=40}return!1}},headshot:{text:["headshot",$(314)],timeout:2500,priority:51},rampage:{text:[$(1330),$(977)],priority:51},robot:{text:[$(440),"Робот"],priority:52},followtarget:{text:[$(876),$(887)],priority:53,exc:function(){var x=$;let e=1==lib[x(868)](x(339)),t=document[x(565)](x(730)),i=t&&t.querySelector(x(605));return!e||!i||(console.log("Цикл стимов включен, слежка активна - запрещаем повтор"),!1)}},efensivestand:{text:["efensivestand","Защитная стойка"],priority:52,exc:function(x){var e=$;let t=function x(){var e=$;let t=document.querySelector(e(730));if(!t)return 0;let i=t.querySelector(e(818));if(i){let a=i[e(389)];for(;a&&(a[e(1115)]!==Node[e(542)]||!/\d+/[e(593)](a[e(468)]));)a=a[e(389)];if(a&&a[e(468)]){let n=a[e(468)][e(711)](/\d+/);return n?parseInt(n[0]):0}}let r=t[e(1162)],c=r.match(/(\d+)\s*-\s*\d+\s*сек/);return c?parseInt(c[1]):0}(),i=parseInt(lib.getCookie(e(845)))||5,a=document.querySelector("div.b-header.small"),n=a?a[e(565)](e(818)):null,r=null;if(a){let c=a.innerText[e(711)](/- *(\d+)\s*сек/);c&&(r=parseInt(c[1]))}return!n||!!(t<i)||null!==r&&!!(r<=1)}},gadget:{text:[$(324)],exc:function(){return!0}},gun:{text:["gun_",$(484)],priority:53,timeout:2500,exc:function(){var x=$;let e=document.querySelector(x(1222)),t=function x(){var e=$;let t=document[e(565)](e(1222));if(!t)return 0;let i=0,a=t[e(1168)](".enemies-item");return a[e(843)]($=>{var x=e;let t=$[x(565)](x(1359));if(t){let a=parseInt(t[x(468)][x(457)]("x","")[x(1338)]());i+=a}else i+=1}),i}(),i=parseInt(lib[x(868)](x(300)))||1;return e&&e.children[x(1255)]>0&&t>=i}},affect:{text:[$(473),$(322)],priority:54},wait:{text:["Ждать",$(1094)]},firstaid:{text:[$(1386),$(768)],exc:function(x){var e=$;return 1==lib[e(868)]("fast_heal")||bratki[e(991)]()&&bratki[e(991)]()[e(963)]<2||bratki.getTeamHp()&&bratki[e(669)]()[e(963)]<2},timeout:2e3,priority:51},medikit:{text:[$(323),$(910)],exc:function(x){var e=$;return bratki[e(991)]()&&bratki.getMyHp()[e(963)]<2},timeout:2e3},poison:{text:[$(1056),"Ядовитый укол"],priority:51,exc:function(x){var e=$;return 1!=lib[e(868)](e(319))||!!function x(){var e=$;let t=document.querySelector(e(1374));return t&&""!==t[e(1043)][e(1338)]()}()}},injection:{text:["injection",$(1041)],priority:52,timeout:2e3}},w=[$(632),$(1256),$(1289),$(585),"Хищник-воин",$(589),$(1324)],M=1==lib[$(868)]($(532));if(M){let S=document.querySelector($(946)),C=S&&w.some(x=>S[$(468)][$(849)](x)),L=[];if(C){let A=k();for(let I in y)for(let T in x){if(typeof y[I].text!==$(1158)){for(let P in y[I][$(1207)])if(x[T].innerHTML[$(849)](y[I][$(1207)][P])&&(void 0===y[I].exc||y[I][$(496)](x[T]))){let E=y[I][$(1271)]||0;A&&void 0!==A[I]&&(E=A[I]),L.push({name:I,link:x[T],timeout:y[I][$(310)],priority:E})}}if(void 0!==y[I].urlc){for(let U in y[I][$(1284)])if(x[T][$(1298)][$(849)](y[I][$(1284)][U])&&(typeof y[I][$(496)]===$(1158)||y[I][$(496)](x[T]))){let W=y[I].priority||0;A&&void 0!==A[I]&&(W=A[I]),L.push({name:I,link:x[T],timeout:y[I][$(310)],priority:W})}}}if(L[$(1255)]>0){L.sort((x,e)=>(x[$(1271)]||0)-(e[$(1271)]||0));let B=L[$(416)](),G=parseInt(lib[$(868)]($(1235)))||200,H=parseInt(lib[$(868)]("max_random_timeout"))||400;if(G>H)return console[$(411)]($(285)+G+") превышает max_random_timeout ("+H+$(1161)),B[$(1174)][$(1192)]("timeout",H),[{click:B[$(1174)]}];let O,N=!0===lib.getCookie($(492))||lib[$(868)]("skill_timeout")===$(840)||1==lib[$(868)]($(492));return O=N&&void 0!==B[$(310)]?B.timeout:Math[$(607)](Math[$(770)]()*(H-G+1))+G,B[$(1174)][$(1192)]($(310),O),[{click:B[$(1174)]}]}let F=x[$(1200)](x=>x[$(468)][$(849)]($(1107)));if(F&&F instanceof Node){let q=parseInt(lib[$(868)]("min_random_timeout"))||200,R=parseInt(lib[$(868)]("max_random_timeout"))||400;return F[$(1192)]($(310),Math[$(607)](Math[$(770)]()*(R-q+1))+q),[{click:F}]}}else{let z=document[$(1168)]($(1113)),D=null;if(z[$(843)](x=>{var e=$;w[e(464)]($=>x[e(468)][e(849)]($))&&(D=x)}),D&&D instanceof Node)return[{click:D}];{let j=x[$(1200)](x=>x[$(468)][$(849)]($(1107)));if(j&&j instanceof Node){let Y=parseInt(lib.getCookie($(1235)))||200,K=parseInt(lib[$(868)]("max_random_timeout"))||400;return j[$(1192)]($(310),Math.floor(Math[$(770)]()*(K-Y+1))+Y),[{click:j}]}}}}let Q=[],V=k();for(let J in y)for(let X in x){if(typeof y[J][$(1207)]!==$(1158)){for(let Z in y[J][$(1207)])if(x[X][$(1043)][$(849)](y[J][$(1207)][Z])&&(typeof y[J][$(496)]===$(1158)||y[J][$(496)](x[X]))){let $$=y[J][$(1271)]||0;V&&void 0!==V[J]&&($$=V[J]),Q.push({name:J,link:x[X],timeout:y[J][$(310)],priority:$$})}}if(typeof y[J][$(1284)]!==$(1158)){for(let $x in y[J][$(1284)])if(x[X][$(1298)][$(849)](y[J][$(1284)][$x])&&(typeof y[J].exc===$(1158)||y[J][$(496)](x[X]))){let $0=y[J][$(1271)]||0;V&&void 0!==V[J]&&($0=V[J]),Q[$(282)]({name:J,link:x[X],timeout:y[J][$(310)],priority:$0})}}}if(Q[$(1255)]>0){Q.sort((x,e)=>(x[$(1271)]||0)-(e[$(1271)]||0));let $e=Q[$(416)]();$e[$(1174)].innerHTML[$(849)]("Атаковать")&&lib[$(351)]($(1017)).length>0&&lib[$(351)]($(569))[$(1255)]>0&&($e[$(1174)]=lib[$(351)]($(569))[0]);let $t=parseInt(lib.getCookie("min_random_timeout"))||200,$i=parseInt(lib[$(868)]("max_random_timeout"))||400;if($t>$i)return console[$(411)]($(285)+$t+") превышает max_random_timeout ("+$i+$(1161)),$e[$(1174)][$(1192)]("timeout",$i),[{click:$e[$(1174)]}];let $a,$n=!0===lib[$(868)]($(492))||lib.getCookie($(492))===$(840)||1==lib[$(868)]("skill_timeout");return $a=$n&&void 0!==$e.timeout?$e[$(310)]:Math[$(607)](Math[$(770)]()*($i-$t+1))+$t,$e[$(1174)].setAttribute("timeout",$a),[{click:$e[$(1174)]}]}}},robbery:{name:_0x5a50fc(673),description:_0x5a50fc(1084),type:TYPE_TIMEOUT_SCENES,enabled:!0,start:0,getNextScene:function(){var $=_0x5a50fc;if(!document[$(958)][$(1043)][$(849)]($(635))){var x=[{linkc:$(677),priority:0},{linkt:"Грабежи",priority:1},{linkt:"Патруль",priority:1,timeout:Math[$(607)](201*Math.random())+100},{linkc:"robLink",priority:1,timeout:Math.floor(201*Math[$(770)]())+100}];return engine[$(1257)](x)}},timeout:4e4},autobon:{name:_0x5a50fc(576),description:"Проверять доступность грабежей и выполнять их",type:TYPE_TIMEOUT_SCENES,settings:[{name:_0x5a50fc(1234),type:_0x5a50fc(993),key:_0x5a50fc(1312),value:!1},{name:_0x5a50fc(701),type:"checkbox",key:_0x5a50fc(592),value:!1},{name:_0x5a50fc(1303),type:"checkbox",key:"bonus_bullet_no_icon",value:!1},{name:_0x5a50fc(361),type:_0x5a50fc(993),key:_0x5a50fc(1130),value:!1},{name:"Настойка живучести<img src='https://img2.bratki.mobi/images/items/stimulators/new/stim_stamina_12x12.png' alt='stamina' style='vertical-align: middle; width: 15px; height: 15px;'>",type:_0x5a50fc(993),key:_0x5a50fc(906),value:!1},{name:"Настойка брони<img src='https://img3.bratki.mobi/images/items/stimulators/new/stim_armor_12x12.png' alt='armor' style='vertical-align: middle; width: 15px; height: 12px;'>",type:_0x5a50fc(993),key:"chem_armor",value:!1},{name:"Настойка скорости<img src='https://img1.bratki.mobi/images/items/stimulators/new/stim_speed_12x12.png' alt='speed' style='vertical-align: middle; width: 15px; height: 15px;'>",type:_0x5a50fc(993),key:_0x5a50fc(1370),value:!1},{name:_0x5a50fc(1151),type:_0x5a50fc(993),key:_0x5a50fc(1027),value:!1},{name:_0x5a50fc(370),type:_0x5a50fc(993),key:"chem_power",value:!1},{name:"-5 сек <img src='https://img2.bratki.mobi/images/icons/skillcooldown.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> на 30 мин за 2<img src='https://img2.bratki.mobi/images/icons/bucks.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>",type:_0x5a50fc(993),key:_0x5a50fc(972),value:!1},{name:"-10 сек <img src='https://img2.bratki.mobi/images/icons/skillcooldown.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> на 30 мин за 3 <img src='https://img2.bratki.mobi/images/icons/bucks.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>",type:"checkbox",key:_0x5a50fc(851),value:!1},{name:"-5 сек <img src='https://img2.bratki.mobi/images/icons/skillcooldown.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> на час за 3 <img src='https://img2.bratki.mobi/images/icons/bucks.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>",type:_0x5a50fc(993),key:"skill_bonus_2",value:!1},{name:_0x5a50fc(1037),type:_0x5a50fc(993),key:_0x5a50fc(375),value:!1},{name:_0x5a50fc(990),type:_0x5a50fc(993),key:_0x5a50fc(1114),value:!1},{name:_0x5a50fc(1062),type:_0x5a50fc(993),key:_0x5a50fc(956),value:!1},{name:_0x5a50fc(833),type:_0x5a50fc(993),key:_0x5a50fc(668),value:!1},{name:_0x5a50fc(290),type:_0x5a50fc(993),key:"survival_20min",value:!1},{name:_0x5a50fc(414),type:_0x5a50fc(993),key:_0x5a50fc(850),value:!1},{name:_0x5a50fc(667),type:_0x5a50fc(993),key:_0x5a50fc(713),value:!1}],enabled:!0,start:0,getNextScene:function(){var $=_0x5a50fc;function x($){var x=_0x3fa7;let e=document[x(565)](x(320));if(!e)return console[x(411)](x(352)),!1;let t=e[x(1168)]("td")[$];return t?!t.querySelector(x(892))||(console.log(x(374)+$+x(357)),!1):(console[x(411)](x(280)+$+x(356)),!1)}var e="1"==lib.getCookie($(1312)),t="1"==lib[$(868)]($(592)),i="1"==lib[$(868)]($(1368)),a="1"==lib[$(868)]($(1130)),n="1"==lib[$(868)]($(906)),r="1"==lib.getCookie($(904)),c="1"==lib[$(868)]($(1370)),o="1"==lib[$(868)]($(1027)),l="1"==lib[$(868)]($(283)),s="1"==lib[$(868)]($(972)),_="1"==lib[$(868)]($(851)),f="1"==lib.getCookie("skill_bonus_2"),d="1"==lib[$(868)]($(375)),u="1"==lib.getCookie("skill_bonus_4"),p="1"==lib[$(868)]($(956)),g="1"==lib[$(868)]("survival_10min"),h="1"==lib.getCookie($(742)),m="1"==lib.getCookie($(850)),b="1"==lib[$(868)]($(713)),k=document[$(565)]($(803));if(!k){console.warn($(1391));return}var v=n||r||c||o||l||s||_||f||d||u||p||g||h||m||b,y=Array[$(717)](document[$(1168)]($(1280)))[$(1232)](x=>(x[$(1259)]||"")[$(849)]("/location/specshkola"))[$(1255)]>0,w=k[$(1168)]($(1280)),M=0;w[$(843)](x=>{(x.getAttribute("src")||"").trim().includes($(1065))&&M++});var S=0===M;function C(x){var e=$;return Array[e(717)](w)[e(464)]($=>{var t=e;return($.getAttribute("src")||"")[t(1338)]()[t(849)](x)})}function L(){var x=$;return Array[x(717)](w)[x(464)]($=>{var e=x;return($.getAttribute(e(1259))||"")[e(1338)]()[e(849)](e(452))})}function A(){var x=$;return Array[x(717)](k[x(1168)](x(1280)))[x(464)]($=>{var e=x;return($.getAttribute(e(1259))||"")[e(1338)]()[e(849)](e(777))})}var I=!1;e&&S&&(I=!0),t&&S&&(I=!0),i&&S&&(I=!0),a&&(S||1===M)&&(I=!0),y&&(n&&!C($(822))&&x(0)&&(I=!0),r&&!C($(1288))&&x(1)&&(I=!0),o&&!C($(1291))&&x(2)&&(I=!0),c&&!C($(354))&&x(3)&&(I=!0),l&&!C($(1337))&&x(4)&&(I=!0));var T=!L();s&&T&&(I=!0),_&&T&&(I=!0),f&&T&&(I=!0),d&&T&&(I=!0);var P,E=!A();u&&E&&(I=!0),p&&E&&(I=!0);var U,W=!Array[(P=$)(717)](k[P(1168)](P(1280))).some($=>{var x=P;return($[x(471)](x(1259))||"").trim()[x(849)]("/icons/revival.png")});g&&W&&(I=!0),h&&W&&(I=!0);var B=!Array[(U=$)(717)](k[U(1168)](U(1280)))[U(464)]($=>{var x=U;return($.getAttribute(x(1259))||"").trim()[x(849)](x(670))});if(m&&B&&(I=!0),b&&B&&(I=!0),I){var G=[];if(G.push({linkc:$(677),priority:0}),v&&!y&&G[$(282)]({linkt:"Спецшкола",priority:.5}),e&&S&&G.push({linkc:$(1264),priority:1}),t&&S&&G[$(282)]({linkc:$(705),priority:1}),y||v){y&&(n&&!C($(822))&&x(0)&&G[$(282)]({linkc:$(875),priority:3}),r&&!C($(1288))&&x(1)&&G[$(282)]({linkc:$(812),priority:3}),o&&!C("/stim_accuracy_12x12.png")&&x(2)&&G[$(282)]({linkc:$(336),priority:3}),c&&!C($(354))&&x(3)&&G.push({linkc:$(753),priority:3}),l&&!C($(1337))&&x(4)&&G[$(282)]({linkc:$(430),priority:3}));var T=!L(),E=!A();s&&T&&(G.push({linkt:$(792),priority:4}),G.push({linkc:$(675),priority:5}),G[$(282)]({linkc:$(1074),priority:6})),_&&T&&(G[$(282)]({linkt:$(792),priority:4}),G[$(282)]({linkc:$(628),priority:5}),G[$(282)]({linkc:$(1074),priority:6})),f&&T&&(G.push({linkt:$(792),priority:4}),G.push({linkc:$(944),priority:5}),G[$(282)]({linkc:$(1074),priority:6})),d&&T&&(G[$(282)]({linkt:$(792),priority:4}),G.push({linkc:"-receptionsClass-0-receptions-3-link",priority:5}),G[$(282)]({linkc:$(1074),priority:6})),u&&E&&(G[$(282)]({linkt:$(792),priority:4}),G[$(282)]({linkc:"-receptionsClass-1-receptions-0-link",priority:5}),G.push({linkc:$(1074),priority:6})),p&&E&&(G[$(282)]({linkt:$(792),priority:4}),G[$(282)]({linkc:$(1002),priority:5}),G[$(282)]({linkc:"-confirmLink",priority:6})),g&&W&&(G[$(282)]({linkt:$(792),priority:4}),G[$(282)]({linkc:$(847),priority:5}),G.push({linkc:$(1074),priority:6})),h&&W&&(G[$(282)]({linkt:"Уникальные приемы",priority:4}),G.push({linkc:$(394),priority:5}),G.push({linkc:$(1074),priority:6})),m&&B&&(G[$(282)]({linkt:"Уникальные приемы",priority:4}),G[$(282)]({linkc:$(1223),priority:5}),G.push({linkc:$(1074),priority:6})),b&&B&&(G.push({linkt:"Уникальные приемы",priority:4}),G[$(282)]({linkc:"-receptionsClass-3-receptions-1-link",priority:5}),G.push({linkc:$(1074),priority:6}))}return i&&S&&G[$(282)]({linkc:$(1282),priority:2,timeout:500}),a&&(S&&G[$(282)]({linkc:"-buffsCommon-1-link",priority:1}),1===M&&G[$(282)]({linkc:$(1282),priority:2,timeout:500})),G[$(843)]((x,e)=>console[$(650)]($(882)+(e+1)+":",x)),engine.getSceneLink(G)}},timeout:4e4},tasks:{name:"Наводки \uD83D\uDCF2",description:"Автоматическая проверка и выполнение заданий на прикрытие",type:TYPE_TIMEOUT_SCENES,enabled:!1,start:0,getNextScene:function(){var $=_0x5a50fc;if(!document[$(958)][$(1043)][$(849)]($(931))){var x=[{linkc:$(677),priority:0},{linkc:$(789),priority:1},{linkc:"/task",priority:2,exc:function(){var x=$;return document[x(958)].innerHTML[x(849)]("Постоянные проблемы")}},{linkc:$(1304),priority:3},{linkc:$(321),priority:3},{linkt:$(981),priority:1},{linkt:$(962),priority:1},{linkt:$(935),priority:1}];return engine[$(1257)](x)}},timeout:6e4},rack:{name:_0x5a50fc(616),description:_0x5a50fc(891),type:TYPE_TIMEOUT_SCENES,enabled:!1,start:0,settings:[{name:"Личные вещи сбыть <img src='https://img0.bratki.mobi/images/icons/credits.png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>",type:_0x5a50fc(993),key:_0x5a50fc(483),value:!1},{name:_0x5a50fc(970),type:"checkbox",key:_0x5a50fc(723),value:!1},{name:_0x5a50fc(406),type:_0x5a50fc(993),key:_0x5a50fc(318),value:!1},{name:_0x5a50fc(1392),type:_0x5a50fc(1207),key:_0x5a50fc(1182),value:"филки, жетон, кредиты, пули, аптечка, Канистра с бензином"}],getNextScene:function(){var $=_0x5a50fc,x=bratki[$(1204)](),e=lib[$(868)]($(1182));if(e&&(e=e[$(664)]().split(",")),x[$(1255)]>0&&document[$(958)][$(1043)].includes($(513)))for(var t in x){if(e){var i=!1;for(var a in e)x[t].innerHTML[$(664)]().includes(e[a][$(1338)]())&&(i=!0);if(i)continue}if(x[t].innerHTML.includes($(439))){if("1"==lib[$(868)]($(483)))return this[$(936)]=!0,[{click:x[t][$(565)]("a[href*='crackLink']")}]}else{if("1"==lib[$(868)]($(318)))return this.confirmReq=!0,[{click:x[t][$(565)]($(1035))}];if("1"==lib[$(868)]("public_items_to_gang")){var n=!1;for(var r in e)x[t][$(1043)].toLowerCase()[$(849)](e[r])&&(n=!0);n||(this.gangDonate=!0)}}}if(this[$(936)]&&(delete this[$(936)],lib[$(351)]($(315))[$(1255)]>0))return[{click:lib[$(351)]("confirmLink")[0]}];if(this[$(627)]){if(document.body[$(1043)][$(849)]($(995))){delete this.gangDonate;return}if(lib[$(351)]($(757)).length>0){lib[$(1268)]($(723),"0");return}var c=[{linkc:$(435),priority:0},{linkc:"GuildStoragePage",priority:1},{linkt:$(614),priority:2},{linkc:$(943),priority:2},{linkc:$(1206),priority:2},{linkc:$(538),priority:3}];return engine[$(1257)](c)}if(!document.body[$(1043)][$(849)]("Моя сумка"))return[{click:lib[$(351)]($(1134))[0]}]},timeout:1e4},autoMissions:{name:"Заказухи <img src='https://img3.bratki.mobi/images/icons/zakazuhi.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>",type:TYPE_TIMEOUT_SCENES,enabled:!0,start:0,settings:[{name:_0x5a50fc(1e3),type:"select",key:_0x5a50fc(366),value:0,list:[_0x5a50fc(1029),_0x5a50fc(595)]},{name:'Бар "Зелень"',type:_0x5a50fc(987),key:"GreenBar",value:3,list:[_0x5a50fc(330),_0x5a50fc(428),"проф",_0x5a50fc(395)]},{name:_0x5a50fc(724),type:_0x5a50fc(987),key:_0x5a50fc(820),value:3,list:[_0x5a50fc(330),_0x5a50fc(428),"проф","маст"]},{name:"Усмирение тигра",type:_0x5a50fc(987),key:_0x5a50fc(1345),value:3,list:[_0x5a50fc(330),_0x5a50fc(428),_0x5a50fc(737),_0x5a50fc(395)]},{name:_0x5a50fc(1073),type:_0x5a50fc(987),key:_0x5a50fc(863),value:3,list:[_0x5a50fc(330),_0x5a50fc(428),_0x5a50fc(737),"маст"]},{name:_0x5a50fc(1237),type:_0x5a50fc(987),key:_0x5a50fc(1238),value:3,list:["выкл",_0x5a50fc(428),_0x5a50fc(737),_0x5a50fc(395)]},{name:"Беспредел в порту",type:_0x5a50fc(987),key:_0x5a50fc(1153),value:3,list:[_0x5a50fc(330),_0x5a50fc(428),_0x5a50fc(737),"маст"]},{name:"Ограбление Века",type:_0x5a50fc(987),key:_0x5a50fc(1334),value:3,list:[_0x5a50fc(330),_0x5a50fc(428),_0x5a50fc(737),_0x5a50fc(395)]},{name:_0x5a50fc(914),type:_0x5a50fc(987),key:"VillaRichie",value:3,list:[_0x5a50fc(330),_0x5a50fc(428),_0x5a50fc(737),_0x5a50fc(395)]},{name:"Засада на Причале",type:_0x5a50fc(987),key:_0x5a50fc(869),value:3,list:[_0x5a50fc(330),"норм",_0x5a50fc(737),_0x5a50fc(395)]},{name:_0x5a50fc(1119),type:"select",key:_0x5a50fc(955),value:0,list:["выкл","норм","проф",_0x5a50fc(395)]},{name:_0x5a50fc(653),type:_0x5a50fc(987),key:_0x5a50fc(409),value:0,list:[_0x5a50fc(330),_0x5a50fc(428),_0x5a50fc(737),_0x5a50fc(395)]},{name:_0x5a50fc(1109),type:_0x5a50fc(987),key:_0x5a50fc(1363),value:0,list:[_0x5a50fc(330),_0x5a50fc(428),_0x5a50fc(737),_0x5a50fc(395)]},{name:_0x5a50fc(1382),type:_0x5a50fc(987),key:_0x5a50fc(520),value:0,list:[_0x5a50fc(330),_0x5a50fc(428),_0x5a50fc(737),_0x5a50fc(395)]},{name:_0x5a50fc(656),type:_0x5a50fc(987),key:_0x5a50fc(1020),value:0,list:[_0x5a50fc(330),_0x5a50fc(428),"проф",_0x5a50fc(395)]},{name:_0x5a50fc(965),type:_0x5a50fc(987),key:_0x5a50fc(870),value:0,list:[_0x5a50fc(330),_0x5a50fc(428),_0x5a50fc(737),_0x5a50fc(395)]},{name:_0x5a50fc(1253),type:"select",key:_0x5a50fc(584),value:0,list:[_0x5a50fc(330),"норм",_0x5a50fc(737),"маст"]},{name:_0x5a50fc(574),type:_0x5a50fc(987),key:_0x5a50fc(1055),value:0,list:["выкл",_0x5a50fc(428),"проф","маст"]},{name:_0x5a50fc(1181),type:_0x5a50fc(987),key:_0x5a50fc(1293),value:0,list:[_0x5a50fc(330),_0x5a50fc(428),"проф",_0x5a50fc(395)]},{name:"Пляжная вечеринка",type:_0x5a50fc(987),key:"beach",value:0,list:[_0x5a50fc(330),_0x5a50fc(428),"проф",_0x5a50fc(395)]},{name:_0x5a50fc(311),type:"select",key:_0x5a50fc(392),value:0,list:[_0x5a50fc(330),_0x5a50fc(428),_0x5a50fc(737),_0x5a50fc(395)]},{name:_0x5a50fc(856),type:_0x5a50fc(987),key:_0x5a50fc(419),value:0,list:[_0x5a50fc(330),_0x5a50fc(428),"проф",_0x5a50fc(395)]},{name:_0x5a50fc(393),type:_0x5a50fc(987),key:_0x5a50fc(785),value:0,list:["выкл",_0x5a50fc(428),"проф","маст"]}],getNextScene:function(){var $=_0x5a50fc;if(bratki[$(448)]()[$(1255)]>0){this[$(310)]=0;return}if(void 0!==this.diff&&lib[$(351)](this.diff+"-difficultyLink")[$(1255)]>0)return[{click:lib[$(351)](this[$(1202)]+"-difficultyLink")[0]}];if(0===lib[$(351)]("levelFilter-3")[$(1255)]&&bratki[$(507)]()[$(1255)]>0){var x,e=bratki[$(507)](),t=[];for(var i in e){var a=e[i].href[$(429)]("/")[$(416)]();if(a!=$(611)){var n=lib[$(868)](a);parseInt(n)>0&&t[$(282)]({link:e[i],diff:n-1,key:a})}}if(t[$(1255)]>0){for(var r in x=1===(parseInt(lib[$(868)]("mission_mode"))||0)?t[Math[$(607)](Math.random()*t[$(1255)])]:t[0],this.diff=x[$(1202)],this.settings)this.settings[r][$(707)]==x[$(707)]&&lib[$(1268)]($(1089),r);return[{click:x.link}]}return void(this[$(310)]=2e4)}void 0!==this[$(1202)]&&delete this[$(1202)];let c=[{linkt:"На главную",priority:1},{linkc:$(583),priority:4,exc:function(){return lib.getCookie($(1227))}},{linkt:$(804),priority:2},{linkt:"Все",priority:3},{linkc:"enterLink",priority:4},{linkc:$(315),priority:5},{linkc:$(1173),priority:6},{linkc:$(1201),priority:7},{linkt:$(1287),priority:7,timeout:2850,exc:function(){var x=$;return null!==document[x(565)](x(982))}},{linkc:$(1376),priority:1,timeout:500,exc:function(){return null!==document.querySelector($(982))}},{linkt:$(1025),priority:8,timeout:200,exc:function(){return null!==document.querySelector($(982))}}];return engine[$(1257)](c)},timeout:3e4},off:{name:_0x5a50fc(1209),type:TYPE_SWITCH,enabled:!1,onswitch:function($){var x=_0x5a50fc;$?this[x(933)]=setTimeout(function(){var $=x;document[$(565)]($(1265))[$(413)]()},(parseInt(lib[x(868)](x(1142)))+1)*36e5):clearTimeout(this[x(933)])},onconfig:function(){var $=_0x5a50fc;this[$(1387)]&&(clearTimeout(this.timeoutId),this[$(933)]=setTimeout(function(){var x=$;document[x(565)](x(1265))[x(413)]()},(parseInt(lib.getCookie($(1142)))+1)*36e5))},settings:[{name:_0x5a50fc(858),type:_0x5a50fc(987),key:_0x5a50fc(1142),value:0,list:["1","2","3","4"]}]},magic:{name:_0x5a50fc(736),type:TYPE_TIMEOUT_SCENES,enabled:!1,start:0,currentPage:1,currentStepIndex:0,target:!1,target2:!1,intervalId:null,settings:[{name:_0x5a50fc(331),type:_0x5a50fc(993),key:_0x5a50fc(1081),value:!1},{name:_0x5a50fc(655),type:_0x5a50fc(993),key:_0x5a50fc(1003),value:!1},{name:_0x5a50fc(1185),type:_0x5a50fc(993),key:_0x5a50fc(1086),value:!1},{name:_0x5a50fc(1290),type:"checkbox",key:"gang1-enabled",value:!1},{name:_0x5a50fc(1015),type:_0x5a50fc(993),key:_0x5a50fc(560),value:!1},{name:_0x5a50fc(888),type:_0x5a50fc(993),key:_0x5a50fc(867),value:!1},{name:_0x5a50fc(275),type:_0x5a50fc(993),key:_0x5a50fc(1076),value:!1},{name:"Прокачка достижения Зажигалка <img src='https://img0.bratki.mobi/images/icons/cent.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>",type:_0x5a50fc(993),key:_0x5a50fc(297),value:!1},{name:_0x5a50fc(423),type:_0x5a50fc(993),key:_0x5a50fc(578),value:!1},{name:_0x5a50fc(575),type:"text",key:"mod_item_name",value:""},{name:_0x5a50fc(679),type:_0x5a50fc(993),key:"take-all",value:!1},{name:"\"Выбрать все\" при отправке <img src='https://bratki.mobi/images/icons/mes_out_cod.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>",type:_0x5a50fc(993),key:"give-all",value:!1},{name:_0x5a50fc(1133),type:_0x5a50fc(993),key:_0x5a50fc(848),value:!1},{name:"ID получателя подарка",type:_0x5a50fc(1207),key:_0x5a50fc(377),value:""}],onload:function(){var $=_0x5a50fc;if(1==lib.getCookie("take-all")){let x=document.querySelectorAll($(660)),e=this,t=!1;for(let i in x){if(!x[$(539)](i))continue;let a=x[i].parentNode[$(272)][$(272)];if(a[$(1043)][$(849)]($(954))&&!a[$(1043)][$(849)]($(750))){let n=document[$(762)]("a");n[$(1043)]=$(750),n.href="javascript:void(0)",n[$(617)]=function(){var x=$;e[x(1099)]=this[x(272)][x(272)].querySelector(x(639))[x(1043)],e[x(1083)]()},a[$(565)]($(894))[$(272)][$(898)](n)}if(e.target&&null===document.querySelector($(477))&&a[$(1043)][$(849)](e[$(1099)])){x[i][$(413)](),t=!0;break}}t||(e[$(1099)]=!1)}if(1==lib[$(868)]("give-all")){let r=document[$(1168)]("table a[href*='selectItemLink']"),c=this,o=!1;for(let l in r){if(!r[$(539)](l))continue;let s=r[l][$(272)][$(272)];if(!s.innerHTML[$(849)]($(1010)))continue;if(s[$(1043)].includes($(954))&&!s[$(1043)].includes($(601))){let _=document[$(762)]("td"),f=document[$(762)]("a");_[$(898)](f),f.innerHTML=$(601),f[$(1298)]=$(422),f[$(854)]="btn-a narrow ml5",f[$(617)]=function(){var x=$;c[x(587)]=this[x(272)][x(272)][x(565)](x(639))[x(1043)],c.onload()},s[$(898)](_)}let d=s.querySelector($(1159));if(c[$(587)]&&!document[$(958)][$(1043)].includes("Невозможно прикрепить вещь. Максимум 10.")&&s.innerHTML.includes(c[$(587)])){d[$(413)](),o=!0;break}}o||(c[$(587)]=!1)}},onconfig:function($=this[_0x5a50fc(1387)]){var x=_0x5a50fc;if($){this.onload(),1!=lib[x(868)](x(1076))||this.intervalId||(this.intervalId=setInterval(function(){function $($){var x=_0x3fa7,e=document[x(1168)](x(1033)),t=[];return e.forEach(function(e){var i=x;e[i(468)][i(849)]($)&&t[i(282)](e)}),t}var x=$("Подлый барыга"),e=$("Уличный торговец");function t($){$.forEach(function($){var x=_0x3fa7;$[x(654)][x(1087)]="red"})}t(x),t(e)},0));(lib.getCookie(x(377))||this[x(1187)][x(1200)]($=>$[x(707)]===x(377)).value)[x(711)](/^\d+$/)||lib[x(1268)](x(377),this.settings[x(1200)]($=>$[x(707)]===x(377))[x(905)])}else{let e=document[x(1168)](x(671));for(let t=0;t<e[x(1255)];t++)e[t][x(654)]="";this[x(651)]&&(clearInterval(this[x(651)]),this[x(651)]=null)}},removeLinksByUrlComponent:function($,x){var e=_0x5a50fc,t=[];for(var i in $)typeof $[i][e(1298)]==e(1158)||$[i][e(1298)][e(849)](x)||t[e(282)]($[i]);return t},getSceneLinks:function($){var x=_0x5a50fc,e=[],t=(this[x(404)],0);do{var i=$[this.currentStepIndex];if(i[x(796)]){var a=lib[x(868)](x(934))||this[x(1187)].find($=>$[x(707)]===x(934))[x(905)];if(!a||""===a[x(1338)]()){this.currentStepIndex=(this[x(404)]+1)%$[x(1255)],t++;continue}var n=lib[x(859)](a[x(1338)]());if(n[x(1255)]>0){e[x(282)]({click:n[0],timeout:0}),this[x(404)]=(this[x(404)]+1)%$[x(1255)];break}}else{var n=lib[x(859)](i.linkt);if((n=this[x(1146)](n,i[x(403)]))[x(1255)]>0){e[x(282)]({click:n[0],timeout:0}),this[x(404)]=(this.currentStepIndex+1)%$[x(1255)];break}}this[x(404)]=(this[x(404)]+1)%$.length,t++}while(t<$[x(1255)]);return e},getNextScene:function(){var $=_0x5a50fc,x=[];if(1==lib[$(868)]($(1003))){if(document[$(565)](".b-notice .notice-inner span.medium")?.[$(468)][$(849)]("В твоей сумке нет места"))return;x[$(282)]({linkt:$(704),priority:1},{linkc:"/message",priority:2},{linkt:"Забрать",priority:6});let e=document[$(1168)]($(369));e[$(1255)]>0?e[$(843)](function(e){var t=$;x[t(282)]({linkc:e[t(471)](t(1298)),priority:3})}):(x[$(282)]({linkc:"-deleteLink",priority:5}),x[$(282)]({linkc:$(1074),priority:5})),(1==lib.getCookie($(755))||1==lib.getCookie($(814)))&&this[$(1083)]()}if(1!=lib[$(868)]($(1086))||document[$(958)][$(1043)][$(849)]($(931))||x[$(282)]({linkc:$(677),priority:0},{linkc:$(871),priority:1},{linkc:$(771),priority:2},{linkc:"improveBlock-improveLink",priority:3},{linkc:$(1074),priority:4}),1==lib[$(868)]($(535))&&x.push({linkc:$(677),priority:0},{linkt:$(293),priority:1},{linkt:$(1331),priority:2},{linkc:$(643),priority:3},{linkc:"confirmLink",priority:4}),1==lib[$(868)]("gang2-enabled")&&x.push({linkc:$(677),priority:0},{linkt:$(293),priority:1},{linkt:$(1331),priority:2},{linkc:$(350),priority:3},{linkc:$(315),priority:4}),1==lib.getCookie($(867))&&x[$(282)]({linkc:"/home",priority:0},{linkt:$(293),priority:1},{linkt:$(1331),priority:2},{linkc:"-2-linkMoney",priority:3},{linkc:"confirmLink",priority:4}),1==lib[$(868)]($(297)))return x.push({linkt:$(1281),priority:10},{linkt:"Отбить",priority:11},{linkt:$(495),priority:12},{linkt:$(738),priority:13},{linkt:$(967),priority:14},{linkt:$(835),priority:15},{linkt:"На главную",priority:16}),this[$(939)](x);if(1==lib[$(868)]($(578))){if(document.body[$(1043)][$(849)]($(371)))return;let t=[{linkt:$(899),priority:20},{linkt:null,useSetting:!0,priority:21},{linkt:$(489),priority:22},{linkt:$(398),priority:23},{linkt:$(398),priority:24},{linkt:$(420),priority:25}];return t[$(282)]({linkt:"Улучшить",priority:26},{linkt:$(1205),priority:26},{linkt:$(420),priority:27},{linkt:"Извлечь",priority:26},{linkt:$(420),priority:27},{linkt:$(495),priority:28}),x[$(282)](...t),this[$(939)](x)}if(1==lib[$(868)]("gift-enabled")){let i=lib[$(868)]($(377))||this.settings[$(1200)](x=>x.key===$(377)).value;if(i&&i.match(/^\d+$/)){let a=[{linkt:$(704),priority:30},{linkt:$(831),priority:31},{linkc:i,priority:32},{linkc:$(441),priority:33},{linkc:$(1389),priority:34},{linkc:"-itemsList-18-itemPanel-item-customPanel-selectLink",priority:35},{linkc:"-itemsList-26-itemPanel-item-customPanel-selectLink",priority:36},{linkt:$(420),priority:37}];x[$(282)](...a)}}return 1==lib[$(868)]($(1081))&&document.querySelectorAll("[href*='getGiftLink']")[$(1255)]>0&&x[$(282)]({linkc:$(504),priority:1}),engine.getSceneLink(x)},timeout:0},races:{name:_0x5a50fc(325),description:_0x5a50fc(683),type:TYPE_SCENES,enabled:!0,settings:[{name:_0x5a50fc(340),type:_0x5a50fc(313),key:_0x5a50fc(1277),maxvalue:3e3,value:2700},{name:_0x5a50fc(945),type:_0x5a50fc(313),key:"nitro_timeout",maxvalue:300,value:20}],getNextScene:function(){var $=_0x5a50fc;if(null!==document[$(565)]($(982))){if(document.body[$(1043)].includes($(586))){var x=[{linkc:"refreshLink",priority:1,timeout:1e3}];return engine[$(1257)](x)}if(document.body[$(1043)].includes("Обновляй страницу")){var x=[{linkc:"refreshLink",priority:1,timeout:0}];return engine.getSceneLink(x)}if(document[$(958)][$(1043)].includes("СТАРТ!!!")){var x=[{linkt:$(1287),priority:1,timeout:0}];return engine.getSceneLink(x)}if(document[$(565)]($(304))){var x=[{linkt:"Нитро",priority:3,timeout:lib[$(868)]($(1178))}];return engine[$(1257)](x)}if(!document[$(958)][$(1043)].includes($(649))){var x=[{linkt:$(1287),priority:0,timeout:lib[$(868)]($(1277))}];return engine.getSceneLink(x)}}}},autoobjak:{name:"Автопересыл общака <img src='https://img3.bratki.mobi/images/icons/auction.png' style='vertical-align: middle; width: 20px; height: 20px;'>",type:TYPE_TIMEOUT_SCENES,enabled:!0,start:0,startItemsCount:null,transferMode:!1,currentItemIndex:0,itemSelectionCompleted:!1,currentCategoryIndex:0,selectedItemCount:0,settings:[{name:"ID получателя пересылки",type:_0x5a50fc(1207),key:_0x5a50fc(1144),value:""},{name:_0x5a50fc(1267),type:"text",key:_0x5a50fc(645),value:"Все"}],getNextScene:function(){var $=_0x5a50fc;let x=lib[$(868)]($(1144))||this[$(1187)][$(1200)](x=>"transfer_recipient_id"===x[$(707)]).value;if(!x.match(/^\d+$/))return[];let e=(lib[$(868)]($(645))||this[$(1187)][$(1200)](x=>x.key===$(645)).value)[$(429)](",")[$(1051)]($=>$.trim())[$(1232)]($=>$);if(0===e.length)return[];let t=[{linkc:$(677),priority:0},{linkt:"Персонаж",priority:1},{linkc:$(424),priority:2},{linkc:x,priority:3},{linkc:$(1049),priority:4},{linkc:"addItemLink",priority:5},{linkc:$(444)+this[$(999)]+$(720),priority:5,onComplete:()=>{var x=$;if(document.querySelector(x(494)+this[x(999)]+x(1022)+this.currentItemIndex+x(400))&&(this[x(608)]=!0,this.currentItemIndex++,this.currentItemIndex>=11)){let e=document[x(565)]('a.btn-flat[href*="ILinkListener-attachLink"]');e&&e[x(413)](),setTimeout(()=>{var $=x;if(document.querySelectorAll($(571)).length>=10){let e=document[$(565)]($(1047));return e&&e[$(413)](),this[$(999)]=0,this[$(960)]=!1,this[$(276)]=null,this.itemSelectionCompleted=!1,this[$(788)]()}},500)}}}];if(this[$(960)])return engine[$(1257)](t);if(!document[$(565)]($(522)))return engine[$(1257)]([{linkc:$(677),priority:0},{linkt:$(293),priority:1},{linkt:$(1165),priority:2}]);let i=e[this[$(1305)]];if(!i&&(this[$(1305)]=0,!(i=e[this.currentCategoryIndex])))return[];let a=Array.from(document[$(1168)](".filter-str .filter-item")),n=a[$(1200)](x=>x[$(837)]===$(1313));if((n?n.textContent[$(1338)]():null)!==i){let r=a.find(x=>"A"===x.tagName&&x[$(468)][$(1338)]()===i);return r?(r[$(413)](),this[$(999)]=0,this[$(608)]=!1,setTimeout(()=>this[$(788)](),300),[]):(this[$(1305)]++,this[$(788)]())}let c=document.querySelector(".content-inner .font12.c-gray");if(c&&c[$(468)][$(849)]("В общаке занято")){let o=c[$(1168)]($(894));if(o.length>=3){let l=parseInt(o[0][$(468)])||0;null===this[$(276)]&&(this[$(276)]=l);if(this[$(276)]-l>=10)return this[$(960)]=!0,this[$(999)]=0,this[$(608)]=!1,engine.getSceneLink(t)}}return 0===document[$(1168)]($(1102))[$(1255)]?(this[$(1305)]++,this[$(276)]=null,this.getNextScene()):engine[$(1257)]([{linkc:$(573),priority:3}])},timeout:0},menuCustomizer:{name:_0x5a50fc(1194),description:_0x5a50fc(1059),type:TYPE_SWITCH,enabled:!1,settings:[{name:_0x5a50fc(1317),type:_0x5a50fc(313),key:"menu_color_r",maxvalue:255,value:96},{name:_0x5a50fc(1063),type:_0x5a50fc(313),key:_0x5a50fc(1126),maxvalue:255,value:255},{name:_0x5a50fc(1212),type:_0x5a50fc(313),key:_0x5a50fc(602),maxvalue:255,value:0},{name:_0x5a50fc(359),type:"range",key:_0x5a50fc(387),maxvalue:100,value:10},{name:_0x5a50fc(1377),type:_0x5a50fc(993),key:"bg_city",value:!0},{name:_0x5a50fc(1371),type:_0x5a50fc(993),key:"bg_gorki",value:!1},{name:_0x5a50fc(1326),type:"checkbox",key:_0x5a50fc(841),value:!1},{name:_0x5a50fc(807),type:_0x5a50fc(993),key:_0x5a50fc(1155),value:!1},{name:"Фон: Старый город",type:_0x5a50fc(993),key:_0x5a50fc(852),value:!1},{name:_0x5a50fc(703),type:_0x5a50fc(993),key:"bg_banda",value:!1},{name:"Фон: Федеральный Центр",type:"checkbox",key:_0x5a50fc(1388),value:!1},{name:_0x5a50fc(1080),type:_0x5a50fc(993),key:"bg_potrox",value:!1}],onswitch:function($){this[_0x5a50fc(838)]($)},onconfig:function($=this.enabled){var x=_0x5a50fc;let e={bg_city:x(911),bg_gorki:x(925),bg_doki:x(497),bg_zuza:x(1188),bg_old_city:"https://img1.bratki.mobi/images/cities/old_city_480.jpg",bg_cop:x(1375),bg_banda:x(567),bg_potrox:x(1038)},t=e[x(396)],i=document.querySelector(x(890))||document[x(762)](x(654));if(i.id=x(710),$){let a=parseInt(lib.getCookie(x(1091)))||this[x(1187)][0][x(905)],n=parseInt(lib[x(868)](x(1126)))||this[x(1187)][1][x(905)],r=parseInt(lib[x(868)](x(602)))||this[x(1187)][2][x(905)],c=parseInt(lib.getCookie(x(387)))||this[x(1187)][3][x(905)];for(let o=4;o<this[x(1187)][x(1255)];o++)if(1==lib.getCookie(this[x(1187)][o].key)){t=e[this[x(1187)][o][x(707)]];for(let l=4;l<this.settings[x(1255)];l++)if(l!==o){lib[x(1268)](this[x(1187)][l].key,0);let s=document[x(565)]("#"+this[x(1187)][l][x(707)]);s&&(s.checked=!1)}break}i[x(1043)]=x(1214)+t+x(1184)+(1-c/100)+x(1019)+c/100+x(1379)+a+", "+n+", "+r+") !important;\n                    }\n                "}else i[x(1043)]=x(317);document[x(1032)][x(898)](i)}}};let GUI={createMenu:function(){var $=_0x5a50fc;let x=document[$(762)]($(654));x[$(1043)]=switchStyle,document[$(1032)][$(898)](x);let e=window.innerWidth<600,t=document[$(762)]($(654));t.id="menu-bg-style",t[$(1043)]=$(823),document.head[$(898)](t),modules.menuCustomizer&&modules[$(308)][$(1387)]&&modules.menuCustomizer[$(838)]();let i=lib.ce($(421),{className:$(1342),id:$(1385),style:$(1177),onmousemove:function(){this.style.opacity="1"},onmouseout:function(){var x=$;this.style[x(917)]=x(1349)}});if(e)i[$(654)][$(619)]="0",i[$(654)][$(383)]="0";else if(typeof lib[$(868)]($(622))==$(1158))i.style[$(619)]=$(994),i[$(654)][$(1211)]=$(1100);else{let a=lib[$(868)]($(622))[$(429)](".");i.style[$(619)]=a[1],i.style[$(1211)]=a[0]}let n=lib.ce($(421),{style:$(1112),innerHTML:$(476)},i),r=lib.ce($(421),{style:$(780)}),c=lib.ce($(421),{style:$(528)},r),o=!1;e||(n[$(783)]=function(x){var e=$;i[e(654)].transition="0s";let t=x[e(1166)],a=x.offsetY;function r($){var x=e;i[x(654)][x(1211)]=$.pageX-t+"px",i[x(654)][x(619)]=$[x(1057)]-a+"px",lib[x(1268)]("menu_position",i[x(654)].left+"."+i.style.top)}r(x),document[e(1016)]=function($){var x=e;Math[x(523)](Math[x(570)](t-$[x(1166)],2)+Math.pow(a-$[x(367)],2))>2&&(o=!0),r($)},n[e(748)]=function(){var $=e;document.onmousemove=null,i.style[$(365)]=$(443),n[$(748)]=null}});let l=lib.ce($(421),{style:"transition: 250ms; overflow: hidden; max-height: 0; max-width:0; padding: 0;"},i),s=!1;n.onclick=function(){var x=$;if(o){o=!1;return}s=!s,GUI[x(633)]=s,s?(GUI[x(886)](),l[x(654)][x(692)]="1000px",l[x(654)][x(385)]=x(642),l[x(654)][x(663)]=x(1260),l.style[x(1106)]="1px solid #fff",r[x(654)][x(917)]="0",r[x(654)][x(692)]="0"):(GUI[x(813)](),GUI.hideBottom(),l[x(654)][x(692)]="0",l[x(654)][x(385)]="0",l[x(654)].padding="0",l[x(654)][x(1106)]="0",r[x(654)][x(917)]="1",r[x(654)].maxHeight=x(642))};let _=engine[$(821)],f,d,u=lib.ce($(1280),{style:$(384)},r);u[$(1259)]=_?icPlayUrl:icPauseUrl,u[$(617)]=function(){var x=$;_=!_,engine.paused=_,d[x(1043)]=x(_?644:1163),this.src=_?icPlayUrl:icPauseUrl,f.src=this[x(1259)],_||engine[x(1203)](engine[x(1240)]),lib[x(1268)](x(821),_?1:0)},i[$(898)](r);let p=lib.ce($(421),{id:$(1220),style:$(973)},i),g=lib.ce($(421),{style:"margin-top: -3px; left: 0; right: 0; height: 1px; background: #fff;"},p);GUI[$(691)]=new ProgressBar(g,$(1075)),g[$(654)][$(455)]=$(399),g[$(898)](GUI[$(691)][$(941)]()),f=lib.ce($(1280),{src:_?icPlayUrl:icPauseUrl},p),d=lib.ce("div",{style:$(728),innerHTML:_?$(644):"Остановить"},p),p[$(617)]=function(){var x=$;_=!_,engine.paused=_,f.src=_?icPlayUrl:icPauseUrl,d[x(1043)]=_?x(644):"Остановить",u[x(1259)]=f.src,_||engine.waitScene(engine[x(1240)]),lib.setCookie("paused",_?1:0)},GUI[$(886)]=function(){var x=$;p[x(654)][x(663)]=x(1260),p[x(654)][x(692)]=x(642),p[x(654)].opacity="1"},GUI[$(800)]=function(){var x=$;p[x(654)].padding="0",p[x(654)][x(692)]="0",p[x(654)][x(917)]="0"},GUI[$(800)]();let h=lib.ce($(421),{id:$(1321),style:$(791)},i);GUI[$(1050)]=function(x){var e=$;h[e(654)][e(663)]=e(1260),h[e(654)][e(692)]="500px",h.style[e(917)]="1",h[e(1043)]=x},GUI[$(467)]=function(){var x=$;h.style[x(663)]="0",h[x(654)].maxHeight="0",h[x(654)].opacity="0"},GUI[$(623)]=i,GUI[$(269)]=l,GUI[$(913)]=c},closeAllPopup:function(){var $=_0x5a50fc;for(let x in modules)modules[x].descPopup&&modules[x].descPopup[$(456)]()}};class EnhancedBratkiEngine{constructor(){var $=_0x5a50fc;this[$(337)]=!1,this[$(1279)]=null,this[$(786)]=null,this[$(462)]=null,this[$(1327)]=null,this[$(1322)]=null,this.init()}async init(){var $=_0x5a50fc;try{console[$(650)]("[Bratki Engine] Инициализация улучшенного движка..."),this[$(1279)]=new BackgroundManager,this.wakeLockManager=new WakeLockManager,this.workerManager=new WorkerManager,this[$(1327)]=new NetworkManager,this.mobileManager=new MobileManager,await this[$(1279)].init(),await this.wakeLockManager[$(1328)](),await this[$(462)][$(1328)](),await this[$(1327)][$(1328)](),await this[$(1322)][$(1328)](),await this[$(1006)](),this[$(337)]=!0,console[$(650)]($(1078)),this.startMainLoop()}catch(x){console[$(1372)]($(787),x),this[$(773)]()}}async loadOriginalModules(){var $=_0x5a50fc;console[$(650)]($(284))}startMainLoop(){var $=_0x5a50fc;console[$(650)]($(1160)),this[$(462)].isSupported()?this[$(462)][$(499)]():this[$(968)]()}[_0x5a50fc(968)](){var $=_0x5a50fc;console[$(650)]($(942)),setInterval(()=>{var x=$;this[x(1279)][x(544)]()||this[x(1048)]()},1e3)}[_0x5a50fc(1048)](){var $=_0x5a50fc;console[$(650)]($(466))}fallbackToOriginal(){var $=_0x5a50fc;console[$(411)]($(1197))}}document[_0x5a50fc(1123)](_0x5a50fc(1141),()=>{new EnhancedBratkiEngine}),window[_0x5a50fc(307)]=EnhancedBratkiEngine;var engine={auto:!1,paused:!0,cache:new Map,popupManager:null,isPageLocked:!1,initPopupManager:function(){var $=_0x5a50fc;this[$(1217)]||(this[$(1217)]={popups:new Map,register:function(x,e){this.popups[$(666)](x,e)},isOpen:function(x){var e=$,t=this[e(312)][e(355)](x);return!!t&&t[e(1167)]()},hide:function(x){var e=$,t=this[e(312)][e(355)](x);t&&t[e(456)]()},closeAll:function(){var x=$;this[x(312)].forEach(function($){$[x(1167)]()&&$.hide()})}})},lockPage:function(){var $=_0x5a50fc;this[$(606)]||(window[$(1123)]($(1250),this[$(594)]),this[$(606)]=!0)},unlockPage:function(){var $=_0x5a50fc;this[$(606)]&&(window[$(930)]($(1250),this[$(594)]),this.isPageLocked=!1)},preventPageUnload:function($){var x=_0x5a50fc;$[x(510)](),$[x(1169)]=""},init:function(){var $=_0x5a50fc;this[$(1302)](),this[$(1213)](),this[$(712)]&&this[$(1018)](),lib[$(1083)]=function(){var x=$;engine[x(712)]=!1,lib[x(437)](),document.body[x(898)](GUI[x(623)]),engine[x(1203)](engine[x(1240)])},engine.paused=!0,lib.handlePage(),engine[$(1145)]()},startScript:function(){var $=_0x5a50fc;this[$(712)]=!0,this[$(1018)]()},stopScript:function(){this.auto=!1,this.unlockPage()},initWakeLock:function(){var $=_0x5a50fc;$(502) in navigator&&navigator[$(502)][$(759)]($(1294))[$(811)](function(x){var e=$;x[e(1123)](e(1258),function(){})})[$(610)](function($){})},initPopupManager:function(){var $=_0x5a50fc;this[$(1217)]||(this[$(1217)]={popups:new Map,register:function(x,e){this[$(312)].set(x,e)},isOpen:function(x){var e=$,t=this[e(312)][e(355)](x);return!!t&&t[e(1167)]()},hide:function(x){var e=$,t=this[e(312)].get(x);t&&t[e(456)]()},closeAll:function(){var x=$;this[x(312)][x(843)](function($){var e=x;$[e(1167)]()&&$[e(456)]()})}})},callback:function($){var x=_0x5a50fc;if(bratki[x(687)]){if(delete bratki[x(687)],0===$){confirm(x(927))||document[x(996)][x(1316)]();return}if(-1!==$){$*=1e3;var e=Math[x(607)]($/864e5),t=Math[x(607)]($%864e5/36e5),i="⏳ Осталось: "+e+" д. "+t+x(1320);GUI.showMsg(i),setTimeout(function(){GUI[x(467)]()},1e4),0===e&&t<24&&setTimeout(function(){var $=x;confirm($(927))||document[$(996)][$(1316)]()},$)}else GUI.showMsg(x(531)),setTimeout(function(){GUI[x(467)]()},5e3);engine.init()}},getSceneLink:function($){var x=_0x5a50fc,e=[],t=-1;for(var i in $){var a=$[i],n=null;if(a[x(403)]?n=lib[x(859)](a[x(403)]):a[x(1306)]&&(n=lib[x(351)](a[x(1306)])),n&&n[x(1255)]>0){if(a[x(496)]&&!a[x(496)]())continue;a.priority>t&&(e=n,void 0!==a[x(310)]&&e[0][x(1192)]("timeout",a[x(310)]),t=a[x(1271)],a[x(279)]&&setTimeout(()=>{a[x(279)]()},50))}}if(e[x(1255)]>0)return[{click:e[0]}]},handleScene:function($){var x=_0x5a50fc;engine.paused||typeof $[0][x(413)]===x(1158)||(engine[x(712)]=!0,$[0][x(413)][x(1192)](x(712),!0),$[0].click[x(413)](),setTimeout(function(){var $=x;!engine[$(821)]&&modules.licenseCheck[$(1387)]&&(modules[$(961)][$(1195)]=Date[$(1308)]())},1e3))},waitScene:function($){var x=_0x5a50fc;if(!engine[x(821)]||modules[x(961)].enabled){if(typeof engine[x(1180)]!==x(1158)){var e=modules[engine[x(1180)]];if(e.type!==TYPE_TIMEOUT_SCENES||Date[x(1308)]()-lib[x(397)]>3e3){var t=e.getNextScene();if(typeof t!==x(1158)){$(t);return}e.type===TYPE_TIMEOUT_SCENES&&typeof e[x(310)]!==x(1158)&&(e[x(1195)]=Math[x(912)](Date[x(1308)]()+e[x(310)],Date[x(1308)]()+6e4))}delete engine.currentModule}var i=!1,a=Object[x(536)](modules);if(modules[x(961)][x(1387)]){var n=modules[x(961)][x(788)]();if(typeof n!==x(1158)){engine.currentModule="licenseCheck",GUI[x(1050)](x(1231)+modules[x(961)][x(545)]),setTimeout(function(){GUI[x(467)]()},2e3),$(n);return}modules[x(961)][x(1195)]=Math[x(912)](Date.now()+modules.licenseCheck[x(310)],Date[x(1308)]()+6e4)}if(!engine[x(821)])for(var r=0;r<a[x(1255)];r++){var c=a[r],o=modules[c];if(void 0!==engine[x(1180)])break;if(o[x(963)]!==TYPE_SWITCH&&o.enabled){if(i=i||!!o[x(310)],!(o.type===TYPE_TIMEOUT_SCENES&&Date[x(1308)]()-lib.lastAction<1e3)&&!(typeof o[x(1195)]!==x(1158)&&o.start>Date.now())){var t=o[x(788)]();if(void 0!==t){engine.currentModule=c,GUI[x(1050)](x(1231)+modules[engine[x(1180)]][x(545)]),setTimeout(function(){GUI[x(467)]()},2e3),$(t);break}o[x(963)]===TYPE_TIMEOUT_SCENES&&typeof o[x(310)]!==x(1158)&&(o[x(1195)]=Math.min(Date[x(1308)]()+o[x(310)],Date[x(1308)]()+6e4))}}}typeof engine[x(1180)]===x(1158)&&(modules[x(961)][x(1387)]?(modules.licenseCheck.start=Math[x(912)](Date.now()+modules[x(961)][x(310)],Date[x(1308)]()+6e4),engine[x(1039)](function(){var e=x,t=modules.licenseCheck[e(788)]();typeof t!==e(1158)?(engine[e(1180)]=e(961),GUI[e(1050)]("выполнение "+modules.licenseCheck[e(545)]),setTimeout(function(){GUI[e(467)]()},2e3),$(t)):setTimeout(function(){engine.waitScene($)},1e3)})):i?engine[x(1039)]($):setTimeout(function(){engine.waitScene($)},1e3))}},setupRandomTimeout:function($){var x=_0x5a50fc;typeof engine[x(613)]!==x(1158)&&clearInterval(engine[x(613)]);let e=parseInt(lib[x(868)](x(1270)))||15e3,t=parseInt(lib.getCookie(x(1276)))||25e3;e>t&&(t=e,lib.setCookie(x(1276),t));var i=Math.floor(Math.random()*(t-e+1))+e,a=Date.now()+i;GUI[x(913)][x(654)][x(917)]="0",engine[x(613)]=setInterval(function(){var $=x;if(engine[$(821)]||typeof engine.timeoutId===$(1158)){GUI[$(913)][$(654)].opacity="0",clearInterval(engine.timerId),typeof engine[$(933)]!==$(1158)&&clearTimeout(engine.timeoutId);return}var e=Math.floor((a-Date[$(1308)]())/1e3);"0"===GUI[$(913)][$(654)][$(917)]&&(GUI[$(913)].style[$(917)]="1"),GUI.timer[$(1043)]=e,GUI.bottomProgress[$(1121)](100-Math[$(607)](e/(i/1e3)*100))},1e3),GUI[x(1050)](x(781)),setTimeout(function(){GUI.hideMsg()},2e3),engine[x(933)]=setTimeout(function(){var e=x;GUI[e(913)][e(654)][e(917)]="0",clearInterval(engine.timerId),delete engine[e(613)],delete engine.timeoutId;var t=engine[e(1140)]();void 0!==t?$([{click:t}]):engine[e(1203)]($)},i)},findHomeLink:function(){var $=_0x5a50fc,x=lib.findLinksByUrlComponent("home");if(x[$(1255)]>0&&!x[0][$(1298)][$(849)]("logout"))return x[0];var e=lib.findLinksByUrlComponent("//"+document.domain),t=lib[$(1146)](e,"?");if(t[$(1255)]>0)return t[Math[$(607)](Math[$(770)]()*t.length)]},init:function(){var $=_0x5a50fc;this.initWakeLock(),this[$(1213)](),lib[$(1083)]=function(){var x=$;engine[x(712)]=!1,lib.handlePage(),document[x(958)][x(898)](GUI[x(623)]),engine[x(1203)](engine[x(1240)])},engine.paused=!0,lib[$(437)](),engine[$(1145)]()},initWakeLock:function(){var $=_0x5a50fc;"wakeLock"in navigator&&navigator[$(502)].request($(1294))[$(811)](function(x){var e=$;x[e(1123)](e(1258),function(){})})[$(610)](function($){})},getModuleState:function($,x){var e=_0x5a50fc;if(this.cache[e(620)]($))return this[e(362)][e(355)]($);var t=lib[e(868)]($),i=void 0===t?x[e(1387)]:1==t;return this.cache[e(666)]($,i),i},createToggleHandler:function($,x){var e=this;return function(){var t=_0x3fa7;if($===t(961)){this[t(709)]=!0;return}var i=this[t(709)];x[t(963)]===TYPE_SWITCH&&modules[this.id][t(418)](i),modules[this.id][t(1387)]=i,e[t(362)][t(666)](this.id,i),i||engine[t(1180)]!==this.id||delete engine[t(1180)],i&&typeof engine[t(1180)]===t(1158)&&(typeof engine[t(933)]!==t(1158)&&(clearTimeout(engine.timeoutId),delete engine[t(933)]),engine[t(1203)](engine.handleScene)),lib[t(1268)](this.id,i?1:0)}},createHelpPopupHandler:function($){var x=this;return function(){var $=_0x3fa7,e=this.id.split("_")[1],t=modules[e],i=$(1247)+e;if(x[$(1217)][$(287)](i))x[$(1217)][$(456)](i);else if(typeof t[$(582)]===$(1158)){var a=new PopupWindow(this.parentNode);a[$(609)](lib.ce($(421),{style:"font-size: 12px; color: #ffffff; max-width: 300px; line-height: 1.4;",innerHTML:t[$(459)]})),GUI[$(813)](),a[$(932)](),t.descPopup=a,x[$(1217)][$(983)](i,a)}else t[$(582)][$(1167)]()?t[$(582)][$(456)]():(GUI.closeAllPopup(),t.descPopup.show())}},createSettingsPopupHandler:function($){var x=this;return function(){var $=_0x3fa7,e=this.id.split("_")[1],t=modules[e];if(void 0===t[$(386)]){var i=new PopupWindow(this.parentNode,!1),a=lib.ce($(421),{style:$(326)});for(var n in i[$(609)](a),t[$(1187)]){var r=x[$(1355)](e,t[$(1187)][n],t);a[$(898)](r)}GUI[$(813)](),i.show(),t[$(386)]=i}else t[$(386)].isOpened()?t[$(386)].hide():(GUI[$(813)](),t[$(386)][$(932)]())}},createSettingElement:function($,x,e){var t=_0x5a50fc,i=document[t(762)](t(421)),a=lib.ce(t(421),{style:"display: inline-block; overflow: hidden; padding: 3px; vertical-align: top;",innerHTML:x[t(545)]});if("checkbox"===x[t(963)]){var n=new ToggleButton(x[t(707)]),r=n[t(1246)]();r.id=x[t(707)],void 0===lib[t(868)](x[t(707)])&&lib[t(1268)](x.key,x[t(905)]?1:0),r.onclick=function(){var $=t;lib[$(1268)](this.id,this.checked?1:0),typeof e[$(838)]!==$(1158)&&e.onconfig()},r.checked=1==lib[t(868)](x[t(707)]),i.appendChild(n.getElement())}if("select"===x[t(963)]){var c=new SelectBox(x[t(707)],x.list);void 0===lib[t(868)](x.key)&&lib[t(1268)](x[t(707)],x.value),c[t(772)](lib[t(868)](x[t(707)])),c.onchange=function($,x){var i=t;lib[i(1268)]($,x),typeof e[i(838)]!==i(1158)&&e[i(838)]()},x.sb=c,i[t(898)](c[t(941)]())}if(i.appendChild(a),x[t(963)]===t(313)){var o=lib.ce(t(924),{type:t(313),style:"display: inline-block",id:x[t(707)],max:x.maxvalue});void 0===lib[t(868)](x.key)&&lib[t(1268)](x[t(707)],x[t(905)]),o.id=x.key;var l=lib.ce("div",{style:t(1111),innerHTML:lib.getCookie(x[t(707)])});l.id=t(1297)+x[t(707)],o[t(1060)]=function(){var $=t;lib.setCookie(this.id,this[$(905)]),document[$(565)]("#val_"+this.id)[$(1043)]=this[$(905)],typeof e[$(838)]!==$(1158)&&e.onconfig()},o[t(905)]=lib[t(868)](x[t(707)]),i[t(898)](o),i[t(898)](l)}if("text"===x[t(963)]){typeof lib[t(868)](x[t(707)])===t(1158)&&lib[t(1268)](x[t(707)],x[t(905)]);var s=new EditText(x[t(707)],lib[t(868)](x[t(707)]));s.onchange=function($,x){lib[t(1268)]($,x)},i[t(898)](s[t(941)]())}return i},createCheckboxControl:function($,x,e){var t=_0x5a50fc,i=new ToggleButton(x[t(707)]),a=i[t(1246)]();return a.id=x[t(707)],typeof lib.getCookie(x.key)===t(1158)&&lib[t(1268)](x.key,x[t(905)]?1:0),a[t(709)]=1==lib[t(868)](x[t(707)]),a[t(617)]=function(){var $=t;lib.setCookie(this.id,this.checked?1:0),typeof e[$(838)]!==$(1158)&&e[$(838)]()},i.getElement()},createSelectControl:function($,x,e){var t=_0x5a50fc,i=new SelectBox(x[t(707)],x[t(1216)]);return void 0===lib.getCookie(x[t(707)])&&lib[t(1268)](x[t(707)],x[t(905)]),i.setSelection(lib.getCookie(x[t(707)])),i[t(537)]=function($,x){var i=t;lib[i(1268)]($,x),typeof e[i(838)]!==i(1158)&&e[i(838)]()},x.sb=i,i[t(941)]()},createRangeControl:function($,x,e){var t=_0x5a50fc,i=lib.ce(t(421),{style:t(766)});typeof lib.getCookie(x[t(707)])===t(1158)&&lib[t(1268)](x[t(707)],x[t(905)]);var a=lib.ce(t(924),{type:t(313),id:x.key,max:x[t(1248)],value:lib[t(868)](x.key),style:t(1135)}),n=lib.ce(t(421),{id:t(1297)+x[t(707)],style:"min-width: 40px; text-align: right;",innerHTML:lib[t(868)](x[t(707)])});return a[t(1060)]=function(){var $=t;lib[$(1268)](this.id,this[$(905)]),document[$(565)]("#val_"+this.id)[$(1043)]=this[$(905)],void 0!==e[$(838)]&&e[$(838)]()},i[t(898)](a),i[t(898)](n),i},createTextControl:function($,x,e){var t=_0x5a50fc;void 0===lib[t(868)](x[t(707)])&&lib[t(1268)](x[t(707)],x[t(905)]);var i=new EditText(x[t(707)],lib[t(868)](x[t(707)]));return i[t(537)]=function($,x){lib.setCookie($,x),void 0!==e.onconfig&&e[t(838)]()},i[t(941)]()},initMenu:function(){var $=_0x5a50fc;this[$(1213)]();for(var x=GUI[$(269)],e=document[$(872)](),t=Object[$(536)](modules),i=0;i<t[$(1255)];i++){var a=t[i],n=modules[a];if(a!==$(961)){var r=this.createMenuItem(a,n);e[$(898)](r)}}x[$(898)](e)},createMenuItem:function($,x){var e=_0x5a50fc,t=document[e(762)](e(421)),i=new ToggleButton($),a=i.getCheckbox();a.id=$,a.checked=this.getModuleState($,x),x[e(1387)]=a[e(709)],x[e(963)]===TYPE_SWITCH&&x[e(418)](a.checked),a.onclick=this[e(1346)]($,x);var n=lib.ce(e(421),{style:e(390),innerHTML:x.name}),r=lib.ce(e(421),{style:"padding: 3px; display: inline-block; color: #2196F3; cursor: pointer",id:e(885)+$,innerHTML:"?",onclick:this[e(1243)]($)});if(t.appendChild(i[e(941)]()),t[e(898)](n),t[e(898)](r),x[e(1187)]){var c=lib.ce(e(1280),{style:e(1045),id:e(303)+$,src:e(540),onclick:this[e(376)]($)});t.appendChild(c)}return t},updateModuleState:function($,x){var e=_0x5a50fc,t=modules[$];t&&(t[e(1387)]=x,this[e(362)][e(666)]($,x),lib[e(1268)]($,x?1:0),t[e(963)]===TYPE_SWITCH&&typeof t[e(418)]!==e(1158)&&t.onswitch(x),this[e(857)]($,x))},handleEngineState:function($,x){var e=_0x5a50fc;x||engine[e(1180)]!==$||delete engine[e(1180)],x&&typeof engine[e(1180)]===e(1158)&&(typeof engine[e(933)]!==e(1158)&&(clearTimeout(engine[e(933)]),delete engine[e(933)]),typeof engine[e(1203)]===e(1068)&&engine[e(1203)](engine[e(1240)]))},cleanup:function(){var $=_0x5a50fc;this[$(362)]&&this[$(362)].clear(),this[$(1217)]&&this[$(1217)][$(975)](),typeof this[$(613)]!==$(1158)&&(clearInterval(this[$(613)]),delete this[$(613)]),void 0!==this[$(933)]&&(clearTimeout(this[$(933)]),delete this[$(933)])}},ModuleUtils={debounce:function($,x){var e;return function(){var t=this,i=arguments,a=function(){e=null,$.apply(t,i)};clearTimeout(e),e=setTimeout(a,x)}},batchUpdateCookies:function($){for(var x=_0x5a50fc,e=Object[x(536)]($),t=0;t<e[x(1255)];t++){var i=e[t];lib[x(1268)](i,$[i])}},getActiveModules:function(){for(var $=_0x5a50fc,x=[],e=Object[$(536)](modules),t=0;t<e[$(1255)];t++){var i=e[t];modules[i][$(1387)]&&x[$(282)](i)}return x},toggleModules:function($,x){for(var e=_0x5a50fc,t={},i=0;i<$[e(1255)];i++){var a=$[i];modules[a]&&(modules[a].enabled=x,t[a]=x?1:0,modules[a].type===TYPE_SWITCH&&typeof modules[a].onswitch!==e(1158)&&modules[a][e(418)](x))}this.batchUpdateCookies(t),engine[e(362)][e(834)]()}},bratki={getMissionsLinks:function(){var $=_0x5a50fc,x=[],e=document[$(958)][$(1043)].indexOf($(804)),t=document[$(958)][$(1043)].indexOf($(1376),document.body.innerHTML.indexOf($(630)));return -1!=e&&lib[$(351)]($(799))[$(843)](function(i,a,n){var r=$,c=document[r(958)][r(1043)][r(1154)](i[r(490)]);c>e&&c<t&&!i[r(854)].includes("inactive")&&x[r(282)](i)}),x},getCombatLinks:function($=!1){var x=_0x5a50fc,e=lib[x(351)](x(1283)),t=[];for(var i in e)typeof e[i]==x(1278)&&(!e[i][x(306)]||!e[i][x(306)][x(815)]("btn-lock")&&!e[i][x(306)][x(815)](x(1263))||$&&e[i][x(306)][x(815)](x(277)))&&t[x(282)](e[i]);return t},getPackagePrice:function(){var $,x=_0x5a50fc,e=document[x(565)](x(1104))[x(272)][x(565)](x(894))[x(490)],t=e[x(711)](/[^><]+(?=<)/g);return 1==t[x(1255)]?e[x(849)](x(980))?100*t[0]:parseInt(t[0]):100*t[0]+parseInt(t[1])},getPackageItems:function(){var $=_0x5a50fc,x=document[$(1168)]($(647)),e=[];for(var t in x)if(typeof x[t]==$(1278)){var i=x[t][$(565)]("a")[$(1298)],a=x[t][$(1162)][$(429)](" x")[0],n=x[t][$(1043)][$(849)]($(332))?">>":x[t][$(1043)][$(849)]($(1373))?">":"",r=x[t][$(1162)][$(429)](" x")[1];e.push({name:a,diff:n,href:i,count:parseInt(void 0===r?1:r)})}return e},getEnemyHp:function(){var $=_0x5a50fc;try{var x=document[$(565)](".enemy-hp-amount");if(null!=x)return x[$(1043)];var e=document.querySelector($(959))[$(565)]("li").querySelectorAll($(894))[1];if(typeof e!=$(1158)){var t=e[$(1043)];return t[$(1172)](2,t[$(1255)]-3)}}catch(i){}},getLastDamage:function(){var $=_0x5a50fc;try{if(bratki.hasNewInterface())return document[$(565)]($(271))[$(1168)]($(763))[0][$(1043)];return document.querySelector("div.header")[$(1168)]($(894))[2][$(1043)]}catch(x){}},getEnemyName:function(){var $=_0x5a50fc;try{if(bratki[$(726)]())return document.querySelector($(740))[$(1043)];var x=document[$(565)]($(959)).querySelector("span");if(x.parentNode.innerHTML[$(849)]("Атаковать"))return x[$(1043)]}catch(e){}},getMyHp:function(){var $,x=_0x5a50fc;try{if($=bratki.hasNewInterface()?document[x(565)]("div.b-header").querySelector(x(894)):document.querySelector(x(718))[x(565)](x(894)),null!==$)return{count:$[x(1043)],type:[x(1150),x(411),x(453)].indexOf($.className)}}catch(e){}},getTeamHp:function(){var $=_0x5a50fc;try{var x=["span.major",$(378),$(758)],e=2;for(var t in x){var i=document[$(1168)]($(920));for(var a in i)null!==i[a][$(272)][$(565)](x[t])&&e<t&&(e=t)}return t}catch(n){}},hasNewInterface:function(){var $=_0x5a50fc;return null!==document[$(565)]($(271))},getUid:function(){var $=_0x5a50fc;try{var x=document.querySelector("div.content-inner>img")[$(1009)].querySelector($(894))[$(1162)];if(document[$(996)][$(1298)][$(849)](x))return;return x}catch(e){return}},getRackItems:function(){var $=_0x5a50fc,x=lib.findLinksByUrlComponent("crackLink"),e=[];for(var t in x)"object"==typeof x[t]&&e[$(282)](x[t].parentNode[$(272)]);return e}};let lib={safeMode:!0,loadTime:0,lastAction:Date[_0x5a50fc(1308)](),onload:function(){},handlePage(){var $=_0x5a50fc;let x=document.querySelectorAll("a");x[$(843)](x=>{var e=$;(!x[e(617)]||x[e(1298)][e(849)](e(733)))&&(x[e(617)]=$=>{var t=e;$[t(510)](),typeof engine[t(933)]!==t(1158)&&clearTimeout(engine[t(933)]),typeof engine.timerId!==t(1158)&&clearInterval(engine[t(613)]),lib.request(x)})});let e=document[$(1168)]($(1348));for(let t of e)for(let i of(t[$(485)]=x=>{var e=$;x.preventDefault();let i=new XMLHttpRequest;i[e(274)](t[e(1340)],t[e(1393)],!1),i[e(558)](e(842),e(299));let a=lib[e(680)](t);i.send(a),document[e(958)][e(1043)]=i[e(646)],typeof engine[e(933)]!==e(1158)&&clearTimeout(engine[e(933)]),typeof engine.timerId!==e(1158)&&clearInterval(engine[e(613)]),lib.onload()},t[$(1168)]("input[type='submit']")))i[$(617)]=$=>{i.id="clicked"};Object[$(580)](modules)[$(843)](([x,e])=>{e.enabled&&typeof e.onload===$(1068)&&e.onload()})},urlData:function($){var x=_0x5a50fc;let e=[];for(let t in $.elements)("submit"!=$.elements[t][x(963)]||$[x(346)][t].id==x(665))&&e[x(282)]($[x(346)][t][x(545)]+"="+encodeURIComponent($[x(346)][t][x(905)]));return e[x(997)]("&")},request:function($,x=lib.onload,e=lib[_0x5a50fc(678)]?Math[_0x5a50fc(607)](Math[_0x5a50fc(770)]()*(lib[_0x5a50fc(1362)]-lib[_0x5a50fc(551)]+1))+lib[_0x5a50fc(551)]:0){var t=_0x5a50fc;$.hasAttribute(t(310))&&(e=$[t(471)](t(310))),$[t(878)](t(712))||(e=0,lib[t(397)]=Date[t(1308)]());var i=Date[t(1308)](),a=new XMLHttpRequest;a.onreadystatechange=function(){var n=t;4==a.readyState&&(200==a[n(659)]?(lib.loadTime=Date[n(1308)]()-i,document[n(958)][n(1043)]=a[n(646)],history[n(358)]({html:a[n(646)]},n(1230),a[n(1183)]),engine[n(712)]||scrollTo(0,0),x()):0===a[n(659)]&&-1==url[n(1154)](document[n(372)])?document[n(996)]=$.href:(bratki.requestCnt--,lib[n(759)]($,x,e)))},a[t(274)](t(1285),$[t(1298)],!0);var n=new ProgressBar($);$[t(898)](n.getElement());var r=setInterval(function(){var $=t;if(engine[$(712)]&&engine[$(821)])n[$(1121)](0);else{var x=Date.now()-i,a=Math[$(607)](x/e*100);n[$(1121)](a)}},0,100);typeof lib[t(1274)]!=t(1158)&&clearTimeout(lib[t(1274)]),lib[t(1274)]=setTimeout(function(){var x=t;if(delete lib[x(1274)],clearInterval(r),engine[x(712)]&&engine[x(821)]){engine.auto=!1;return}$.style[x(1087)]=x(877),a[x(1090)]()},e)},removeLinksByUrlComponent:function($,x){var e=_0x5a50fc;let t=[];for(let i in $)typeof $[i][e(1298)]==e(1158)||$[i][e(1298)][e(849)](x)||t[e(282)]($[i]);return t},findLinksByUrlComponent:function($){return document.querySelectorAll(_0x5a50fc(964)+$+"']")},findLinksByText:function($,x=!0,e=0){var t=_0x5a50fc;let i=[];return document.querySelectorAll("a")[t(843)](function(a,n,r){var c=t;(x&&a.innerHTML[c(849)]($,e)||a[c(1043)]==$)&&i.push(a)}),i},ce:function($,x,e){var t=_0x5a50fc,i=document.createElement($);for(var a in x)i[a]=x[a];return typeof e==t(1278)&&e[t(898)](i),i},getCookie:function($){var x=_0x5a50fc,e=document.cookie[x(711)](RegExp(x(600)+$.replace(/([\.$?*|{}\(\)\[\]\\/\+^])/g,x(808))+x(902)));return e?decodeURIComponent(e[1]):void 0},setCookie:function($,x,e){var t=_0x5a50fc,i=(e=e||{path:"/",domain:document[t(372)]})[t(432)];if(typeof i==t(751)&&i){var a=new Date;a[t(530)](a[t(1044)]()+1e3*i),i=e.expires=a}i&&i.toUTCString&&(e[t(432)]=i[t(853)]()),x=encodeURIComponent(x);var n=$+"="+x;for(var r in e){n+="; "+r;var c=e[r];!0!==c&&(n+="="+c)}document[t(1249)]=n}};class MobileManager{constructor(){var $=_0x5a50fc;this[$(779)]=null,this[$(1299)]=null,this[$(1170)]=null,this.batteryManager=null,this.connectionManager=null,this[$(1296)]=null,this[$(381)]={isLowPowerMode:!1,batteryLevel:null,connectionType:$(463),memoryPressure:!1,orientation:$(597),isCharging:null},console[$(650)]($(725),PLATFORM)}async [_0x5a50fc(1328)](){var $=_0x5a50fc;try{this.setupTouchOptimizations(),this[$(765)](),this[$(1384)](),await this.initPerformanceMonitoring(),await this[$(433)](),await this[$(500)](),this.initMemoryManagement(),PLATFORM.isIOSSafari&&this.setupIOSOptimizations(),PLATFORM[$(1357)]&&this.setupAndroidOptimizations(),console[$(650)]($(562))}catch(x){console[$(1372)]("[MobileManager] Ошибка инициализации:",x)}}[_0x5a50fc(1358)](){var $=_0x5a50fc;this[$(779)]=x=>{var e=$;window[e(862)]&&window[e(862)][e(1229)]},document[$(1123)]($(479),this[$(779)],{passive:!0,capture:!1}),document[$(1123)]($(729),x=>{var e=$;window[e(862)]&&window[e(862)][e(1229)]&&x.preventDefault()},{passive:!1}),PLATFORM[$(828)]&&(document[$(958)][$(654)][$(685)]=$(612),document[$(637)][$(654)].overflow=$(612))}[_0x5a50fc(765)](){var $=_0x5a50fc;this[$(1299)]=()=>{var x=$;let e=window[x(1007)]>window[x(866)]?x(597):"landscape";e!==this.state[x(805)]&&(console[x(650)]("[MobileManager] Изменение ориентации: "+this[x(381)][x(805)]+x(470)+e),this[x(381)].orientation=e,this[x(412)](e))},window.addEventListener($(407),this[$(1299)]),window[$(1123)]($(895),this[$(1299)]),this[$(1299)]()}[_0x5a50fc(412)]($){var x=_0x5a50fc;window[x(1024)]&&"function"==typeof window[x(1024)].recalculateLayout&&setTimeout(()=>window[x(1024)][x(1149)](),500);let e=document[x(565)](x(1273));e&&("landscape"===$&&PLATFORM[x(764)]?e[x(654)][x(825)]="12px":e[x(654)].fontSize=x(672))}[_0x5a50fc(1384)](){var $=_0x5a50fc;let x=document[$(565)]('meta[name="viewport"]');if(x||((x=document[$(762)]($(1198)))[$(545)]=$(681),document[$(1032)].appendChild(x)),x[$(269)]=$(908),PLATFORM.isIOSSafari){let e=document.querySelectorAll($(1353));e[$(843)](x=>{var e=$;x[e(654)][e(825)]=e(1239)})}}async [_0x5a50fc(1339)](){var $=_0x5a50fc;try{$(884) in window&&(this[$(1296)]=new PerformanceObserver(x=>{var e=$;let t=x[e(449)]();t.forEach($=>{var x=e;$[x(1295)]===x(1054)&&$.duration>100&&(console[x(411)]("[MobileManager] Медленная операция: "+$.name+" ("+$[x(929)][x(550)](2)+x(1225)),this.handleSlowPerformance($))})}),this.performanceObserver[$(481)]({entryTypes:[$(1054),"navigation"]})),this[$(1152)]()}catch(x){console[$(1372)]($(699),x)}}[_0x5a50fc(1152)](){var $=_0x5a50fc;let x=performance.now(),e=0,t=60,i=()=>{var $=_0x3fa7;e++;let a=performance.now();a-x>=1e3&&(t=Math.round(1e3*e/(a-x)),e=0,x=a,t<20&&!this[$(381)].isLowPowerMode&&(console[$(411)]("[MobileManager] Низкий FPS: "+t+", активация энергосберегающего режима"),this[$(810)]())),document.hidden||requestAnimationFrame(i)};document[$(612)]||requestAnimationFrame(i),document[$(1123)]($(923),()=>{document[$(612)]||requestAnimationFrame(i)})}async [_0x5a50fc(433)](){var $=_0x5a50fc;try{"getBattery"in navigator&&(this[$(1040)]=await navigator.getBattery(),this[$(1236)](),this[$(1040)][$(1123)]("levelchange",()=>this[$(1236)]()),this[$(1040)][$(1123)]($(618),()=>this.updateBatteryState()),console[$(650)]("[MobileManager] Battery Manager инициализирован"))}catch(x){console[$(650)]("[MobileManager] Battery API недоступен:",x[$(1221)])}}[_0x5a50fc(1236)](){var $=_0x5a50fc;this[$(1040)]&&(this.state[$(343)]=Math[$(1034)](100*this.batteryManager[$(327)]),this[$(381)].isCharging=this[$(1040)].charging,this[$(381)][$(343)]<=20&&!this[$(381)][$(684)]?(console[$(650)]("[MobileManager] Низкий заряд батареи: "+this[$(381)].batteryLevel+"%"),this.enableLowPowerMode()):(this[$(381)][$(343)]>50||this[$(381)][$(684)])&&this[$(976)](),SCRIPT_CONFIG[$(883)]&&console[$(650)]($(334)+this[$(381)][$(343)]+$(1351)+$(this[$(381)][$(684)]?1310:754)+")"))}async [_0x5a50fc(500)](){var $=_0x5a50fc;try{if($(596) in navigator||$(309) in navigator||$(591) in navigator){let x=navigator[$(596)]||navigator[$(309)]||navigator[$(591)];this[$(368)]=x,this[$(900)](),x[$(1123)]($(405),()=>this[$(900)]()),console[$(650)]($(1079))}}catch(e){console[$(650)]($(921),e.message)}}[_0x5a50fc(900)](){var $=_0x5a50fc;this[$(368)]&&(this.state[$(380)]=this[$(368)][$(552)]||$(463),(this[$(368)][$(552)]===$(1138)||"2g"===this[$(368)][$(552)])&&(console[$(650)]($(521)),this[$(527)]()),SCRIPT_CONFIG[$(883)]&&console.log("[MobileManager] Соединение: "+this[$(381)][$(380)]))}[_0x5a50fc(564)](){var $=_0x5a50fc;if($(855) in performance){let x=()=>{var x=$;let e=performance.memory,t=e.usedJSHeapSize/e[x(797)]*100;t>80&&(console[x(411)](x(458)+t[x(550)](1)+"%"),this.handleMemoryPressure())};setInterval(x,3e4)}PLATFORM[$(828)]&&window[$(1123)]("pagehide",()=>{this.clearCaches()})}[_0x5a50fc(974)](){var $=_0x5a50fc;console[$(650)]($(984));let x=0;document[$(1123)]($(479),e=>{var t=$;x=e[t(817)][0][t(1070)]},{passive:!0}),document[$(1123)]("touchmove",e=>{var t=$;let i=e[t(817)][0][t(1070)],a=i-x;x<20&&a>50&&e[t(510)]()}),document[$(1123)]($(729),x=>{x[$(510)]()},{passive:!1}),this[$(918)]()}setupIOSFullscreen(){var $=_0x5a50fc;let x=()=>{var $=_0x3fa7;0===window.pageYOffset&&window[$(624)](0,1)};window.addEventListener($(1364),x),window[$(1123)]("orientationchange",()=>{setTimeout(x,500)})}setupAndroidOptimizations(){var $=_0x5a50fc;console[$(650)]("[MobileManager] Применение Android оптимизаций..."),PLATFORM[$(1357)]&&PLATFORM.isChrome&&(document[$(637)][$(654)][$(916)]=$(901))}[_0x5a50fc(810)](){var $=_0x5a50fc;!this[$(381)].isLowPowerMode&&(console[$(650)]($(824)),this.state[$(598)]=!0,window[$(862)]&&window[$(862)][$(844)](2e3),document[$(637)].style[$(1286)]($(782),"0s"),window[$(1024)]&&typeof window[$(1024)][$(1050)]===$(1068)&&window[$(1024)][$(1050)]($(1077)))}[_0x5a50fc(976)](){var $=_0x5a50fc;this[$(381)][$(598)]&&(console[$(650)]($(896)),this[$(381)][$(598)]=!1,window[$(862)]&&window.engine[$(844)](1e3),document[$(637)].style[$(1242)]($(782)))}enableNetworkSavingMode(){var $=_0x5a50fc;console.log($(294)),window[$(862)]&&window[$(862)][$(1023)](5e3)}[_0x5a50fc(1390)](){var $=_0x5a50fc;console[$(650)]("[MobileManager] Обработка нехватки памяти"),this[$(381)][$(661)]=!0,this.clearCaches(),window[$(1024)]&&"function"==typeof window[$(1024)][$(1050)]&&window[$(1024)][$(1050)]($(749))}[_0x5a50fc(498)]($){var x=_0x5a50fc;console[x(411)]("[MobileManager] Медленная производительность: "+$[x(545)]),$[x(929)]>500&&this[x(722)]()}[_0x5a50fc(722)](){var $=_0x5a50fc;console.log($(676)),document[$(637)][$(654)][$(1286)]($(1005),"1");let x=document.querySelector($(1273));x&&(x[$(654)].transition="none")}clearCaches(){var $=_0x5a50fc;try{let x=document.querySelectorAll($(1280));x.forEach(x=>{var e=$;x[e(1259)][e(1199)](e(1117))||(x[e(1259)]=x.src)}),window.engine&&typeof window[$(862)][$(1215)]===$(1068)&&window[$(862)].clearCache(),console[$(650)]($(363))}catch(e){console[$(1372)]("[MobileManager] Ошибка очистки кешей:",e)}}[_0x5a50fc(1224)](){return{...this[_0x5a50fc(381)]}}isLowPowerMode(){var $=_0x5a50fc;return this[$(381)][$(598)]}[_0x5a50fc(621)](){return this.state[_0x5a50fc(343)]}[_0x5a50fc(553)](){var $=_0x5a50fc;return this[$(381)][$(380)]}[_0x5a50fc(864)]($){$?this.enableLowPowerMode():this[_0x5a50fc(976)]()}[_0x5a50fc(839)](){var $=_0x5a50fc;this[$(779)]&&document[$(930)]("touchstart",this[$(779)]),this.orientationHandler&&(window[$(930)]($(407),this[$(1299)]),window[$(930)]("resize",this.orientationHandler)),this[$(1296)]&&this[$(1296)][$(1136)](),console.log($(478))}}window.MobileManager=MobileManager;class WorkerManager{constructor(){var $=_0x5a50fc;this[$(547)]=null,this[$(638)]=null,this[$(1309)]=this[$(1354)](),this[$(487)]=new Map,this[$(897)]={paused:!0,currentModule:null,lastAction:Date[$(1308)]()},console[$(650)]($(674),{supported:this[$(1309)]})}[_0x5a50fc(1354)](){var $=_0x5a50fc;try{return"undefined"!=typeof Worker&&"undefined"!=typeof Blob}catch(x){return console[$(411)]($(1347),x),!1}}async [_0x5a50fc(1328)](){var $=_0x5a50fc;if(!this.isSupported){console[$(650)]($(806));return}try{await this[$(472)](),await this[$(1108)](),this[$(301)](),console.log("[WorkerManager] Готов к работе")}catch(x){console[$(1372)]($(506),x),this.isSupported=!1}}async [_0x5a50fc(472)](){var $=_0x5a50fc;let x=this[$(486)](),e=new Blob([x],{type:$(599)});this.gameWorker=new Worker(URL[$(1275)](e)),this.gameWorker[$(1021)]=x=>{this.handleWorkerMessage("game",x[$(1103)])},this[$(547)].onerror=x=>{console[$(1372)]("[WorkerManager] Game Worker ошибка:",x)}}async [_0x5a50fc(1108)](){var $=_0x5a50fc;let x=this[$(949)](),e=new Blob([x],{type:$(599)});this[$(638)]=new Worker(URL[$(1275)](e)),this[$(638)][$(1021)]=x=>{var e=$;this[e(727)](e(913),x.data)},this[$(638)].onerror=x=>{var e=$;console[e(1372)](e(518),x)}}[_0x5a50fc(486)](){return"\n            // Game Worker - Основная логика игры\n            let gameState = {\n                paused: true,\n                currentModule: null,\n                modules: {},\n                config: null\n            };\n\n            let gameInterval = null;\n\n            // Функции для работы с модулями\n            function processModules() {\n                if (gameState.paused) return;\n\n                // Эмуляция проверки модулей\n                const activeModules = Object.keys(gameState.modules).filter(key => \n                    gameState.modules[key].enabled\n                );\n\n                if (activeModules.length > 0) {\n                    const moduleToExecute = selectNextModule(activeModules);\n                    if (moduleToExecute) {\n                        postMessage({\n                            type: 'execute_module',\n                            module: moduleToExecute,\n                            timestamp: Date.now()\n                        });\n                    }\n                }\n\n                // Отправляем heartbeat\n                postMessage({\n                    type: 'heartbeat',\n                    timestamp: Date.now(),\n                    activeModules: activeModules.length\n                });\n            }\n\n            function selectNextModule(activeModules) {\n                // Простая логика выбора следующего модуля\n                // В реальной реализации здесь будет более сложная логика\n                return activeModules[0];\n            }\n\n            // Обработка сообщений от основного потока\n            self.onmessage = function(event) {\n                const { type, data } = event.data;\n\n                switch (type) {\n                    case 'init':\n                        gameState.config = data.config;\n                        gameState.modules = data.modules;\n                        postMessage({ type: 'init_complete' });\n                        break;\n\n                    case 'start':\n                        gameState.paused = false;\n                        if (!gameInterval) {\n                            gameInterval = setInterval(processModules, data.interval || 1000);\n                        }\n                        postMessage({ type: 'started' });\n                        break;\n\n                    case 'pause':\n                        gameState.paused = true;\n                        if (gameInterval) {\n                            clearInterval(gameInterval);\n                            gameInterval = null;\n                        }\n                        postMessage({ type: 'paused' });\n                        break;\n\n                    case 'update_modules':\n                        gameState.modules = data.modules;\n                        break;\n\n                    case 'set_current_module':\n                        gameState.currentModule = data.module;\n                        break;\n\n                    case 'ping':\n                        postMessage({ \n                            type: 'pong', \n                            timestamp: Date.now(),\n                            gameState: {\n                                paused: gameState.paused,\n                                currentModule: gameState.currentModule\n                            }\n                        });\n                        break;\n                }\n            };\n\n            // Обработка ошибок\n            self.onerror = function(error) {\n                postMessage({\n                    type: 'error',\n                    error: {\n                        message: error.message,\n                        filename: error.filename,\n                        lineno: error.lineno,\n                        colno: error.colno\n                    }\n                });\n            };\n        "}[_0x5a50fc(949)](){return _0x5a50fc(475)}[_0x5a50fc(301)](){var $=_0x5a50fc;this[$(487)][$(666)]("game",x=>{var e=$;switch(x.type){case e(794):this[e(1137)](x[e(1196)]);break;case"heartbeat":this[e(1245)](x);break;case e(1372):console[e(1372)](e(438),x[e(1372)])}}),this[$(487)][$(666)]($(913),x=>{var e=$;switch(x[e(963)]){case"timer_complete":this[e(1116)](x.id);break;case"timer_progress":this[e(273)](x);break;case e(291):this.handleWorkerPong("timer",x)}})}[_0x5a50fc(727)]($,x){var e=_0x5a50fc;let t=this[e(487)][e(355)]($);if(t)try{t(x)}catch(i){console.error("[WorkerManager] Ошибка обработки сообщения "+$+":",i)}}[_0x5a50fc(1137)]($){var x=_0x5a50fc;console.log(x(426)+$),window.engine&&typeof window[x(862)][x(1137)]===x(1068)&&window[x(862)][x(1137)]($)}[_0x5a50fc(1245)]($){var x=_0x5a50fc;SCRIPT_CONFIG.debug&&Date.now()%3e4<1e3&&console[x(650)]("[WorkerManager] Game heartbeat:",{timestamp:new Date($[x(1008)]).toLocaleTimeString(),activeModules:$.activeModules})}[_0x5a50fc(1116)]($){var x=_0x5a50fc;console[x(650)]("[WorkerManager] Таймер "+$+" завершен"),window[x(862)]&&typeof window[x(862)][x(295)]===x(1068)&&window[x(862)].onTimerComplete($)}[_0x5a50fc(273)]($){var x=_0x5a50fc;window[x(1024)]&&typeof window[x(1024)][x(451)]===x(1068)&&window[x(1024)][x(451)]($.id,$.progress,$[x(1085)])}[_0x5a50fc(809)]($,x){var e=_0x5a50fc;console[e(650)]("[WorkerManager] "+$+e(360),x)}[_0x5a50fc(499)](){var $=_0x5a50fc;return this[$(1309)]&&this[$(547)]?(this[$(547)][$(795)]({type:$(1328),data:{config:SCRIPT_CONFIG,modules:this[$(1122)]()}}),this[$(547)][$(795)]({type:$(1195),data:{interval:1e3}}),console[$(650)]("[WorkerManager] Game loop запущен"),!0):(console[$(411)]($(1381)),!1)}[_0x5a50fc(442)](){var $=_0x5a50fc;this[$(547)]&&this[$(547)][$(795)]({type:$(1219)})}[_0x5a50fc(1110)]($,x,e=!1){var t=_0x5a50fc;return this.isSupported&&this[t(638)]?(this[t(638)][t(795)]({type:t(826),data:{id:$,delay:x,interval:e}}),!0):(console[t(411)]("[WorkerManager] Не удается создать таймер - worker недоступен"),!1)}cancelTimer($){var x=_0x5a50fc;this.timerWorker&&this[x(638)][x(795)]({type:x(769),data:{id:$}})}[_0x5a50fc(491)]($){var x=_0x5a50fc;this[x(547)]&&this[x(547)][x(795)]({type:x(1147),data:{modules:$}})}[_0x5a50fc(1122)](){var $=_0x5a50fc;if(typeof window[$(341)]!==$(1158)){let x={};return Object[$(536)](window[$(341)])[$(843)](e=>{var t=$;x[e]={enabled:window[t(341)][e][t(1387)],type:window[t(341)][e][t(963)],name:window[t(341)][e][t(545)]}}),x}return{}}pingWorkers(){var $=_0x5a50fc;this[$(547)]&&this[$(547)].postMessage({type:$(1028)}),this[$(638)]&&this[$(638)][$(795)]({type:$(1028)})}[_0x5a50fc(1309)](){return this[_0x5a50fc(1309)]}[_0x5a50fc(1251)](){var $=_0x5a50fc;return{supported:this.isSupported,gameWorkerActive:!!this[$(547)],timerWorkerActive:!!this[$(638)],gameState:this[$(897)]}}destroy(){var $=_0x5a50fc;this[$(547)]&&(this[$(547)][$(778)](),this.gameWorker=null),this[$(638)]&&(this[$(638)][$(778)](),this.timerWorker=null),this[$(487)][$(834)](),console[$(650)]("[WorkerManager] Деинициализация завершена")}}window.WorkerManager=WorkerManager;class WakeLockManager{constructor(){var $=_0x5a50fc;this[$(502)]=null,this[$(1229)]=!1,this[$(1026)]=null,this[$(1011)]=null,this.audioSource=null,this[$(626)]=null,this.heartbeatInterval=null,this[$(557)]=0,this.maxRetries=3,console[$(650)]($(1311))}async [_0x5a50fc(1328)](){var $=_0x5a50fc;try{$(502) in navigator?(console[$(650)]($(648)),await this[$(950)]()):(console.log($(865)),await this[$(693)]()),PLATFORM[$(1383)]&&await this[$(1004)](),this[$(1254)](),console[$(650)]("[WakeLockManager] Готов к работе")}catch(x){console.error($(719),x),await this[$(693)]()}}async requestWakeLock(){var $=_0x5a50fc;try{this.wakeLock=await navigator.wakeLock[$(759)]($(1294)),this[$(1229)]=!0,this.retryCount=0,console.log($(1319)),this[$(502)][$(1123)]($(1258),()=>{var x=$;console[x(650)](x(739)),this.isActive=!1,this[x(557)]<this[x(734)]&&(setTimeout(()=>this[x(950)](),1e3*(this[x(557)]+1)),this.retryCount++)})}catch(x){throw console[$(1372)]("[WakeLockManager] Не удалось запросить Wake Lock:",x),x.name===$(469)&&(console.log($(1369)),this[$(698)]()),x}}[_0x5a50fc(698)](){var $=_0x5a50fc;let x=async()=>{var $=_0x3fa7;try{await this[$(950)](),document[$(930)]($(413),x),document[$(930)]($(479),x)}catch(e){console.error($(992),e)}};document[$(1123)]($(413),x,{once:!0}),document[$(1123)]("touchstart",x,{once:!0,passive:!0})}async [_0x5a50fc(1004)](){var $=_0x5a50fc;try{console[$(650)]($(566)),await this.createSilentAudio(),await this[$(549)](),console[$(650)]($(784))}catch(x){console[$(1372)]($(715),x)}}async [_0x5a50fc(829)](){var $=_0x5a50fc;try{this.silentAudio=document[$(762)]($(338)),this[$(626)][$(1259)]="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEA...",this[$(626)].loop=!0,this.silentAudio[$(465)]=!0,this[$(626)][$(1042)]=.01,this.silentAudio[$(1292)]=$(712),this[$(626)][$(654)].display=$(364),document[$(958)][$(898)](this[$(626)]);let x=()=>{var x=$;this[x(626)][x(861)]()[x(610)]($=>{var e=x;console[e(411)](e(881),$)})};document[$(1123)]($(479),x,{once:!0,passive:!0}),document.addEventListener($(413),x,{once:!0})}catch(e){console[$(1372)]($(634),e)}}async createAudioContext(){var $=_0x5a50fc;try{this[$(1026)]=new(window.AudioContext||window.webkitAudioContext),this[$(1011)]=this[$(1026)].createBuffer(1,44100,44100),this[$(1096)]=()=>{var x=$;if(this[x(1026)]&&this[x(1026)][x(381)]===x(286)){let e=this[x(1026)].createBufferSource();e.buffer=this[x(1011)],e.connect(this[x(1026)][x(756)]),e[x(1195)]()}};let x=()=>{var x=$;"suspended"===this[x(1026)][x(381)]&&this[x(1026)].resume()};document[$(1123)]("touchstart",x,{once:!0,passive:!0}),document.addEventListener("click",x,{once:!0})}catch(e){console.error($(559),e)}}async [_0x5a50fc(693)](){var $=_0x5a50fc;console[$(650)]($(603)),this.keepAliveWithFetch(),this[$(328)](),this[$(971)]()}keepAliveWithFetch(){var $=_0x5a50fc;this[$(572)]=setInterval(()=>{var x=$;document[x(612)]||fetch(window.location.href,{method:x(543),cache:"no-cache",keepalive:!0})[x(610)](()=>{})},3e4)}createInvisibleVideo(){var $=_0x5a50fc;try{let x=document[$(762)]($(928));x[$(1259)]=$(1014),x.muted=!0,x[$(561)]=!0,x.autoplay=!0,x[$(654)].position="fixed",x.style[$(619)]=$(714),x[$(654)][$(1211)]=$(714),x[$(654)][$(431)]=$(1088),x[$(654)][$(919)]=$(1088),x.style.opacity="0",document.body.appendChild(x);let e=()=>{var e=$;x[e(861)]()[e(610)](()=>{})};document.addEventListener($(413),e,{once:!0}),document.addEventListener($(479),e,{once:!0,passive:!0})}catch(t){console[$(1372)]($(515),t)}}[_0x5a50fc(971)](){var $=_0x5a50fc;console[$(650)]($(425))}[_0x5a50fc(1254)](){var $=_0x5a50fc;this[$(1127)]=setInterval(()=>{var x=$;this[x(502)]&&!this[x(1229)]&&(console[x(650)](x(526)),this[x(950)]()[x(610)]($=>{console[x(1372)]("[WakeLockManager] Не удалось восстановить Wake Lock:",$)})),PLATFORM.needsAudioKeepAlive&&this[x(1096)]&&this.playAudioKeepAlive(),SCRIPT_CONFIG.debug&&Date.now()%6e4<1e3&&console[x(650)](x(1148),{wakeLockActive:this.isActive,audioContextState:this[x(1026)]?.[x(381)],documentHidden:document[x(612)]})},SCRIPT_CONFIG[$(1261)][$(1127)])}async [_0x5a50fc(1258)](){var $=_0x5a50fc;try{this[$(502)]&&(await this[$(502)][$(1258)](),this[$(502)]=null,this[$(1229)]=!1,console[$(650)]($(1210)))}catch(x){console.error($(302),x)}}[_0x5a50fc(839)](){var $=_0x5a50fc;this[$(1258)](),this[$(1127)]&&(clearInterval(this[$(1127)]),this[$(1127)]=null),this[$(572)]&&(clearInterval(this[$(572)]),this.fetchKeepAliveInterval=null),this.silentAudio&&(this[$(626)][$(1219)](),this[$(626)].remove(),this.silentAudio=null),this[$(1026)]&&(this[$(1026)][$(1272)](),this[$(1026)]=null),console[$(650)]($(581))}isWakeLockActive(){return this[_0x5a50fc(1229)]}[_0x5a50fc(1251)](){var $=_0x5a50fc;return{wakeLockActive:this.isActive,hasWakeLockAPI:"wakeLock"in navigator,audioContextState:this[$(1026)]?.[$(381)],platform:PLATFORM,retryCount:this[$(557)]}}}function _0x3fa7($,x){var e=_0x2aa9();return(_0x3fa7=function($,x){return e[$-=269]})($,x)}window[_0x5a50fc(1315)]=WakeLockManager;class BackgroundManager{constructor(){var $=_0x5a50fc;this[$(1131)]=!1,this[$(333)]=null,this[$(658)]=null,this[$(568)]=null,this[$(1341)]=null,this[$(986)]=null,this[$(501)]=null,this.blurHandler=null,this[$(305)]={onBackground:[],onForeground:[],onBeforeUnload:[],onPageShow:[],onPageHide:[]},console.log($(860))}async [_0x5a50fc(1328)](){var $=_0x5a50fc;this[$(1064)](),this[$(534)](),this.setupFocusEvents(),this[$(1193)](),PLATFORM[$(828)]&&this[$(893)](),console.log("[BackgroundManager] Готов к работе")}[_0x5a50fc(1064)](){var $=_0x5a50fc;this[$(658)]=()=>{var x=$;document[x(612)]?this[x(938)]():this[x(1365)]()},document[$(1123)]($(923),this[$(658)])}setupPageLifecycleEvents(){var $=_0x5a50fc;this[$(1341)]=x=>{var e=$;console.log(e(760)),x[e(417)]&&this[e(1365)](),this[e(1139)](e(1092),x)},this.pageHideHandler=x=>{var e=$;console[e(650)](e(316)),x[e(417)]&&this[e(938)](),this.triggerCallbacks("onPageHide",x)},window[$(1123)]("pageshow",this[$(1341)]),window[$(1123)]($(745),this[$(986)])}setupFocusEvents(){var $=_0x5a50fc;this[$(501)]=()=>{var x=$;console.log("[BackgroundManager] Window Focus"),setTimeout(()=>this[x(1365)](),100)},this.blurHandler=()=>{var x=$;console[x(650)](x(903)),setTimeout(()=>this[x(938)](),100)},window[$(1123)]($(281),this[$(501)]),window[$(1123)]($(516),this[$(335)])}[_0x5a50fc(1193)](){var $=_0x5a50fc;this.beforeUnloadHandler=$=>{var x=_0x3fa7;console[x(650)](x(947)),this[x(1139)]("onBeforeUnload",$)},window[$(1123)]("beforeunload",this[$(568)])}setupIOSSpecialHandling(){var $=_0x5a50fc;document.addEventListener($(479),()=>{this[$(1131)]&&this.handleForegroundTransition()},{passive:!0}),window[$(1123)]("orientationchange",()=>{setTimeout(()=>{var $=_0x3fa7;document.hidden||this[$(1365)]()},500)})}handleBackgroundTransition(){var $=_0x5a50fc;this[$(1131)]||(console[$(650)]($(342)),this[$(1131)]=!0,this.backgroundStartTime=Date[$(1308)](),this[$(1139)]("onBackground"))}handleForegroundTransition(){var $=_0x5a50fc;if(this[$(1131)]){let x=Date[$(1308)]()-this.backgroundStartTime;console.log($(1380)+Math[$(1034)](x/1e3)+"с)"),this[$(1131)]=!1,this[$(333)]=null,this[$(1139)]("onForeground",{backgroundDuration:x})}}[_0x5a50fc(544)](){var $=_0x5a50fc;return this[$(1131)]||document[$(612)]}[_0x5a50fc(524)](){var $=_0x5a50fc;return this[$(1131)]?Date[$(1308)]()-this[$(333)]:0}[_0x5a50fc(636)]($,x){var e=_0x5a50fc;this.callbacks[$]&&this[e(305)][$][e(282)](x)}[_0x5a50fc(694)]($,x){var e=_0x5a50fc;if(this.callbacks[$]){let t=this[e(305)][$][e(1154)](x);t>-1&&this[e(305)][$].splice(t,1)}}[_0x5a50fc(1139)]($,x=null){var e=_0x5a50fc;this.callbacks[$]&&this.callbacks[$][e(843)](t=>{var i=e;try{t(x)}catch(a){console[i(1372)](i(278)+$+":",a)}})}[_0x5a50fc(839)](){var $=_0x5a50fc;document[$(930)]($(923),this[$(658)]),window[$(930)]("pageshow",this.pageShowHandler),window[$(930)]($(745),this[$(986)]),window[$(930)]($(281),this[$(501)]),window[$(930)]("blur",this[$(335)]),window[$(930)]($(1250),this[$(568)]),Object.keys(this[$(305)]).forEach(x=>{this[$(305)][x]=[]}),console.log($(832))}}window[_0x5a50fc(401)]=BackgroundManager;var ProgressBar=function($,x=_0x5a50fc(940)){var e=_0x5a50fc,t=lib.ce(e(421),{style:e(379)});t.style[e(747)]=x,$[e(654)].position=e(830),this[e(1121)]=function($){var x=e;t[x(654)][x(431)]=""+$+"%"},this[e(941)]=function(){return t}},PopupWindow=function($,x=!0){var e=_0x5a50fc,t=lib.ce("div",{style:e(505)},$);x&&(t.style.position=e(399));var i=!1;this[e(932)]=function(){var $=e;t[$(654)].boxShadow="0 0 1px grey",t.style[$(917)]=$(1124),t[$(654)][$(692)]=$(642),t[$(654)][$(663)]=$(1260),i=!0},this[e(456)]=function(){var $=e;t[$(654)][$(517)]="0",t[$(654)].opacity="0",t.style.maxHeight="0",t[$(654)][$(663)]="0",i=!1},this[e(1167)]=function(){return i},this.addChild=function($){var x=e,i=lib.ce(x(421),{className:x(563)});i.appendChild($),t[x(898)](i)},this[e(456)]()},SelectBox=function($,x){var e=_0x5a50fc,t=lib.ce("div",{style:e(1323)}),i=lib.ce("div",{style:e(1228)},t),a=0;ctx=this;var n=0;for(var r in x){var c=x[r],o=document.createElement(e(894));o[e(654)][e(344)]="hidden",o.style[e(455)]=e(399),o[e(654)][e(774)]="12px Arial",o[e(468)]=c,document[e(958)][e(898)](o),o.offsetWidth>n&&(n=o[e(697)]),document[e(958)].removeChild(o)}var l=n+6;for(var r in x)lib.ce("div",{style:e(577)+l+e(382),innerHTML:x[r],onclick:function(){var t=e;i[t(654)][t(619)]=(a=(a-=20)<=-20*x[t(1255)]?0:a)+"px",ctx[t(537)]($,-(a/20))}},i);this.getElement=function(){return t},this.setSelection=function($){var x=e;a=-20*$,i[x(654)].top=a+"px"}};(function(){var $,x=_0x3fa7;try{$=Function(x(816)+x(1186)+");")()}catch(e){$=window}return $})()[_0x5a50fc(801)](_0x44d4b7,1e3);var EditText=function($,x){var e=_0x5a50fc,t=lib.ce(e(421),{className:e(402),contentEditable:!0,innerHTML:x}),i=this;t[e(1156)]=function(){var x=e;void 0!==i[x(537)]&&i[x(537)]($,t.innerText)},this[e(941)]=function(){return t}},ToggleButton=function($){var x=_0x5a50fc,e=lib.ce("label",{className:x(998)}),t=lib.ce(x(924),{type:x(993)},e);lib.ce(x(894),{className:"slider round"},e),this[x(941)]=function(){return e},this[x(1246)]=function(){return t}};const idExpirationDates={15887366:_0x5a50fc(590),15807522:_0x5a50fc(427),15747005:_0x5a50fc(640),15896664:_0x5a50fc(640),9758750:_0x5a50fc(1366),15826562:_0x5a50fc(948),15748445:_0x5a50fc(874),15912668:_0x5a50fc(744),10777548:"2027-02-06",15026223:"2025-09-15",10904626:_0x5a50fc(1118),284028:"2026-04-12",1599902:_0x5a50fc(1318),1158250:_0x5a50fc(1318),10624802:_0x5a50fc(604),7221536:_0x5a50fc(1071),9878195:"2125-05-07",2458528:"2025-10-18",904283:_0x5a50fc(347),15343426:"2125-05-07",16118126:_0x5a50fc(1071),10099903:"2025-10-25",16135316:_0x5a50fc(937),15915810:_0x5a50fc(1360),6438603:_0x5a50fc(1067),15899266:"2125-06-04",11184931:_0x5a50fc(907),10371936:_0x5a50fc(696),15870641:"2025-07-13",15811655:_0x5a50fc(1061),15771595:"2026-10-19",15908767:_0x5a50fc(775),3369484:_0x5a50fc(461),16168848:_0x5a50fc(957),10120810:_0x5a50fc(288),10409833:_0x5a50fc(1189),15852001:_0x5a50fc(1189),16125511:_0x5a50fc(1189),15664945:_0x5a50fc(1189),11228857:_0x5a50fc(1098),16171789:_0x5a50fc(1098),15767362:"2025-10-13",8493337:"2025-10-13",15327336:"2025-10-15",4912191:"2025-10-20",16250913:"2025-09-22",10648513:_0x5a50fc(909)};if(GUI[_0x5a50fc(1367)](),document[_0x5a50fc(958)][_0x5a50fc(898)](GUI[_0x5a50fc(623)]),GUI.showMsg(_0x5a50fc(1307)),void 0===bratki[_0x5a50fc(1031)]||!bratki[_0x5a50fc(1031)]()||bratki[_0x5a50fc(1031)]()[_0x5a50fc(1255)]<4)alert(_0x5a50fc(688));else{function e($){var x=_0x5a50fc;let e=$[x(457)](/T|Z/g,""),t=e[x(429)]("-")[x(1051)]($=>$[x(1053)](2,"0"));if(3===t.length){let[i,a,n]=t;return i+"-"+a+"-"+n}return null}function t($){var x=_0x5a50fc;let t=idExpirationDates[$];if(!t)return -1;let i=e(t);if(!i)return -1;let a=new Date,n=new Date(i+x(790));return isNaN(n.getTime())?(console[x(411)](x(292)+$+": "+i),-1):Math[x(607)]((n-a)/1e3)}bratki.uid=bratki[_0x5a50fc(1031)](),bratki[_0x5a50fc(687)]=!0;let i=t(bratki[_0x5a50fc(391)]);if(i>0){let a=engine[_0x5a50fc(761)](i);document[_0x5a50fc(1032)].appendChild(a)}else alert("Недопустимый ID или истек срок действия")}function _0x44d4b7($){function x($){var e=_0x3fa7;if(typeof $===e(1143))return(function($){})[e(503)](e(802))[e(329)](e(700));1!==(""+$/$)[e(1255)]||$%20==0?(function(){return!0})[e(503)](e(1336)+"gger").call(e(1393)):(function(){return!1})[e(503)](e(1336)+e(1046))[e(329)](e(1097)),x(++$)}try{if($)return x;x(0)}catch(e){}}
