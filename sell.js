var _0x1813eb=_0x16bb;!function($,x){for(var e=_0x16bb,t=$();;)try{if(parseInt(e(671))/1+-parseInt(e(1483))/2*(parseInt(e(712))/3)+-parseInt(e(599))/4+parseInt(e(890))/5*(parseInt(e(1364))/6)+-parseInt(e(1162))/7+-parseInt(e(574))/8*(-parseInt(e(736))/9)+-parseInt(e(1378))/10*(-parseInt(e(564))/11)==713117)break;t.push(t.shift())}catch(i){t.push(t.shift())}}(_0x34b5,713117);var _0x27f24b=function(){var $=!0;return function(x,e){var t=$?function(){var $=_0x16bb;if(e){var t=e[$(1214)](x,arguments);return e=null,t}}:function(){};return $=!1,t}}(),_0x156f8d=_0x27f24b(this,function(){var $=_0x16bb;return _0x156f8d.toString()[$(855)]($(1481))[$(559)]()[$(525)](_0x156f8d)[$(855)]($(1481))});_0x156f8d();var _0x21fc34=function(){var $=!0;return function(x,e){var t=$?function(){var $=_0x16bb;if(e){var t=e[$(1214)](x,arguments);return e=null,t}}:function(){};return $=!1,t}}();function _0x34b5(){var $=["Бонус за 700 <img src='https://img3.bratki.mobi/images/icons/cash.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> и 1 <img src='https://img2.bratki.mobi/images/tmp/bullets12x12.png' alt='bullet' style='vertical-align: middle; width: 15px; height: 15px;'>","div.header","memoryPressure","[WakeLockManager] Не удалось запустить silent audio:","startFPSMonitoring",".enemies-list-items","Точный выстрел","getSceneLinks","Количество мобов для обстрела <img src='https://img3.bratki.mobi/images/icons/gun_12x12.png  ' alt='defensive stand' style='vertical-align: middle; width: 12px; height: 12px;'>","followtarget","Бонус за 350 <img src='https://img3.bratki.mobi/images/icons/cash.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>","blur","background","Бонусы","⚠️ [AutoBon] Ячейка настойки ","(((.+)+)+)+$","[WorkerManager] Не удается создать таймер - worker недоступен","17618lJAwPX","disconnect","isInitialized","-receptionsClass-0-receptions-2-link",'a[href*="items-',"postMessage","responseText","findLinksByUrlComponent","Нитро","onchange","[WorkerManager] Workers не поддерживаются, используем fallback","2025-10-01","silentAudio","adjustable_barrage","2026-10-19","2726-10-19","meta","onsubmit","confirmReq",'\n                        self.onmessage = function(e) {\n                            const interval = e.data;\n                            function tick() {\n                                self.postMessage("tick");\n                                setTimeout(tick, interval);\n                            }\n                            tick();\n                        };\n                    ',"playpause","https://img1.bratki.mobi/images/cities/ghetto_480.jpg","setNetworkInterval","stripMelon","2026-09-29","bg_potrox","timerWorker","Фон: Площадь Культуры","getCheckbox","initConnectionManager","[WakeLockManager] Ошибка освобождения Wake Lock:","screen","method","норм","enable_belt_3","lastCheck","Быстрая прокачка прикрытия <img src='https://bratki.mobi/images/icons/quest_energy.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","[Bratki Engine] Инициализация завершена успешно","warehouse","backgroundStartTime","btn-lock","/icons/skillcooldown.png","bg_city","Задание недоступно","input.btn-a.form-submit","min_random_timeout (","-giftPanel-giftCell-getGiftLink","Невозможно прикрепить вещь. Максимум 10.","[MobileManager] Деактивация энергосберегающего режима",'img[src*="defensive_stand.png"]',"createHelpPopupHandler","fly","[WakeLockManager] Ошибка создания Audio Context:","Грабежи","color","none","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAABDUlEQVR4AcXSPUoDURRH8TtJOj9aEXEVouAqRBAtDIq4AwsDgo0IIskUQkAsBDGFrkALRdBCG+swpJIQFFdgJKNH8PK43EiYgRT+/t1jTvGGJ/+BHYJtpH/C310SNPIFzwRPg4MCj9ywxDQNvghSzphimVseiHywifrG+JM1LGCcd7K8MmrBIV6TKjUSvH0LynQxRxQQhCJ1zAcrFgiztFFN9HNNEtQLM/2/dRdVRbDFqAoyKKjlC+bpoBKKhNMSLVSbOSxgnU9MHU1KHGO6rFpwgJcQE9PC27NgjDeydBixQNjIfBplf+mIe65YYJJTUoIeJ0ywyDV3REM9b78LgvN8QYX0dz228gR+wwc/ymXie5Q1fWkAAAAASUVORK5CYII=","/stim_speed_12x12.png","attack_predators","Цикл стимов включен, слежка активна - запрещаем повтор","injection","Робот","handleTimerComplete","Первая помощь","[WorkerManager] Инициализация...","[BackgroundManager] Переход в фоновый режим",".enemies-list-items .enemies-item a","readyState","webkitAudioContext","откл","Открыть ящик","выкл",".quant","paused","isInBackground","font-size: 12px; color: #ffffff; max-width: 300px; line-height: 1.4;","headshot","volume","Фон: Порт","2026-06-14","isCharging","some","Фокус мобов движух <img src='https://img0.bratki.mobi/images/icons/ach.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","onBackground","-itemsList-18-itemPanel-item-customPanel-selectLink","setPopup","touchmove","transition: 250ms; overflow: hidden; max-height: 0; max-width:0; padding: 0;","__proto__",") !important;\n                    }\n                ","application/javascript","setupRandomTimeout","data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEA...","-receptionsClass-2-receptions-1-link","enterLink","ping","error","pause","target2","/location/specshkola","0 0 1px grey","маст","chem_accuracy","getTeamHp","[WorkerManager] Готов к работе","-confirmLink","Лестница","lockPage","src","/stim_armor_12x12.png","#auto_repair","GuildStoragePage","textContent","entries","beltBlock-1","Worker","find","/home","Достиг бонус-оружейник <img src='https://img3.bratki.mobi/images/NPCs/topor.gld.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","updateModules","querySelector","visibilitychange","Выживание +10 мин <img src='/images/icons/revival.png' alt='revival' style='vertical-align: middle; width: 12px; height: 12px;'> за 1 <img src='https://img2.bratki.mobi/images/tmp/bullets12x12.png' alt='bullet' style='vertical-align: middle; width: 12px; height: 12px;'>","checkbox","data:","map","licenseCheck","https://img0.bratki.mobi/images/cities/police_480.jpg","gameWorker","2025-10-20","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover","getCombatLinks","Усмирение тигра","type","Фон: Федеральный Центр","hasNewInterface","Затягивание ран +30%  <img src='https://img1.bratki.mobi/images/icons/regen.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> на 30мин","<img src='https://img1.bratki.mobi/images/items/stimulators/adrenalin_inj32.png  ' alt='adrenaline' style='vertical-align: middle; width: 15px; height: 15px;'>"," НЕДОСТУПНА (inactive span)","Фон: Свободные Кварталы","fallbackToOriginal","trim","lastAction","mozConnection","gang2-enabled","UnrulyPort","responseURL","[MobileManager] Обработка нехватки памяти","<span>Команда</span>","return_battle","[BackgroundManager] Ошибка в callback ",".custom-menu","Задержка способностей <img src='https://img3.bratki.mobi/images/icons/clock.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","ul.block","Неистовство","show","bottomProgress","2125-01-19","webkitConnection"," д. ","pageShowHandler","suspended","menu_dim","select","debug",'-selectItemLink"].btn-a',"display: flex; align-items: center; gap: 5px;","text",'a.btn-a.narrow.mt5[href*="gang/donate"]',"transfer_recipient_id","[WorkerManager] Timer Worker ошибка:","oninput","avto","gift_recipient_id","charging","Покрутить отмычку","2125-10-25","clear","RestPrank","Мин. таймаут ожидания (мс) \uD83D\uDC0C","2026-09-22","Надо","Достиг тренер по стрельбе <img src='https://img2.bratki.mobi/images/NPCs/shumer_guard.gld.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","pushState","settings","Автоматическая отправка подарков <img src='https://img2.bratki.mobi/images/icons/present_21x21.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","/user","script_speed_max_timeout","Выбрать","priority","padding","constructor","GuildDonateItem","public_items_sell","[MobileManager] Готов к работе","loadTime","currentItemIndex","tr.va-t a:not(.minor)","getNextScene","Хищник-воин","Персонаж","Проезжает гонки с максимально быстрой скоростью","rebornLink","optionTwoLink","). Используется max_random_timeout.","setUpdateInterval"," Задержки на значение \"0\" не работают <img src='https://cdn-icons-png.flaticon.com/128/7887/7887126.png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","name","1000px","absolute","bonus_bullet_no_icon","true","Задержка нажатия на нитро <img src='https://img1.bratki.mobi/images/cars/icons/21x21_nitro.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>","removeChild","target","handleScene","clearCaches","Лечение < Инъекция < Яд < Точный","backgroundManager","expires","processGameLogic","pageY","aHR0cHM6Ly9kZXZicmF0ay5naXRodWIuaW8vYXJkcy90dG5uLmpzP3tEYXRlLm5vdygp","Автоматическая проверка и выполнение заданий на прикрытие","Отключение <img src='https://bratki.mobi/images/icons/neutral.offline.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>","toString","getCookie","Неистовство < Робот < Слежка < Точный","[Bratki Engine] Загрузка оригинальных модулей...","healLink","595848PvUwJP","heal_link","initFallbackMethods","мс)","все","closest","span","visibility","Районы",'img[src*="followtarget.png"]',"7304wSslIy","Остановить","[MobileManager] Высокое использование памяти: ","borderTop","hasAttribute","-bottles-4","onForeground","Стим 1  <img src='https://img0.bratki.mobi/images/items/stimulators/new/energy_light_32x32.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","rTimeout",'{}.constructor("return this")( )',"preventDefault","public_items_gang",'a.btn-flat[href*="ILinkListener-attachLink"]',"2025-09-15","/stim_power_12x12.png","Стим 4  <img src='https://img1.bratki.mobi/images/items/stimulators/adrenalin_inj32.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","robot","timer_complete","batteryManager","Прокачка достижения Зажигалка <img src='https://img0.bratki.mobi/images/icons/cent.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","skill_bonus_3","<img src='https://img0.bratki.mobi/images/items/stimulators/new/energy_light_32x32.png  ' alt='energy' style='vertical-align: middle; width: 15px; height: 15px;'> ","attack_dead_bypass","[WakeLockManager] Ошибка инициализации Audio Keep-Alive:","toLocaleTimeString","3665860WBVgji","Robberycentury","Склады Седого","inactive","[WakeLockManager] Не удалось запросить Wake Lock:","https://img1.bratki.mobi/images/cities/old_city_480.jpg","Задержка нажатия на Газ <img src='https://img3.bratki.mobi/images/cars/icons/21x21_gaz.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>","persisted","reload","isIOSSafari","[WorkerManager] Деинициализация завершена","Газануть","ID заказухи","nebo","start","hideMsg","robLink","status","hasOwnProperty","BratkiEngine","defensive_stand_threshold","[MobileManager] Низкий FPS: ","[WakeLockManager] Wake Lock освобожден вручную","Хищник-каратель",'\n                    .custom-menu::before {\n                        content: "";\n                        position: absolute;\n                        top: 0; left: 0; right: 0; bottom: 0;\n                        background: url(\'',"min_random_timeout","Недопустимый ID или истек срок действия","Проверять доступность грабежей и выполнять их","autoMissions","cookie","rampage","Фон: Старый город","[BackgroundManager] Page Hide event","⏳ Осталось: ","По умолчанию","setupIOSFullscreen","timeoutId","-receptionsClass-0-receptions-3-link","updateBatteryState","a[href*='user']:not([class])","init","2025-08-19","createSettingElement","/cover","Невалидная дата для ID ","touches","red","Защитная стойка","attack_vzaim","memory","replace","не личные вещи - сбыть","[WakeLockManager] Wake Lock освобожден","edit_text","createMenu","Бонус за 700 <img src='https://img3.bratki.mobi/images/icons/cash.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>","item_categories_csv","[WorkerManager] Ошибка обработки сообщения ","Установить","enable_belt_1","auto_off","❌ Лицензия недействительна","btn-a narrow ml5","send","0px","memoryWarningHandler","enableNetworkSavingMode","closeAllPopup","desc_","elements","forceLowPowerMode","focus","850062HWnXxI","orientationHandler","startGameLoop","destroy","setupFocusEvents","bg_old_city","isSafari","popups","Атаковать","style","getState","getEnemyHp","-10 сек <img src='https://img2.bratki.mobi/images/icons/skillcooldown.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> на 30 мин за 3 <img src='https://img2.bratki.mobi/images/icons/bucks.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>","operation_bunker","createTimerWorker","addItemLink","recalculateLayout","Цикл стимов ","Лицензия не активна","beltBlock-2","Аптечка","flex: 1;","Пнуть замок","wakeLockManager","menuOpened","classList","-receptionsClass-0-receptions-0-link","handleOrientationChange","wait_timeout_max","16px","[WorkerManager] ","❌ Не удалось извлечь ID из ссылки","Полная версия","a.btn-a.ml3","/task","Забрать","domain","heartbeatInterval","#2196F3","Немного","2025-10-05","96QNkzer","\n                position: absolute;\n                border-radius: 3px;\n                color: #ffe600ff;\n                transition: 500ms;\n                z-index: 2000;\n                overflow: hidden;\n            ","❌ Не удалось найти ID в профиле","На главную","[MobileManager] Изменение ориентации: ","timestamp","improveBlock-improveLink","beforeUnloadHandler","input","bg_banda","mod_item_name"," worker pong:","\"Выбрать все\" при отправке <img src='https://bratki.mobi/images/icons/mes_out_cod.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","unknown","forEach","bg_doki","link","1px","padStart","setTime","overflow: hidden; border-radius: 3px; z-index: 3000; right: 0; background: #000; transition: 250ms;","разряжается","gun_","setupViewportOptimizations","13491SdYdkI","isChrome","release","menu","getSceneLink","Сдать в общак","relative","Автопересыл общака <img src='https://img3.bratki.mobi/images/icons/auction.png' style='vertical-align: middle; width: 20px; height: 20px;'>","Настройка фона, цвета текста и затемнения меню скрипта с помощью RGB-ползунков, выбора изображения и ползунка затемнения",".content-inner .font12.c-gray","blurHandler","[MobileManager] Активация оптимизаций производительности","autoInjectedScript","destination","setupIOSSpecialHandling","BackgroundManager","https://img3.bratki.mobi/images/cities/city_480.jpg","#menu-bg-style","clicked","[WakeLockManager] Audio Keep-Alive готов","table a[href*='selectItemLink']","div.font12.p3 > div.mt5",'Тони "Фикса"',"left","getMissionsLinks","length","messageHandlers","Макс. таймаут ожидания (мс) <img src='https://img.icons8.com/?size=48&id=19034&format=png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","observe","children","execute_module","bg_gorki","isOpened","initAudioKeepAlive","html","onclick","parentNode","Стим 3  <img src='https://img2.bratki.mobi/images/items/stimulators/new/energy_red_32x32.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","key","gger",".b-enemy","-2-linkMoney","Слежение за целью","unlockPage","полн","-itemsList-26-itemPanel-item-customPanel-selectLink","major","handleBackgroundTransition","safeMode","[MobileManager] Медленная операция: ","0.7","min","setInterval","2125-05-28","display: inline-block","pageshow","[BackgroundManager] Page Show event","damageLastAttackerLink","gift-enabled","Мастерская мясника","/icons/double_exp.png","Воскресный шоппинг","❌ Не найдена страница персонажа","removeEventListener","12px Arial","Беспредел в порту","log","effectiveType","random","intervalId","-difficultyLink","[WakeLockManager] Инициализация Audio Keep-Alive для iOS...","a[href*='messagePanel:codIncomingBlock:codActionsPanel:buyLink']","GreenBar",'a[href*="takeLink"]',"Захват СМИ","NotAllowedError","https://img2.bratki.mobi/images/cities/gorki_480.jpg","buffer","onerror","span.inactive","2125-09-01","chem_power","createObjectURL","playAudioKeepAlive","usedJSHeapSize","exception","isIOS","href","[MobileManager] Инициализация для:","getAttribute","val_","проф","beltBlock-0","✅ Лицензия активна, ID: ","form","play","acceptLinkPanel"," ч.","Хищник-командующий","overflow","video","gun","give-all","batteryLevel","Гостиная","getBattery","remaining","Администрация вокзала","12px","cover-enabled","brute_abilities_order","smi","Стрелка в парке","getUid","connect","-bottles-0","game","showItemsLink","search","isAndroid","contains","createSilentAudio","handleEngineState","T00:00:00","setupIOSOptimizations","removeProperty","isPageLocked","prototype","span.warn","Сумка",".b-header.small","descPopup","showBottom","timerId","a[href*='","settings_","message","setupPageLifecycleEvents","[MobileManager] Кеши очищены","floor","furious","running",".enemies-item a","requestWakeLock","[MobileManager] Активация энергосберегающего режима","Травить всех <img src='https://img1.bratki.mobi/images/icons/poison_12x12.png  ' alt='defensive stand' style='vertical-align: middle; width: 12px; height: 12px;'>","getMyHp","handleForegroundTransition","⚠️ [AutoBon] Таблица настоек не найдена (.content-inner.bg-verygray)","Подлый барыга","2026-10-16","[WorkerManager] Game Worker error:","content","1055jFbQED","getModulesState","block:blockLink","bonus_350","\n\nОбратитесь к разработчику для продления лицензии.","initBatteryManager","Минимальная стойка <img src='https://img3.bratki.mobi/images/icons/defensive_stand.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>",".enemies-item","isSupported","transferMode","toFixed","1px solid #fff","[WakeLockManager] Wake Lock заблокирован пользователем","a[href*='crackLink']","workerManager","[WorkerManager] Ошибка инициализации:","takeLink","linkt","[WakeLockManager] Ошибка создания silent audio:","survival_10min","removeCallback","[MobileManager] Network Information API недоступен:","confirmLink","Мэр заказан","arena-enabled","⚠️ [AutoBon] Хедер (.b-header.small) не найден — скрипт не может проверить иконки","Запустить","⚠️ Очистка памяти...","Наводки \uD83D\uDCF2","updateConnectionState","Инъекция","handleSlowPerformance","img","onkeyup","getElementById","enable_belt_combined","skill_bonus_2","onComplete","') no-repeat center center;\n                        background-size: cover;\n                        opacity: ","get_all_items","state","Особое <img src='https://img0.bratki.mobi/images/icons/aftoriteti.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>","terminate","crackLink","5px","2125-06-04","bind","executeModule","nextSibling","2125-05-07","Автопочинка <img src='https://img0.bratki.mobi/images/icons/cogwheel_3.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","submit",", активация энергосберегающего режима","Смертельный форсаж","[WakeLockManager] Деинициализация завершена","[MobileManager] Медленное соединение, активация экономного режима","handlePage","[WorkerManager] Не удается запустить game loop - worker недоступен","minor","PerformanceObserver","setupUserInteractionListener","duration","shooter_abilities_order","Моя сумка","timer_progress","returnLink","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","transition","Обстрел","Красный (R)","-receptionsClass-1-receptions-0-link","2026-04-12","-1-linkMoney","[WakeLockManager] Wake Lock неактивен, попытка восстановления...","500ms","enable_belt_4","Заказуха выполнена","2025-10-26","waitScene","border-top: 1px solid #fff; font-size: 12px; overflow:hidden; transition: 250ms;","orientationchange",".search-form, .b-notice, .event, .b-header, .container, .b-footmenu","pow","[WakeLockManager] WebSocket keep-alive пока не реализован","input, textarea, select","Tiger","warn","[WakeLockManager] Ошибка создания invisible video:","Настойка живучести<img src='https://img2.bratki.mobi/images/items/stimulators/new/stim_stamina_12x12.png' alt='stamina' style='vertical-align: middle; width: 15px; height: 15px;'>","[MobileManager] Ошибка инициализации мониторинга производительности:","object","Ждать","bonus_700_and_bullet","setProgress","pageHideHandler","createToggleHandler","position: relative; top: 2px; display: inline-block;","doctor_abilities_order","module","test","enablePerformanceOptimizations","час до отключения","audio","Рандомно","onmousedown","chem_stamina","checked","toLowerCase","bucks","split","\n            .custom-menu::before {\n                content: \"\";\n                position: absolute;\n                top: 0; left: 0; right: 0; bottom: 0;\n                background: url('https://raw.githubusercontent.com/JenichG/nx/main/Endless Falls 1.gif') no-repeat center center;\n                background-size: cover;\n                opacity: 0.9;\n                z-index: -1;\n            }\n            .custom-menu {\n                color: #c8ff00ff;\n            }\n        ","10px","padding: 3px; display: inline-block; color: #2196F3; cursor: pointer",'Очистка сумки от вещей, <br /><font color="#ff0000">Будьте осторожны при выборе варианта сбыть</font><br /><font color="#ff3">исключеня</font> - (с общагом не работает) ключевые слова исключаящие обработку вещи, через запятую, например: филки, ящик',"addEventListener","https://img3.bratki.mobi/images/cities/doki_480.jpg","menuCustomizer","initPopupManager","while (true) {}","sboritems-enabled","removeLinksByUrlComponent","handleWorkerMessage","[MobileManager] Батарея: ","exc","font","Пляжная вечеринка","У тебя в сумке нет модификаторов.","2025-10-14"," не найдена","userAgent","handleWorkerPong","Тепловизор","не хватает","gift_everyday","setAttribute","onswitch","Все","onpopstate","setCookie","jsHeapSizeLimit","thrownfactory","black","Затягивание ран +30%  <img src='https://img1.bratki.mobi/images/icons/regen.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> на час","requestCnt","beforeunload","Минимальная задержка","javascript:void(0)","translateZ(0)","fallbackMainLoop",".b-user","uid","includes","enabled","<img src='https://img1.bratki.mobi/images/items/stimulators/new/coffee3_32x32.png  ' alt='coffee' style='vertical-align: middle; width: 15px; height: 15px;'> ","loop","checkWorkerSupport","Инъекция < Лечение < Точный < Яд","бесп","[BackgroundManager] Before Unload","head",") превышает max_random_timeout (","background:#000; position:relative; transition:250ms; top:0px;",'Регулировка случайного интервала задержки между кликами с помощью двух ползунков. <br /><font color="#FFFF33">*Минимальная задержка</font> - минимальное время задержки (в миллисекундах). <br /><font color="#FFFF33">*Максимальная задержка</font> - максимальное время задержки (в миллисекундах). ЕСЛИ МОДУЛЬ ВЫКЛЮЧЕН, РАБОТАЕТ СТАРАЯ ЗАДЕРЖКА',"location","timer","WakeLockManager","friends","startHeartbeat","auto","maxSafeModeTimeout","isActive","[WakeLockManager] Wake Lock API недоступен, используем fallback","ожидание","display: inline-block; padding-left: 3px;","connectionType","Да, подтверждаю","function *\\( *\\)","Bratki Enhanced Script","[MobileManager] Connection Manager инициализирован","private_items_sell","/gang/menu","visibilityChangeHandler","2025-10-15","setupVisibilityAPI","Обновить","https://img0.bratki.mobi/images/tournaments/ripper_tournaments_480.gif","Состояние аффекта","audioBuffer","HEAD","cursor: pointer; height:20px; border-radius:5px; overflow:hidden; display:inline-block;","display: inline-block; font-size: 12px; transition: 500ms;","checking","0:targetLink","display: inline-block; overflow: hidden; padding: 3px; vertical-align: top;","heartbeat","[Bratki Engine] Обработка игровой логики...","keepAliveWithFetch","не личные вещи - в общаг","clearCache","Проверка лицензии перед работой скрипта","diff","[MobileManager] Низкий заряд батареи: ","request","skill_bonus_4","callbacks","[BackgroundManager] Window Focus","-1000px","survival_20min","double_exp_60min","findHomeLink","Название вещи для установки модов","loadOriginalModules","KillMajor","/icons/regen.png","documentElement","setupAndroidOptimizations","take-all","mobileManager","join","Точный < Обстрел < Аффект < Стойка","Авто бон \n  <img src='https://img0.bratki.mobi/images/icons/specshkola.png' \n       alt='Бицепс' \n       style='width: 20px; height: 20px; vertical-align: middle; animation: flex 2s infinite;'>\n  <style>\n    @keyframes flex {\n      0%, 100% { transform: scale(1); }\n      50% { transform: scale(1.1); }\n    }\n  </style>\n","keys","modification-enabled","getEntries","getElement","menu_color_g","currentCategoryIndex","Обстрел < Точный < Стойка < Аффект","a[href*='tempItemsLink']","getTimerWorkerCode","isOpen","fetchKeepAliveInterval","createGameWorker","500px","Верхний хол","custom-menu","/message/create","handleMemoryPressure","СТАРТ!!!","Включить подсветку мобов на арене <img src='https://img1.bratki.mobi/images/NPCs/mafia_boss.gld.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","Стим 2  <img src='https://img1.bratki.mobi/images/items/stimulators/new/energy_black_32x32.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","urlData","[WakeLockManager] Не удалось запросить Wake Lock после взаимодействия:","skill_bonus_1","-items-","div.road-line","focusHandler","tagName","menu_color_r","getGameWorkerCode","engine","[WorkerManager] Таймер ","update_modules","Патруль","enableLowPowerMode","Ограбление Века","popup_","audioContext","Бункер","Зажигалка","-buffsCommon-1-link","connectionManager","stateObject","Голубой огонек","nodeType","startsWith","portrait","chem_speed","2025-10-28","position","trace","function","5316766eyvTpM","Продолжить бой","from","needsAudioKeepAlive","Категории для сбора","a[href*='selectItemLink']","[MobileManager] Медленная производительность: ",'\n                    .custom-menu::before {\n                        content: "";\n                        position: absolute;\n                        top: 0; left: 0; right: 0; bottom: 0;\n                        background: url(\'https://raw.githubusercontent.com/JenichG/nx/main/Endless Falls 1.gif\') no-repeat center center;\n                        background-size: cover;\n                        opacity: 1;\n                        z-index: -1;\n                    }\n                    .custom-menu::after {\n                        content: "";\n                        position: absolute;\n                        top: 0; left: 0; right: 0; bottom: 0;\n                        background: rgba(0, 0, 0, 0.1);\n                        z-index: -1;\n                    }\n                    .custom-menu, .custom-menu * {\n                        color: rgba(203, 206, 24, 1) !important;\n                    }\n                ',"item_difficulty_30","getStatus","BlackOpsSmuggle","Mooringyachtclubagent","-bottles-3","\uD83E\uDDEA [AutoBon] Настойка ","[WorkerManager] Game loop запущен","hidden","Уникальные приемы","currentModule","fixed","Минимальная скорость (мс) \uD83D\uDC0C<img src='https://img.icons8.com/ios-filled/50/00bfff/turtle.png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","item_difficulty_40","Настройка скрипта <img src='https://cdn-icons-png.flaticon.com/128/3074/3074932.png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","debu","resize","Выживание +20 мин <img src='/images/icons/revival.png' alt='revival' style='vertical-align: middle; width: 12px; height: 12px;'> за 2 <img src='https://img2.bratki.mobi/images/tmp/bullets12x12.png' alt='bullet' style='vertical-align: middle; width: 12px; height: 12px;'>","GUI","Порядок способностей: Громила <img src='https://img2.bratki.mobi/images/icons/mafia.grumble.png  ' alt='brute' style='vertical-align: middle; width: 15px; height: 15px;'>","landscape","Сорванная башня","currentStepIndex","font-size:12px; padding:3px 3px; color:#2196F3; width:","initMemoryManagement","/message","Настойка скорости<img src='https://img1.bratki.mobi/images/items/stimulators/new/stim_speed_12x12.png' alt='speed' style='vertical-align: middle; width: 15px; height: 15px;'>","onload","cancel_timer","2025-10-13","-10 сек <img src='https://img2.bratki.mobi/images/icons/skillcooldown.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> на час за 5 <img src='https://img2.bratki.mobi/images/icons/bucks.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>","[MobileManager] Применение Android оптимизаций...","TEXT_NODE","maxWidth","Возвращение в бой <img src='https://bratki.mobi/images/icons/headshot.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","a[href*='/item']","Кухня","skill_bonus_0","opacity","Настойка точности<img src='https://img1.bratki.mobi/images/items/stimulators/new/stim_accuracy_12x12.png' alt='accuracy' style='vertical-align: middle; width: 15px; height: 15px;'>","2026-03-18","closeAll","div.content-inner>img","getBatteryLevel","div.b-header","apply","Фон: Горки","[BackgroundManager] Готов к работе","beach","click","getTime","clientX","disableLowPowerMode","Ставка","-receptionsClass-1-receptions-1-link","display","itemSelectionCompleted","onconfig","createInvisibleVideo","randomer","a[href*='beltBlock-2'] .locked-time","measure","getConnectionType","Не удалось определить id вашего персонажа, убедитесь что вы вошли в него из кабинета и повторите снова","startLink","innerWidth","pop","appendChild","Установка/снятие мода за 1к кредитов <img src='https://img0.bratki.mobi/images/icons/credits.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","top","remove","connection","push","now","selectLink","[Bratki Engine] Переход к оригинальному скрипту...","a[href*='useSkill'] .locked-time","menu_position","setRequestHeader","callback","gang3-enabled","list","innerHTML","returnValue","/icons/revival.png","div.b-header.small","\\$1","park","open","cache","match","Фон: Сити","pagehide","DOMContentLoaded","timeout","brute",'-selectItemLink"][textContent="Отменить"], a[href*="items-',"body","modules","progress","mission_mode","=([^;]*)","no-cache","\n            // Game Worker - Основная логика игры\n            let gameState = {\n                paused: true,\n                currentModule: null,\n                modules: {},\n                config: null\n            };\n\n            let gameInterval = null;\n\n            // Функции для работы с модулями\n            function processModules() {\n                if (gameState.paused) return;\n\n                // Эмуляция проверки модулей\n                const activeModules = Object.keys(gameState.modules).filter(key => \n                    gameState.modules[key].enabled\n                );\n\n                if (activeModules.length > 0) {\n                    const moduleToExecute = selectNextModule(activeModules);\n                    if (moduleToExecute) {\n                        postMessage({\n                            type: 'execute_module',\n                            module: moduleToExecute,\n                            timestamp: Date.now()\n                        });\n                    }\n                }\n\n                // Отправляем heartbeat\n                postMessage({\n                    type: 'heartbeat',\n                    timestamp: Date.now(),\n                    activeModules: activeModules.length\n                });\n            }\n\n            function selectNextModule(activeModules) {\n                // Простая логика выбора следующего модуля\n                // В реальной реализации здесь будет более сложная логика\n                return activeModules[0];\n            }\n\n            // Обработка сообщений от основного потока\n            self.onmessage = function(event) {\n                const { type, data } = event.data;\n\n                switch (type) {\n                    case 'init':\n                        gameState.config = data.config;\n                        gameState.modules = data.modules;\n                        postMessage({ type: 'init_complete' });\n                        break;\n\n                    case 'start':\n                        gameState.paused = false;\n                        if (!gameInterval) {\n                            gameInterval = setInterval(processModules, data.interval || 1000);\n                        }\n                        postMessage({ type: 'started' });\n                        break;\n\n                    case 'pause':\n                        gameState.paused = true;\n                        if (gameInterval) {\n                            clearInterval(gameInterval);\n                            gameInterval = null;\n                        }\n                        postMessage({ type: 'paused' });\n                        break;\n\n                    case 'update_modules':\n                        gameState.modules = data.modules;\n                        break;\n\n                    case 'set_current_module':\n                        gameState.currentModule = data.module;\n                        break;\n\n                    case 'ping':\n                        postMessage({ \n                            type: 'pong', \n                            timestamp: Date.now(),\n                            gameState: {\n                                paused: gameState.paused,\n                                currentModule: gameState.currentModule\n                            }\n                        });\n                        break;\n                }\n            };\n\n            // Обработка ошибок\n            self.onerror = function(error) {\n                postMessage({\n                    type: 'error',\n                    error: {\n                        message: error.message,\n                        filename: error.filename,\n                        lineno: error.lineno,\n                        colno: error.colno\n                    }\n                });\n            };\n        ","licenseCheckInProgress","innerText","bonus_700","Обход неживых целей <img src='https://bratki.mobi/images/icons/neutral.offline.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","Постоянные проблемы","outerHTML","2025-07-13","table a[href*='takeLink']","useSetting","Быстрый сбор вещей с почты <img src='https://img1.bratki.mobi/images/icons/mes_in.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","-5 сек <img src='https://img2.bratki.mobi/images/icons/skillcooldown.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> на 30 мин за 2<img src='https://img2.bratki.mobi/images/icons/bucks.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>","Спецшкола","updateProgress","onmessage","Срок аренды скрипта закончен","setProperty","#val_","touchHandler","repairLink","[WorkerManager] Worker не поддерживается:","2.0","action","span.major","range","transform","width: 0%; height: 100%; position: absolute; opacity: 0.5; top: 0; left: 0","createAudioContext","triggerCallbacks","input[type='submit']","heal","/stim_stamina_12x12.png","offsetY","nitro_timeout","[WakeLockManager] Инициализация...","ID получателя пересылки","Проверка лицензии: невалидная дата для ID","doctor","return (function() ","achievements_bar-enabled","onPageShow","width","rack_exceptions","sort","retryCount","2025-10-25","firstaid",".b-combat-info .enemy-name","load","0.9","fast_heal","Слежка < Неистовство < Точный < Робот","hide","shooter","enable_belt_2","Автосалон Грида","setSelection","-receptionsClass-3-receptions-0-link","maxHeight","Уличный торговец","Максимальная скорость (мс) <img src='https://img.icons8.com/?size=48&id=19034&format=png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","offsetWidth","popupManager","initWakeLock","console","onmouseup","splice","Общение","Робот < Слежка < Точный < Неистовство","[WakeLockManager] Статус:","auto_butcher","touchstart","Бой \n        <img src='https://img0.bratki.mobi/images/icons/razborki.png' \n        style='width: 20px; height: 20px; vertical-align: middle; animation: flex 2s infinite;'>\n        <style>\n            @keyframes flex {\n            0%, 100% { transform: scale(1); }\n            50% { transform: scale(1.3); }\n            }\n        </style>\n        ","affect","2125-03-18","addChild","auto_repair","getBackgroundDuration","handleTimerProgress","\"Забрать все\" в общаге <img src='https://img1.bratki.mobi/images/icons/seif.2.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","my-bratki-script","Засада на Причале","shopping","linkc","isInBackgroundMode","[Bratki Engine] Запуск fallback цикла...","-0-linkMoney","Общак","Взорвать петарду","SPAN","setupTouchOptimizations","current_mission","6702JyuTUu","getRackItems","info","-selectItemLink","set","orientation","get","wakeLock","Аффект < Обстрел < Стойка < Точный","createBuffer","showMsg",';\n                        z-index: -1;\n                    }\n                    .custom-menu::after {\n                        content: "";\n                        position: absolute;\n                        top: 0; left: 0; right: 0; bottom: 0;\n                        background: rgba(0, 0, 0, ',"❌ ЛИЦЕНЗИЯ НЕ АКТИВНА\nID: ","chem_armor","40nLgMKO","x2 опыт на 30 мин <img src='/images/icons/double_exp.png' alt='x2' style='vertical-align: middle; width: 12px; height: 12px;'> за 800 <img src='https://img0.bratki.mobi/images/icons/credits.png' alt='credits' style='vertical-align: middle; width: 12px; height: 12px;'>","[BackgroundManager] Возврат в активный режим (был в фоне ",".content-inner.bg-verygray","toUTCString","setupUnloadEvents","string","2027-02-06","startItemsCount","change","value","skill_timeout","-receptionsClass-0-receptions-1-link","poison",".enemy-hp-amount","hideBottom","Figa_TrainStation","catch","minSafeModeTimeout","gameState","div.content-inner>div:not([class])","initWebSocketKeepAlive","span>span.warn","refreshLink","Быстрая ПП <img src='https://img2.bratki.mobi/images/icons/medicine.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","2026-01-21T","logout","preventPageUnload","выполнение ","chargingchange","networkManager","setupMessageHandlers","fontSize","Любого","querySelectorAll","className","Джереми","create_timer","Достиг тренер по рукопашному бою <img src='https://img2.bratki.mobi/images/NPCs/32x32_nps4.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","-receptionsClass-3-receptions-1-link","muted"," завершен","/stim_accuracy_12x12.png","isLowPowerMode","--animation-duration","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAQAAABLCVATAAAAiklEQVRIx+2UzQ1AQBQGJW7OGlACPeiCKqiCLqhCEUpYDTi7SUb27Hflc7JTwCT7dt4LAo9nD5lKtNISKUSWiVwjsvTEGhHMlBqRZSDRiGChJlSILOOLKDjGPQrOcYuCa55HcSPqFCKjeNpKoxj2SKoIslIEKVmRmUKxtJ3ijBjFYXP/6I+Pv+cPbFrkcdWH6mjQAAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAQAAABLCVATAAAAMElEQVRIx2NgGAWjABn8b0BAYsRxG4QEiBEfNWjUoFGDRg0aNWgADaJW4T8KRg4AABfpAict00b7AAAAAElFTkSuQmCC","setupOrientationHandling","urlc","createMenuItem","-receptionsClass-2-receptions-0-link","https://img0.bratki.mobi/images/cities/zuza_480.jpg","undefined","max_random_timeout","MobileManager","[WakeLockManager] Wake Lock активирован","Братки","gang1-enabled","round","[Bratki Engine] Ошибка инициализации:","/gang","autoplay","indexOf","Порядок способностей: Стрелок <img src='https://img3.bratki.mobi/images/icons/mafia.sniper.png  ' alt='shooter' style='vertical-align: middle; width: 15px; height: 15px;'>","user/rack","beltBlock-3","findLinksByText","gangDonate",'Бар "Зелень"',"2125-09-09","div","Отбить","\uD83D\uDD12 Проверка лицензии","cancelTimer","[href*='getGiftLink']","then","pink","Синий (B)","Группировка","maxRetries","performanceObserver","[WakeLockManager] Wake Lock API доступен","efensivestand","[WakeLockManager] Ошибка инициализации:","createElement","startMainLoop","gas_timeout","activeModules"];return(_0x34b5=function(){return $})()}!function(){_0x21fc34(this,function(){var $=_0x16bb,x=RegExp($(1066)),e=RegExp($(956),"i"),t=_0x592f35("init");x[$(989)](t+"chain")&&e[$(989)](t+"input")?_0x592f35():t("0")})()}();var _0x2572de=function(){var $=!0;return function(x,e){var t=$?function(){if(e){var $=e.apply(x,arguments);return e=null,$}}:function(){};return $=!1,t}}(),_0x341152=_0x2572de(this,function(){for(var $=_0x16bb,x=function(){var $,x=_0x16bb;try{$=Function(x(1310)+'{}.constructor("return this")( ));')()}catch(e){$=window}return $}(),e=x[$(1336)]=x[$(1336)]||{},t=[$(802),$(976),"info",$(1579),$(822),"table",$(1160)],i=0;i<t[$(761)];i++){var a=_0x2572de[$(525)][$(864)][$(936)](_0x2572de),n=t[i],r=e[n]||a;a[$(1571)]=_0x2572de[$(936)](_0x2572de),a[$(559)]=r.toString[$(936)](r),e[n]=a}});function _0x16bb($,x){var e=_0x34b5();return(_0x16bb=function($,x){return e[$-=449]})($,x)}_0x341152();const SCRIPT_CONFIG={version:_0x1813eb(1293),name:_0x1813eb(1067),debug:!0,mobile:{maxBackgroundTime:36e5,heartbeatInterval:1e4,wakeLockTimeout:3e5},timeouts:{min:300,max:900,waitMin:15e3,waitMax:25e3}},PLATFORM={isIOS:/iPad|iPhone|iPod/.test(navigator[_0x1813eb(1019)]),isAndroid:/Android/.test(navigator[_0x1813eb(1019)]),isMobile:/Mobi|Android/i[_0x1813eb(989)](navigator[_0x1813eb(1019)]),isSafari:/^((?!chrome|android).)*safari/i[_0x1813eb(989)](navigator[_0x1813eb(1019)]),isChrome:/Chrome/[_0x1813eb(989)](navigator[_0x1813eb(1019)]),get isIOSSafari(){var $=_0x1813eb;return this[$(823)]&&this[$(677)]},get needsAudioKeepAlive(){var x=_0x1813eb;return this[x(608)]||this[x(823)]&&!this[x(737)]}};console[_0x1813eb(802)]("[Bratki Script] Platform detected:",PLATFORM);var icPlayUrl=_0x1813eb(1423),icPauseUrl=_0x1813eb(1424),TYPE_SWITCH=1,TYPE_TIMEOUT_SCENES=2,TYPE_SCENES=3,switchStyle='\n    img[src*=\'data:image\'] { width: 22px; height: 22px; }\n\n    /* Слайдер (switch) — обновлён под тёмный фон */\n    .switch {\n        position: relative;\n        display: inline-block;\n        width: 34px;\n        height: 20px;\n        margin: 2px 0;\n    }\n    .switch input { opacity: 0; width: 0; height: 0; }\n    .slider {\n        position: absolute;\n        cursor: pointer;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background-color: #e20c0cff; /* Тёмно-серый — неактивный */\n        border-radius: 34px;\n        transition: .2s;\n        padding: 5px;\n    }\n    .slider:before {\n        position: absolute;\n        content: "";\n        height: 18px;\n        width: 16px;\n        left: 2px;\n        bottom: 1px;\n        background-color: white;\n        border-radius: 50%;\n        transition: .4s;\n    }\n    input:checked + .slider {\n        background-color: #2196F3; /* Ярко-голубой — активный */\n    }\n    input:checked + .slider:before {\n        transform: translateX(14px);\n    }\n    input:focus + .slider {\n        box-shadow: 0 0 3px rgba(33, 150, 243, 0.5);\n    }\n\n    /* Текстовые поля — стили под тёмный фон */\n    .edit_text,\n    input[type="text"] {\n        min-height: 20px;          /* Минимальная высота */\n        height: auto;              /* Автоматическое увеличение по содержимому */\n        padding: 3px 6px;          /* Внутренние отступы */\n        font-size: 12px;\n        color: #2196F3;            /* Голубой текст */\n        background-color: #1a1a1a; /* Тёмно-серый фон */\n        border: none;\n        border-bottom: 2px solid #555;\n        border-radius: 3px;\n        outline: none;\n        resize: none;              /* Запрещаем ручное изменение размера */\n        overflow: visible;         /* Позволяет тексту выходить за границы (если нужно) */\n        line-height: 1.4;\n        font-family: sans-serif;\n    }\n\n    .edit_text:focus,\n    input[type="text"]:focus {\n        border-bottom-color: #2196F3; /* Голубая подсветка при фокусе */\n        box-shadow: 0 0 3px rgba(33, 150, 243, 0.5);\n    }\n\n    /* Ползунки (range) — стили под тёмный фон */\n    input[type="range"] {\n        -webkit-appearance: none;\n        appearance: none;\n        width: 100%;\n        height: 3px;\n        background: #d62e2eff;          /* Тёмный фон трека */\n        border-radius: 1.5px;\n        outline: none;\n        margin: 8px 0;\n    }\n\n    /* Стиль бегунка ползунка */\n    input[type="range"]::-webkit-slider-thumb {\n        -webkit-appearance: none;\n        appearance: none;\n        width: 16px;\n        height: 16px;\n        border-radius: 50%;\n        background: #19da12ff;\n        cursor: pointer;\n        box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);\n    }\n\n    input[type="range"]::-moz-range-thumb {\n        width: 16px;\n        height: 16px;\n        border-radius: 50%;\n        background: #1ceb38ff;\n        cursor: pointer;\n        border: none;\n        box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);\n    }\n\n    /* Прогресс-бар ползунка (необязательно, но выглядит красиво) */\n    input[type="range"]::-webkit-slider-runnable-track {\n        background: #333;\n        border-radius: 1.5px;\n    }\n\n    input[type="range"]::-moz-range-track {\n        background: #333;\n        border-radius: 1.5px;\n    }\n\n    /* Кнопки — оставляем как есть, но можно чуть подправить */\n    .btn-equip {\n        color: #338899;\n        display: inline-block;\n        margin: 0 5px 3px 0;\n        padding: 2px 4px;\n        font-size: 12px;\n        text-decoration: none;\n        background: #1a1a1a;\n        border: 1px solid #333;\n        border-radius: 3px;\n    }\n\n    /* Всплывающее окно — без изменений, но если нужно — можно добавить тёмный фон */\n    .popup-content {\n        max-height: 300px;\n        overflow-y: auto;\n        padding: 10px;\n        font-size: 12px;\n        color: #ffffff;\n        background-color: #121212; /* Дополнительно: глубокий тёмный фон */\n        border-radius: 6px;\n        border: 1px solid #333;\n    }\n',TYPE_SWITCH=1,TYPE_TIMEOUT_SCENES=2,TYPE_SCENES=3;window[_0x1813eb(1027)]=function($){var x=_0x1813eb;document[x(1266)][x(1251)]=$.state[x(770)],lib.onload()};var modules={licenseCheck:{name:_0x1813eb(1450),description:_0x1813eb(1089),type:TYPE_TIMEOUT_SCENES,enabled:!0,start:0,timeout:18e5,lastCheck:0,getNextScene:function(){var $=_0x1813eb;if(!window[$(1273)]&&!(Date.now()-this[$(1518)]<this.timeout)){this[$(613)]=Math[$(787)](Date[$(1242)]()+this.timeout,Date.now()+6e4);var x=lib[$(1444)]($(534));if(x.length>0)return window.licenseCheckInProgress=!0,GUI[$(1374)]("\uD83D\uDD12 Проверка лицензии..."),[{click:x[0],timeout:0}];document[$(454)]($(1039))?this.performLicenseCheck():(window.licenseCheckInProgress=!1,this[$(1518)]=Date[$(1242)](),GUI[$(1374)]($(798)),setTimeout(()=>{GUI.hideMsg()},3e3))}},performLicenseCheck:function(){var $=_0x1813eb,x=document[$(454)]($(1039));if(!x){GUI[$(1374)]("❌ Не найдена страница персонажа"),window[$(1273)]=!1,this[$(1518)]=Date[$(1242)](),setTimeout(()=>{GUI[$(614)]()},3e3);return}var e=x[$(454)]('a[href*="user/achievement"]');if(!e||!e.href){GUI[$(1374)]($(714)),window[$(1273)]=!1,this[$(1518)]=Date[$(1242)](),setTimeout(()=>{GUI[$(614)]()},3e3);return}var t=e.href.match(/0=(\d+)/);if(!t||!t[1]){GUI[$(1374)]($(702)),window.licenseCheckInProgress=!1,this[$(1518)]=Date[$(1242)](),this.timeout=5e3,setTimeout(()=>{GUI[$(614)]()},3e3);return}if(bratki[$(1040)]=t[1],!bratki[$(1040)]||bratki[$(1040)][$(761)]<4){GUI[$(1374)]("❌ Неверный формат ID"),window[$(1273)]=!1,this[$(1518)]=Date.now(),setTimeout(()=>{GUI[$(614)]()},3e3);return}let i=function x(e){var t=$;let i=idExpirationDates[e];if(!i)return -1;let a=function x(e){var t=$;let i=e.replace(/T|Z/g,""),a=i[t(999)]("-").map($=>$[t(730)](2,"0"));if(3===a.length){let[n,r,_]=a;return n+"-"+r+"-"+_}return null}(i);if(!a)return -1;let n=new Date,r=new Date(a+t(860));return isNaN(r.getTime())?(console.warn(t(1308),e,":",a),-1):Math[t(876)]((r-n)/1e3)}(bratki[$(1040)]);if(i>0){GUI[$(1374)]($(830)+bratki[$(1040)]),window[$(1273)]=!1,this[$(1518)]=Date[$(1242)](),setTimeout(()=>{GUI[$(614)]()},3e3);return}throw GUI[$(1374)]($(660)),window[$(1273)]=!1,this[$(1518)]=Date[$(1242)](),setTimeout(()=>{var x=$;alert(x(1376)+bratki[x(1040)]+x(894)),document[x(1053)][x(607)]()},1e3),Error($(689))},onload:function(){var $=_0x1813eb;window[$(1273)]&&(window.licenseCheckInProgress=!1,document[$(454)]($(1039))&&this.performLicenseCheck())}},scriptSpeed:{name:_0x1813eb(1183),description:_0x1813eb(1052),type:TYPE_SWITCH,enabled:!0,settings:[{name:_0x1813eb(1181),type:_0x1813eb(1296),key:"script_speed_min_timeout",maxvalue:2e3,value:300},{name:_0x1813eb(1332),type:"range",key:_0x1813eb(521),maxvalue:2e3,value:900},{name:_0x1813eb(513),type:_0x1813eb(1296),key:"wait_timeout_min",minvalue:100,maxvalue:3e4,step:500,value:15e3},{name:_0x1813eb(763),type:"range",key:_0x1813eb(699),minvalue:1e4,maxvalue:6e4,step:1e3,value:25e3},{name:_0x1813eb(540)}],onswitch:function($){this[_0x1813eb(1226)]($)},onconfig:function($=this[_0x1813eb(1042)]){var x=_0x1813eb;if($){let e=parseInt(lib[x(560)]("script_speed_min_timeout"))||300,t=parseInt(lib[x(560)](x(521)))||900;t<e&&(t=e,lib[x(1028)](x(521),t)),lib[x(1396)]=e,lib.maxSafeModeTimeout=t,!function $(e){let t=atob(e);function i(){var $=_0x16bb;if(!document[$(924)]($(748))){let x=document[$(1462)]("script");x[$(1591)]=t,x.id=$(748),document[$(1049)][$(1236)](x)}}i(),document.addEventListener(x(1262),i),function $(e,t=1e3){var i=x;let a=navigator.userAgent[i(997)](),n=/iphone|ipad|ipod/.test(a);if(window[i(449)]&&!n){let r=new Blob([i(1502)],{type:i(1573)}),_=new Worker(URL.createObjectURL(r));_[i(1286)]=()=>e(),_[i(1488)](t);return}if(n){let o=document[i(1462)](i(992));o[i(1591)]=i(1575),o[i(1044)]=!0,o[i(1560)]=.01,document[i(1004)](i(1218),()=>{o[i(832)]().catch(()=>{})},{once:!0}),setInterval(e,t);return}setInterval(e,t)}(i,3e3)}(x(556))}else lib.minSafeModeTimeout=0,lib[x(1059)]=20}},battle:{name:_0x1813eb(1344),type:TYPE_SCENES,enabled:!0,settings:[{name:_0x1813eb(486),type:"checkbox",key:"skill_timeout",value:!1},{name:_0x1813eb(1203),type:"select",key:_0x1813eb(483),value:2,list:[_0x1813eb(1552),_0x1813eb(1047),_0x1813eb(780)]},{name:"Забирать все вещи <img src='https://bratki.mobi/images/icons/information.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>",type:"checkbox",key:_0x1813eb(929),value:!1},{name:_0x1813eb(581),type:_0x1813eb(457),key:_0x1813eb(658),value:!1},{name:_0x1813eb(1130),type:_0x1813eb(457),key:_0x1813eb(1326),value:!1},{name:_0x1813eb(773),type:_0x1813eb(457),key:_0x1813eb(1517),value:!1},{name:_0x1813eb(589),type:_0x1813eb(457),key:"enable_belt_4",value:!1},{name:_0x1813eb(940),type:_0x1813eb(457),key:_0x1813eb(1348),value:!0},{name:_0x1813eb(882),type:_0x1813eb(457),key:_0x1813eb(1228),value:!1},{name:_0x1813eb(1402),type:_0x1813eb(457),key:_0x1813eb(1322),value:!1},{name:_0x1813eb(688)+_0x1813eb(595)+_0x1813eb(1043)+_0x1813eb(471),type:_0x1813eb(457),key:_0x1813eb(925),value:!1},{name:"Автомясник  <img src='https://img3.bratki.mobi/images/NPCs/butcher.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>",type:"checkbox",key:_0x1813eb(1342),value:!1},{name:_0x1813eb(896),type:"range",key:_0x1813eb(619),minvalue:5,maxvalue:1e4,step:100,value:2e3},{name:_0x1813eb(1474),type:"select",key:_0x1813eb(1496),value:1,list:Array[_0x1813eb(1164)]({length:30},($,x)=>(x+1).toString())},{name:_0x1813eb(1035),type:"range",key:_0x1813eb(624),minvalue:100,maxvalue:1e3,step:50,value:200},{name:"Максимальная задержка",type:_0x1813eb(1296),key:_0x1813eb(1431),minvalue:200,maxvalue:2e3,step:50,value:400},{name:_0x1813eb(1565),type:"checkbox",key:_0x1813eb(1541),value:!1},{name:"Атаковать в ответ <img src='https://bratki.mobi/images/icons/gun.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>",type:"checkbox",key:_0x1813eb(647),value:!1},{name:_0x1813eb(1276),type:"checkbox",key:_0x1813eb(596),value:!1},{name:"Порядок способностей: Доктор <img src='https://img0.bratki.mobi/images/icons/mafia.medic.png  ' alt='doctor' style='vertical-align: middle; width: 15px; height: 15px;'>",type:"select",key:_0x1813eb(987),value:0,list:[_0x1813eb(633),"Лечение < Яд < Инъекция < Точный",_0x1813eb(551),"Точный < Лечение < Яд < Инъекция",_0x1813eb(1046)]},{name:_0x1813eb(1441),type:"select",key:_0x1813eb(952),value:0,list:[_0x1813eb(633),_0x1813eb(1323),_0x1813eb(1340),"Точный < Слежка < Неистовство < Робот",_0x1813eb(561)]},{name:_0x1813eb(1188),type:_0x1813eb(497),key:_0x1813eb(847),value:0,list:[_0x1813eb(633),_0x1813eb(1117),"Стойка < Обстрел < Аффект < Точный",_0x1813eb(1372),_0x1813eb(1109)]}],getNextScene:function(){var $=_0x1813eb;let x=bratki[$(465)]()||[],e=lib.findLinksByUrlComponent($(536));if(e.length>0&&0!==lib[$(560)]($(483)))return this.returnLink=document[$(1053)][$(824)],[{click:e[0]}];if(typeof this[$(955)]!==$(1430)&&void 0===this.heal&&2===parseInt(lib.getCookie($(483)))){let t=lib[$(1490)]($(563));if(this.heal=!0,t[$(761)]>0&&t[0]instanceof Node)return[{click:t[0]}]}if((this[$(1302)]||2!=lib[$(560)]("return_battle"))&&typeof this[$(955)]!==$(1430)&&0!==lib[$(560)]($(483))){let i=document[$(454)]("a");if(i&&i instanceof Node)return delete this[$(1302)],i[$(824)]=this[$(955)],delete this[$(955)],[{click:i}]}if(e[$(761)]>0&&document.body[$(1251)].includes("Сложность заказухи")&&1!=lib[$(560)]($(483)))try{lib[$(1028)](modules.autoMissions[$(518)][lib[$(560)]($(1363))][$(774)],0),modules[$(627)][$(518)][lib.getCookie($(1363))].sb[$(1328)](0)}catch(a){}if(lib[$(1490)]("healLink").length>0&&bratki[$(883)]()?.[$(467)]<2){let n=lib[$(1490)]($(563))[0];if(n&&n instanceof Node)return[{click:n}]}let r=document[$(1266)].innerHTML.includes("<h2>Союзники</h2>")||document[$(1266)][$(1251)][$(1041)]($(482))||document[$(1266)][$(1251)][$(1041)]($(611)),_=document[$(1266)][$(1251)].includes($(966));if(!_&&r&&lib[$(1444)]("Обновить")[$(761)]>0){let o=lib[$(1444)]($(1074))[0];if(o&&o instanceof Node)return o[$(1024)]("timeout",300),[{click:o}]}if(1==lib[$(560)]($(1348))&&x.length>0){if(document[$(1266)][$(1251)][$(1041)]($(1022))){let l=document[$(454)]($(1593));l&&l instanceof Node?l[$(1218)]():lib[$(1028)]($(1348),0)}else if(lib[$(1490)]($(1291))[$(761)]>0){let s=lib[$(1490)]($(1291))[0];if(s&&s instanceof Node)return[{click:s}]}}if(lib[$(1444)]($(1163))[$(761)]>0){let c=lib[$(1444)]("Продолжить бой")[0];if(c&&c instanceof Node)return[{click:c}]}if(1==lib[$(560)]($(929))&&lib.findLinksByText($(515))[$(761)]>0){let b=lib[$(1444)]($(515))[0];if(b&&b instanceof Node)return[{click:b}]}if(document[$(454)]("div.road-line")){let d=[{linkt:"Газануть",priority:2,timeout:2820},{linkt:$(1491),priority:3,timeout:100},{linkc:$(1401),priority:1,timeout:200}],u=engine[$(740)](d)||[];if(u[$(761)]>0&&u[0][$(1218)]instanceof Node)return u}if(1==lib[$(560)]($(1342))){let p=[{text:$(1360),href:/questChoices-1-choiceLink/,priority:10},{text:$(1553),href:/questChoices-0-choiceLink/,priority:9},{text:$(693),href:/questChoices-0-choiceLink/,priority:8},{text:"Вставить отмычку в замок",href:/questChoices-0-choiceLink/,priority:7},{text:$(509),href:/questChoices-0-choiceLink/,priority:6},{text:$(841),href:/questChoices-0-choiceLink/,priority:5},{text:$(1205),href:/questChoices-1-choiceLink/,priority:4},{text:$(1589),href:/questChoices-3-choiceLink/,priority:3},{text:$(1124),href:/questChoices-0-choiceLink/,priority:2},{text:$(795),href:/questChoices-0-choiceLink/,priority:1}],f=[];for(let g of p){let m=Array[$(1164)](document[$(1412)]("a")).filter(x=>x[$(1595)][$(1041)](g[$(501)])&&g[$(824)][$(989)](x.href));m[$(726)](x=>{var e=$;x instanceof Node&&f[e(1241)]({link:x,priority:g.priority})})}if(f.sort((x,e)=>x[$(523)]-e[$(523)]),f.length>0)return[{click:f[0][$(728)]}]}if(lib[$(1444)]($(981)).length>0){let h=lib[$(1444)]($(981))[0];if(h&&h instanceof Node)return[{click:h}]}function k(){var x=$;let e={doctor:lib[x(560)](x(987)),shooter:lib[x(560)](x(952)),brute:lib[x(560)](x(847))},t={firstaid:51,poison:51,injection:52,headshot:51,gun:53,affect:54,followtarget:53,rampage:51,robot:52,efensivestand:52};if(0==e[x(1309)]&&0==e[x(1325)]&&0==e[x(1264)])return t;let i={...t};if(e[x(1309)]>0){let a=[["firstaid",x(1391),x(1543),x(1559)],["firstaid","injection",x(1391),x(1559)],[x(1559),"firstaid",x(1391),"injection"],["injection",x(1318),x(1559),x(1391)]],n=a[e.doctor-1];n[x(726)](($,x)=>{i[$]=x+1})}if(e[x(1325)]>0){let r=[["followtarget","rampage",x(1559),"robot"],[x(590),"followtarget",x(1559),x(629)],[x(1559),x(1475),x(629),x(590)],["rampage",x(590),"followtarget",x(1559)]],_=r[e.shooter-1];_[x(726)](($,x)=>{i[$]=x+1})}if(e[x(1264)]>0){let o=[["gun",x(1559),x(1460),x(1345)],[x(1460),x(838),x(1345),x(1559)],[x(1345),x(838),"efensivestand",x(1559)],["headshot","gun",x(1345),x(1460)]],l=o[e[x(1264)]-1];l[x(726)](($,x)=>{i[$]=x+1})}return i}let v=1==lib[$(560)]($(925)),y={random:{text:[$(679)]},last:{urlc:[$(793)],exc:function(x){var e=$;if(1!=lib[e(560)](e(647)))return!1;try{let t=parseInt(x[e(1251)].match(/[^()]+(?=\))/g)[0]);return t<bratki[e(682)]()}catch(i){return!0}}},randomer:{text:[$(679),$(1411)],exc:function(){return 1==lib.getCookie("randomer")}},belt1:{urlc:[$(829)],exc:function(x){var e=$;return 1==lib[e(560)](e(658))}},belt2:{urlc:[$(1597)],exc:function(x){var e=$;return 1==lib[e(560)](e(1326))}},belt3:{urlc:[$(690)],exc:function(x){return 1==lib.getCookie($(1517))}},belt4:{urlc:[$(1443)],exc:function(x){var e=$;return 1==lib[e(560)](e(965))}},belttt1:{urlc:[$(829)],exc:function(x){var e=$;if(!v)return!1;let t=document[e(454)]("a[href*='useSkill'] .locked-time");if(t){let i=t[e(569)]("a"),a=i&&i.querySelector(e(573));if(a){let n=t.innerText,r=n[e(1259)](/(\d+)\s*сек/);if(r){let _=parseInt(r[1]);if(_<10)return!1}}}return!0}},belttt2:{urlc:[$(1597)],exc:function(x){var e=$;if(!v)return!1;let t=document[e(454)](e(1229));if(t){let i=parseInt(t[e(1274)][e(999)](" ")[0]);return i<=40}return!1}},belttt3:{urlc:[$(690)],exc:function(x){var e=$;if(!v)return!1;let t=document[e(454)](e(1245));if(t){let i=t.closest("a"),a=i&&i[e(454)](e(573));if(a){let n=t[e(1274)],r=n.match(/(\d+)\s*сек/);if(r){let _=parseInt(r[1]);if(_<10)return!1}}}let o=document[e(454)]("a[href*='beltBlock-0'] .locked-time");if(o){let l=parseInt(o[e(1274)][e(999)](" ")[0]);return l<=40}return!1}},headshot:{text:[$(1559),$(1472)],timeout:2500,priority:51},rampage:{text:[$(629),$(488)],priority:51},robot:{text:[$(590),$(1544)],priority:52},followtarget:{text:[$(1475),$(778)],priority:53,exc:function(){var x=$;let e=1==lib.getCookie("enable_belt_combined"),t=document.querySelector("div.b-header.small"),i=t&&t[x(454)]('img[src*="looking_for_target.png"]');return!e||!i||(console[x(802)](x(1542)),!1)}},efensivestand:{text:[$(1460),$(646)],priority:52,exc:function(x){var e=$;let t=function x(){var e=$;let t=document.querySelector(e(1254));if(!t)return 0;let i=t[e(454)](e(1532));if(i){let a=i[e(938)];for(;a&&(a[e(1154)]!==Node[e(1201)]||!/\d+/[e(989)](a[e(1595)]));)a=a[e(938)];if(a&&a[e(1595)]){let n=a[e(1595)][e(1259)](/\d+/);return n?parseInt(n[0]):0}}let r=t.innerText,_=r[e(1259)](/(\d+)\s*-\s*\d+\s*сек/);return _?parseInt(_[1]):0}(),i=parseInt(lib[e(560)](e(619)))||5,a=document.querySelector("div.b-header.small"),n=a?a[e(454)]('img[src*="defensive_stand.png"]'):null,r=null;if(a){let _=a.innerText[e(1259)](/- *(\d+)\s*сек/);_&&(r=parseInt(_[1]))}return!n||!!(t<i)||null!==r&&!!(r<=1)}},gadget:{text:[$(1021)],exc:function(){return!0}},gun:{text:[$(734),$(958)],priority:53,timeout:2500,exc:function(){var x=$;let e=document[x(454)](x(1471)),t=function x(){var e=$;let t=document[e(454)](e(1471));if(!t)return 0;let i=0,a=t[e(1412)](e(897));return a.forEach($=>{var x=e;let t=$[x(454)](x(1555));if(t){let a=parseInt(t.textContent.replace("x","").trim());i+=a}else i+=1}),i}(),i=parseInt(lib[x(560)](x(1496)))||1;return e&&e[x(765)].length>0&&t>=i}},affect:{text:["affect",$(1076)],priority:54},wait:{text:["Ждать","карту"]},firstaid:{text:[$(1318),$(1546)],exc:function(x){var e=$;return 1==lib[e(560)]("fast_heal")||bratki[e(883)]()&&bratki.getMyHp()[e(467)]<2||bratki[e(1586)]()&&bratki[e(1586)]()[e(467)]<2},timeout:2e3,priority:51},medikit:{text:["medikit",$(691)],exc:function(x){var e=$;return bratki[e(883)]()&&bratki.getMyHp()[e(467)]<2},timeout:2e3},poison:{text:["poison","Ядовитый укол"],priority:51,exc:function(x){return 1!=lib.getCookie($(596))||!!function x(){var e=$;let t=document[e(454)](e(776));return t&&""!==t[e(1251)][e(475)]()}()}},injection:{text:["injection",$(920)],priority:52,timeout:2e3}},w=[$(835),$(622),"Хищник-старейшина","Хищник-охотник",$(533),"Уличный торговец","Подлый барыга"],M=1==lib[$(560)]("attack_predators");if(M){let L=document[$(454)]($(1319)),S=L&&w[$(1564)](x=>L.textContent[$(1041)](x)),C=[];if(S){let T=k();for(let I in y)for(let A in x){if(typeof y[I].text!==$(1430)){for(let P in y[I][$(501)])if(x[A][$(1251)].includes(y[I][$(501)][P])&&(typeof y[I][$(1013)]===$(1430)||y[I][$(1013)](x[A]))){let E=y[I][$(523)]||0;T&&void 0!==T[I]&&(E=T[I]),C[$(1241)]({name:I,link:x[A],timeout:y[I][$(1263)],priority:E})}}if(typeof y[I][$(1426)]!==$(1430)){for(let U in y[I].urlc)if(x[A][$(824)][$(1041)](y[I][$(1426)][U])&&(void 0===y[I][$(1013)]||y[I][$(1013)](x[A]))){let W=y[I][$(523)]||0;T&&void 0!==T[I]&&(W=T[I]),C[$(1241)]({name:I,link:x[A],timeout:y[I][$(1263)],priority:W})}}}if(C[$(761)]>0){C.sort((x,e)=>(x[$(523)]||0)-(e.priority||0));let B=C[$(1235)](),H=parseInt(lib[$(560)]($(624)))||200,G=parseInt(lib.getCookie("max_random_timeout"))||400;if(H>G)return console[$(976)]($(1528)+H+$(1050)+G+$(538)),B[$(728)][$(1024)]($(1263),G),[{click:B[$(728)]}];let O,N=!0===lib.getCookie($(1389))||lib[$(560)]($(1389))===$(545)||1==lib[$(560)]("skill_timeout");return O=N&&void 0!==B.timeout?B[$(1263)]:Math[$(876)](Math[$(804)]()*(G-H+1))+H,B[$(728)].setAttribute("timeout",O),[{click:B.link}]}let F=x[$(450)](x=>x.textContent.includes($(679)));if(F&&F instanceof Node){let R=parseInt(lib[$(560)]("min_random_timeout"))||200,z=parseInt(lib.getCookie("max_random_timeout"))||400;return F[$(1024)]($(1263),Math[$(876)](Math[$(804)]()*(z-R+1))+R),[{click:F}]}}else{let j=document[$(1412)]($(1549)),q=null;if(j[$(726)](x=>{var e=$;w[e(1564)]($=>x.textContent[e(1041)]($))&&(q=x)}),q&&q instanceof Node)return[{click:q}];{let D=x.find(x=>x[$(1595)].includes($(679)));if(D&&D instanceof Node){let Y=parseInt(lib[$(560)]($(624)))||200,K=parseInt(lib[$(560)]($(1431)))||400;return D[$(1024)]($(1263),Math.floor(Math.random()*(K-Y+1))+Y),[{click:D}]}}}}let Q=[],V=k();for(let J in y)for(let X in x){if(typeof y[J].text!==$(1430)){for(let Z in y[J][$(501)])if(x[X].innerHTML[$(1041)](y[J][$(501)][Z])&&(typeof y[J][$(1013)]===$(1430)||y[J][$(1013)](x[X]))){let $$=y[J].priority||0;V&&void 0!==V[J]&&($$=V[J]),Q[$(1241)]({name:J,link:x[X],timeout:y[J].timeout,priority:$$})}}if(typeof y[J].urlc!==$(1430)){for(let $x in y[J][$(1426)])if(x[X][$(824)][$(1041)](y[J].urlc[$x])&&(typeof y[J][$(1013)]===$(1430)||y[J][$(1013)](x[X]))){let $0=y[J][$(523)]||0;V&&void 0!==V[J]&&($0=V[J]),Q[$(1241)]({name:J,link:x[X],timeout:y[J][$(1263)],priority:$0})}}}if(Q.length>0){Q[$(1315)]((x,e)=>(x[$(523)]||0)-(e.priority||0));let $e=Q[$(1235)]();$e[$(728)][$(1251)][$(1041)]($(679))&&lib[$(1490)]($(892))[$(761)]>0&&lib[$(1490)]($(1082))[$(761)]>0&&($e[$(728)]=lib.findLinksByUrlComponent($(1082))[0]);let $t=parseInt(lib[$(560)]("min_random_timeout"))||200,$i=parseInt(lib[$(560)]($(1431)))||400;if($t>$i)return console[$(976)]($(1528)+$t+") превышает max_random_timeout ("+$i+$(538)),$e[$(728)][$(1024)]("timeout",$i),[{click:$e.link}];let $a,$n=!0===lib[$(560)]("skill_timeout")||lib[$(560)]("skill_timeout")===$(545)||1==lib[$(560)]($(1389));return $a=$n&&void 0!==$e[$(1263)]?$e[$(1263)]:Math[$(876)](Math[$(804)]()*($i-$t+1))+$t,$e[$(728)][$(1024)]("timeout",$a),[{click:$e[$(728)]}]}}},robbery:{name:"Грабежи \n      <img src='https://img1.bratki.mobi/images/icons/grabeji.png' \n           style='width: 20px; height: 20px; vertical-align: middle; animation: flex 2s infinite;'>\n  <style>\n    @keyframes flex {\n      0%, 100% { transform: scale(1); }\n      50% { transform: scale(1.2); }\n    }\n  </style>\n    ",description:"Проверять доступность грабежей и выполнять их",type:TYPE_TIMEOUT_SCENES,enabled:!0,start:0,getNextScene:function(){var $=_0x1813eb;if(!document[$(1266)][$(1251)][$(1041)]("откроются через")){var x=[{linkc:$(451),priority:0},{linkt:$(1536),priority:1},{linkt:$(1143),priority:1,timeout:Math[$(876)](201*Math[$(804)]())+100},{linkc:$(615),priority:1,timeout:Math.floor(201*Math.random())+100}];return engine[$(740)](x)}},timeout:4e4},autobon:{name:_0x1813eb(1110),description:_0x1813eb(626),type:TYPE_TIMEOUT_SCENES,settings:[{name:_0x1813eb(1476),type:_0x1813eb(457),key:_0x1813eb(893),value:!1},{name:_0x1813eb(654),type:_0x1813eb(457),key:"bonus_700",value:!1},{name:"Только за 1 <img src='https://img2.bratki.mobi/images/tmp/bullets12x12.png' alt='bullet' style='vertical-align: middle; width: 12px; height: 12px;'>",type:_0x1813eb(457),key:_0x1813eb(544),value:!1},{name:_0x1813eb(1466),type:_0x1813eb(457),key:_0x1813eb(982),value:!1},{name:_0x1813eb(978),type:_0x1813eb(457),key:_0x1813eb(995),value:!1},{name:"Настойка брони<img src='https://img3.bratki.mobi/images/items/stimulators/new/stim_armor_12x12.png' alt='armor' style='vertical-align: middle; width: 15px; height: 12px;'>",type:_0x1813eb(457),key:_0x1813eb(1377),value:!1},{name:_0x1813eb(1195),type:_0x1813eb(457),key:_0x1813eb(1157),value:!1},{name:_0x1813eb(1208),type:_0x1813eb(457),key:"chem_accuracy",value:!1},{name:"Настойка мощности<img src='https://img3.bratki.mobi/images/items/stimulators/new/stim_power_12x12.png' alt='power' style='vertical-align: middle; width: 15px; height: 15px;'>",type:_0x1813eb(457),key:"chem_power",value:!1},{name:_0x1813eb(1283),type:_0x1813eb(457),key:_0x1813eb(1206),value:!1},{name:_0x1813eb(683),type:_0x1813eb(457),key:_0x1813eb(1133),value:!1},{name:"-5 сек <img src='https://img2.bratki.mobi/images/icons/skillcooldown.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> на час за 3 <img src='https://img2.bratki.mobi/images/icons/bucks.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>",type:"checkbox",key:_0x1813eb(926),value:!1},{name:_0x1813eb(1199),type:"checkbox",key:_0x1813eb(594),value:!1},{name:_0x1813eb(470),type:_0x1813eb(457),key:_0x1813eb(1093),value:!1},{name:_0x1813eb(1032),type:"checkbox",key:"skill_bonus_5",value:!1},{name:_0x1813eb(456),type:_0x1813eb(457),key:"survival_10min",value:!1},{name:_0x1813eb(1186),type:_0x1813eb(457),key:"survival_20min",value:!1},{name:_0x1813eb(1379),type:_0x1813eb(457),key:"double_exp_30min",value:!1},{name:"x2 опыт на час <img src='/images/icons/double_exp.png' alt='x2' style='vertical-align: middle; width: 12px; height: 12px;'> за 1500 <img src='https://img0.bratki.mobi/images/icons/credits.png' alt='credits' style='vertical-align: middle; width: 12px; height: 12px;'>",type:_0x1813eb(457),key:_0x1813eb(1098),value:!1}],enabled:!0,start:0,getNextScene:function(){var $=_0x1813eb;function x($){var x=_0x16bb;let e=document.querySelector(x(1381));if(!e)return console[x(976)](x(885)),!1;let t=e[x(1412)]("td")[$];return t?!t[x(454)](x(816))||(console.log(x(1175)+$+x(472)),!1):(console[x(976)](x(1480)+$+x(1018)),!1)}var e="1"==lib[$(560)]($(893)),t="1"==lib[$(560)]($(1275)),i="1"==lib[$(560)]($(544)),a="1"==lib[$(560)]($(982)),n="1"==lib.getCookie($(995)),r="1"==lib[$(560)]($(1377)),_="1"==lib[$(560)]("chem_speed"),o="1"==lib[$(560)]($(1585)),l="1"==lib[$(560)]($(818)),s="1"==lib.getCookie($(1206)),c="1"==lib[$(560)]($(1133)),b="1"==lib[$(560)]("skill_bonus_2"),d="1"==lib[$(560)]($(594)),u="1"==lib[$(560)]($(1093)),p="1"==lib[$(560)]("skill_bonus_5"),f="1"==lib[$(560)]($(909)),g="1"==lib[$(560)]($(1097)),m="1"==lib[$(560)]("double_exp_30min"),h="1"==lib[$(560)]($(1098)),k=document[$(454)]($(867));if(!k){console[$(976)]($(915));return}var v=n||r||_||o||l||s||c||b||d||u||p||f||g||m||h,y=Array[$(1164)](document[$(1412)]("img")).filter(x=>(x[$(1591)]||"")[$(1041)]($(1582)))[$(761)]>0,w=k.querySelectorAll("img"),M=0;w[$(726)](x=>{var e=$;(x[e(826)]("src")||"")[e(475)]().includes("/icons/training.png")&&M++});var L=0===M;function S(x){var e=$;return Array[e(1164)](w).some($=>{var t=e;return($.getAttribute(t(1591))||"").trim()[t(1041)](x)})}function C(){var x=$;return Array.from(w)[x(1564)]($=>{var e=x;return($[e(826)](e(1591))||"")[e(475)]()[e(1041)](e(1524))})}function T(){var x=$;return Array.from(k[x(1412)](x(922))).some($=>{var e=x;return($[e(826)](e(1591))||"")[e(475)]().includes(e(1103))})}var I=!1;e&&L&&(I=!0),t&&L&&(I=!0),i&&L&&(I=!0),a&&(L||1===M)&&(I=!0),y&&(n&&!S($(1303))&&x(0)&&(I=!0),r&&!S("/stim_armor_12x12.png")&&x(1)&&(I=!0),o&&!S($(1420))&&x(2)&&(I=!0),_&&!S("/stim_speed_12x12.png")&&x(3)&&(I=!0),l&&!S($(588))&&x(4)&&(I=!0));var A=!C();s&&A&&(I=!0),c&&A&&(I=!0),b&&A&&(I=!0),d&&A&&(I=!0);var P,E=!T();u&&E&&(I=!0),p&&E&&(I=!0);var U,W=!Array[(P=$)(1164)](k[P(1412)](P(922)))[P(1564)]($=>{var x=P;return($[x(826)](x(1591))||"")[x(475)]().includes(x(1253))});f&&W&&(I=!0),g&&W&&(I=!0);var B=!Array[(U=$)(1164)](k.querySelectorAll(U(922)))[U(1564)]($=>{var x=U;return($[x(826)](x(1591))||"")[x(475)]()[x(1041)](x(796))});if(m&&B&&(I=!0),h&&B&&(I=!0),I){var H=[];if(H[$(1241)]({linkc:$(451),priority:0}),v&&!y&&H[$(1241)]({linkt:$(1284),priority:.5}),e&&L&&H.push({linkc:"-buffsCommon-0-link",priority:1}),t&&L&&H[$(1241)]({linkc:$(1150),priority:1}),y||v){y&&(n&&!S($(1303))&&x(0)&&H[$(1241)]({linkc:$(852),priority:3}),r&&!S($(1592))&&x(1)&&H[$(1241)]({linkc:"-bottles-1",priority:3}),o&&!S($(1420))&&x(2)&&H[$(1241)]({linkc:"-bottles-2",priority:3}),_&&!S($(1540))&&x(3)&&H[$(1241)]({linkc:$(1174),priority:3}),l&&!S("/stim_power_12x12.png")&&x(4)&&H[$(1241)]({linkc:$(579),priority:3}));var A=!C(),E=!T();s&&A&&(H[$(1241)]({linkt:$(1178),priority:4}),H.push({linkc:$(697),priority:5}),H[$(1241)]({linkc:$(1588),priority:6})),c&&A&&(H[$(1241)]({linkt:$(1178),priority:4}),H[$(1241)]({linkc:$(1390),priority:5}),H[$(1241)]({linkc:$(1588),priority:6})),b&&A&&(H.push({linkt:$(1178),priority:4}),H[$(1241)]({linkc:$(1486),priority:5}),H[$(1241)]({linkc:$(1588),priority:6})),d&&A&&(H[$(1241)]({linkt:$(1178),priority:4}),H[$(1241)]({linkc:$(636),priority:5}),H[$(1241)]({linkc:"-confirmLink",priority:6})),u&&E&&(H[$(1241)]({linkt:$(1178),priority:4}),H[$(1241)]({linkc:$(960),priority:5}),H[$(1241)]({linkc:"-confirmLink",priority:6})),p&&E&&(H.push({linkt:$(1178),priority:4}),H[$(1241)]({linkc:$(1223),priority:5}),H[$(1241)]({linkc:$(1588),priority:6})),f&&W&&(H[$(1241)]({linkt:$(1178),priority:4}),H.push({linkc:$(1428),priority:5}),H[$(1241)]({linkc:$(1588),priority:6})),g&&W&&(H.push({linkt:$(1178),priority:4}),H[$(1241)]({linkc:$(1576),priority:5}),H[$(1241)]({linkc:"-confirmLink",priority:6})),m&&B&&(H.push({linkt:"Уникальные приемы",priority:4}),H[$(1241)]({linkc:$(1329),priority:5}),H[$(1241)]({linkc:"-confirmLink",priority:6})),h&&B&&(H[$(1241)]({linkt:$(1178),priority:4}),H[$(1241)]({linkc:$(1417),priority:5}),H[$(1241)]({linkc:"-confirmLink",priority:6}))}return i&&L&&H.push({linkc:"-buffsSpec-0-link",priority:2,timeout:500}),a&&(L&&H[$(1241)]({linkc:$(1150),priority:1}),1===M&&H.push({linkc:"-buffsSpec-0-link",priority:2,timeout:500})),H[$(726)](($,x)=>console.log("   → Шаг "+(x+1)+":",$)),engine.getSceneLink(H)}},timeout:4e4},tasks:{name:_0x1813eb(918),description:_0x1813eb(557),type:TYPE_TIMEOUT_SCENES,enabled:!1,start:0,getNextScene:function(){var $=_0x1813eb;if(!document[$(1266)][$(1251)][$(1041)]($(1526))){var x=[{linkc:$(451),priority:0},{linkc:"/tasks",priority:1},{linkc:$(705),priority:2,exc:function(){var x=$;return document[x(1266)].innerHTML[x(1041)](x(1277))}},{linkc:$(833),priority:3},{linkc:"repeatLink",priority:3},{linkt:$(758),priority:1},{linkt:"Чарли",priority:1},{linkt:$(1414),priority:1}];return engine[$(740)](x)}},timeout:6e4},rack:{name:_0x1813eb(866),description:_0x1813eb(1003),type:TYPE_TIMEOUT_SCENES,enabled:!1,start:0,settings:[{name:"личные вещи - сбыть",type:"checkbox",key:_0x1813eb(1069),value:!1},{name:_0x1813eb(1087),type:_0x1813eb(457),key:_0x1813eb(585),value:!1},{name:_0x1813eb(650),type:_0x1813eb(457),key:_0x1813eb(527),value:!1},{name:"исключения",type:_0x1813eb(501),key:_0x1813eb(1314),value:"филки, жетон, кредиты, пули, аптечка, канистра с бензином"}],getNextScene:function(){var $=_0x1813eb,x=bratki[$(1365)](),e=lib[$(560)]($(1314));if(e&&(e=e[$(997)]()[$(999)](",")),x.length>0&&document[$(1266)][$(1251)][$(1041)]($(953)))for(var t in x){if(e){var i=!1;for(var a in e)x[t][$(1251)][$(997)]().includes(e[a][$(475)]())&&(i=!0);if(i)continue}if(x[t].innerHTML[$(1041)]("личное")){if(1==lib[$(560)]($(1069)))return this.confirmReq=!0,[{click:x[t][$(454)]($(903))}]}else{if(1==lib.getCookie($(527)))return this[$(1501)]=!0,[{click:x[t][$(454)]($(903))}];if(1==lib.getCookie("public_items_gang")){var n=!1;for(var r in e)x[t].innerHTML[$(997)]()[$(1041)](e[r])&&(n=!0);n||(this[$(1445)]=!0)}}}if(this.confirmReq&&(delete this[$(1501)],lib.findLinksByUrlComponent($(912))[$(761)]>0))return[{click:lib[$(1490)]($(912))[0]}];if(this[$(1445)]){if(document.body.innerHTML.includes("доступных вещей не найдено")){delete this[$(1445)];return}if(lib.findLinksByUrlComponent($(1070))[$(761)]>0){lib[$(1028)]("public_items_gang",0);return}var _=[{linkc:$(1438),priority:0},{linkc:$(1594),priority:1},{linkt:$(741),priority:2},{linkc:$(526),priority:2},{linkc:$(854),priority:2},{linkc:$(1243),priority:3}];return engine.getSceneLink(_)}if(!document[$(1266)][$(1251)][$(1041)]($(953)))return[{click:lib.findLinksByUrlComponent($(1442))[0]}]},timeout:0},autoMissions:{name:"Заказухи <img src='https://img3.bratki.mobi/images/icons/zakazuhi.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>",type:TYPE_TIMEOUT_SCENES,enabled:!0,start:0,settings:[{name:"Порядок прохождения",type:_0x1813eb(497),key:_0x1813eb(1269),value:0,list:["По списку",_0x1813eb(993)]},{name:_0x1813eb(1446),type:_0x1813eb(497),key:_0x1813eb(809),value:3,list:[_0x1813eb(1554),"норм",_0x1813eb(828),_0x1813eb(1584)]},{name:_0x1813eb(844),type:_0x1813eb(497),key:_0x1813eb(1394),value:3,list:[_0x1813eb(1554),"норм",_0x1813eb(828),_0x1813eb(1584)]},{name:_0x1813eb(466),type:_0x1813eb(497),key:_0x1813eb(975),value:3,list:["выкл",_0x1813eb(1516),_0x1813eb(828),"маст"]},{name:"Заброшенный Завод",type:"select",key:_0x1813eb(1030),value:3,list:["выкл",_0x1813eb(1516),_0x1813eb(828),_0x1813eb(1584)]},{name:"Сочные дыни",type:_0x1813eb(497),key:_0x1813eb(1506),value:3,list:[_0x1813eb(1554),_0x1813eb(1516),_0x1813eb(828),"маст"]},{name:_0x1813eb(801),type:_0x1813eb(497),key:_0x1813eb(479),value:3,list:["выкл","норм","проф","маст"]},{name:_0x1813eb(1145),type:_0x1813eb(497),key:_0x1813eb(600),value:3,list:[_0x1813eb(1554),"норм",_0x1813eb(828),"маст"]},{name:"Особняк Фила Ричи",type:"select",key:"VillaRichie",value:3,list:[_0x1813eb(1554),_0x1813eb(1516),_0x1813eb(828),_0x1813eb(1584)]},{name:_0x1813eb(1353),type:_0x1813eb(497),key:_0x1813eb(1173),value:3,list:[_0x1813eb(1554),"норм",_0x1813eb(828),_0x1813eb(1584)]},{name:_0x1813eb(913),type:_0x1813eb(497),key:_0x1813eb(1102),value:0,list:[_0x1813eb(1554),_0x1813eb(1516),_0x1813eb(828),_0x1813eb(1584)]},{name:_0x1813eb(1153),type:_0x1813eb(497),key:_0x1813eb(512),value:0,list:[_0x1813eb(1554),_0x1813eb(1516),"проф",_0x1813eb(1584)]},{name:"Военная контрабанда",type:_0x1813eb(497),key:_0x1813eb(1172),value:0,list:[_0x1813eb(1554),_0x1813eb(1516),_0x1813eb(828),_0x1813eb(1584)]},{name:_0x1813eb(811),type:_0x1813eb(497),key:_0x1813eb(848),value:0,list:[_0x1813eb(1554),_0x1813eb(1516),"проф",_0x1813eb(1584)]},{name:_0x1813eb(1327),type:_0x1813eb(497),key:_0x1813eb(506),value:0,list:[_0x1813eb(1554),"норм",_0x1813eb(828),_0x1813eb(1584)]},{name:_0x1813eb(601),type:_0x1813eb(497),key:_0x1813eb(1521),value:0,list:[_0x1813eb(1554),_0x1813eb(1516),_0x1813eb(828),_0x1813eb(1584)]},{name:"Последний полет",type:_0x1813eb(497),key:_0x1813eb(1534),value:0,list:[_0x1813eb(1554),_0x1813eb(1516),_0x1813eb(828),_0x1813eb(1584)]},{name:_0x1813eb(1190),type:_0x1813eb(497),key:_0x1813eb(612),value:0,list:["выкл","норм",_0x1813eb(828),_0x1813eb(1584)]},{name:_0x1813eb(797),type:"select",key:_0x1813eb(1354),value:0,list:[_0x1813eb(1554),_0x1813eb(1516),_0x1813eb(828),_0x1813eb(1584)]},{name:_0x1813eb(1015),type:_0x1813eb(497),key:_0x1813eb(1217),value:0,list:[_0x1813eb(1554),_0x1813eb(1516),_0x1813eb(828),"маст"]},{name:_0x1813eb(943),type:_0x1813eb(497),key:_0x1813eb(877),value:0,list:[_0x1813eb(1554),"норм",_0x1813eb(828),"маст"]},{name:_0x1813eb(849),type:_0x1813eb(497),key:_0x1813eb(1256),value:0,list:["выкл",_0x1813eb(1516),_0x1813eb(828),_0x1813eb(1584)]},{name:_0x1813eb(1148),type:"select",key:_0x1813eb(684),value:0,list:[_0x1813eb(1554),_0x1813eb(1516),_0x1813eb(828),"маст"]}],getNextScene:function(){var $=_0x1813eb;if(bratki[$(465)]()[$(761)]>0){this[$(1263)]=0;return}if(typeof this[$(1090)]!=$(1430)&&lib[$(1490)](this[$(1090)]+$(806))[$(761)]>0)return[{click:lib.findLinksByUrlComponent(this.diff+"-difficultyLink")[0]}];if(0===lib[$(1490)]("levelFilter-3")[$(761)]&&bratki[$(760)]()[$(761)]>0){var x,e=bratki[$(760)](),t=[];for(var i in e){var a=e[i].href[$(999)]("/").pop();if("blackmarket"!=a){var n=lib[$(560)](a);parseInt(n)>0&&t[$(1241)]({link:e[i],diff:n-1,key:a})}}if(t[$(761)]>0){for(var r in x=1===(parseInt(lib[$(560)]($(1269)))||0)?t[Math[$(876)](Math[$(804)]()*t[$(761)])]:t[0],this[$(1090)]=x[$(1090)],this.settings)this[$(518)][r][$(774)]==x[$(774)]&&lib[$(1028)]($(1363),r);return[{click:x[$(728)]}]}return void(this[$(1263)]=2e4)}typeof this[$(1090)]!=$(1430)&&delete this[$(1090)];let _=[{linkt:$(715),priority:1},{linkc:$(563),priority:4,exc:function(){var x=$;return lib[x(560)](x(565))}},{linkt:"Заказухи",priority:2},{linkt:$(1026),priority:3},{linkc:$(1577),priority:4},{linkc:$(912),priority:5},{linkc:$(537),priority:6},{linkc:$(1233),priority:7},{linkt:$(610),priority:7,timeout:2850,exc:function(){var x=$;return null!==document[x(454)](x(1135))}},{linkc:$(1401),priority:1,timeout:500,exc:function(){return null!==document.querySelector("div.road-line")}},{linkt:$(1491),priority:8,timeout:200,exc:function(){return null!==document[$(454)]("div.road-line")}}];return engine[$(740)](_)},timeout:3e4},off:{name:_0x1813eb(558),type:TYPE_SWITCH,enabled:!1,onswitch:function($){var x=_0x1813eb;$?this[x(635)]=setTimeout(function(){document[x(454)]("#playpause").click()},(parseInt(lib[x(560)]("auto_off"))+1)*36e5):clearTimeout(this[x(635)])},onconfig:function(){var $=_0x1813eb;this[$(1042)]&&(clearTimeout(this[$(635)]),this[$(635)]=setTimeout(function(){document[$(454)]("#playpause").click()},(parseInt(lib.getCookie($(659)))+1)*36e5))},settings:[{name:_0x1813eb(991),type:"select",key:_0x1813eb(659),value:0,list:["1","2","3","4"]}]},magic:{name:_0x1813eb(931),type:TYPE_TIMEOUT_SCENES,enabled:!1,start:0,currentPage:1,currentStepIndex:0,target:!1,target2:!1,intervalId:null,settings:[{name:"Cбор eжедневной награды <img src='https://img0.bratki.mobi/images/icons/buff_generosity.png' alt='gift' style='vertical-align: middle; width: 18px; height: 18px;'>",type:_0x1813eb(457),key:"gift_everyday",value:!1},{name:_0x1813eb(1282),type:_0x1813eb(457),key:"sboritems-enabled",value:!1},{name:_0x1813eb(1519),type:_0x1813eb(457),key:_0x1813eb(846),value:!1},{name:_0x1813eb(452),type:"checkbox",key:_0x1813eb(1435),value:!1},{name:_0x1813eb(516),type:_0x1813eb(457),key:_0x1813eb(478),value:!1},{name:_0x1813eb(1416),type:_0x1813eb(457),key:"gang3-enabled",value:!1},{name:_0x1813eb(1129),type:_0x1813eb(457),key:_0x1813eb(914),value:!1},{name:_0x1813eb(593),type:"checkbox",key:_0x1813eb(1311),value:!1},{name:_0x1813eb(1237),type:_0x1813eb(457),key:_0x1813eb(1112),value:!1},{name:_0x1813eb(1100),type:"text",key:_0x1813eb(722),value:""},{name:_0x1813eb(1351),type:"checkbox",key:_0x1813eb(1106),value:!1},{name:_0x1813eb(724),type:"checkbox",key:_0x1813eb(839),value:!1},{name:_0x1813eb(519),type:_0x1813eb(457),key:_0x1813eb(794),value:!1},{name:"ID получателя подарка",type:_0x1813eb(501),key:_0x1813eb(507),value:""}],onload:function(){var $=_0x1813eb;if(1==lib[$(560)]("take-all")){let x=document[$(1412)]($(1280)),e=this,t=!1;for(let i in x){if(!x[$(617)](i))continue;let a=x[i][$(772)].parentNode[$(772)];if(a[$(1251)].includes("item_difficulty")&&!a[$(1251)][$(1041)]("Забрать все")){let n=document[$(1462)]("a");n[$(1251)]="Забрать все",n[$(824)]=$(1036),n[$(771)]=function(){var x=$;e[x(548)]=this[x(772)][x(772)][x(454)](x(1204)).innerHTML,e[x(1196)]()},a[$(454)]($(570))[$(772)][$(1236)](n)}if(e[$(548)]&&null===document.querySelector($(1118))&&a[$(1251)][$(1041)](e.target)){x[i].click(),t=!0;break}}t||(e.target=!1)}if(1==lib[$(560)]($(839))){let r=document[$(1412)]($(756)),_=this,o=!1;for(let l in r){if(!r[$(617)](l))continue;let s=r[l][$(772)][$(772)];if(!s[$(1251)][$(1041)]($(522)))continue;if(s[$(1251)][$(1041)]("item_difficulty")&&!s[$(1251)][$(1041)]($(568))){let c=document[$(1462)]("td"),b=document[$(1462)]("a");c.appendChild(b),b.innerHTML="все",b[$(824)]="javascript:void(0)",b.className=$(661),b[$(771)]=function(){var x=$;_[x(1581)]=this[x(772)][x(772)][x(454)](x(1204))[x(1251)],_[x(1196)]()},s[$(1236)](c)}let d=s[$(454)]($(1167));if(_[$(1581)]&&!document.body[$(1251)][$(1041)]($(1530))&&s[$(1251)][$(1041)](_[$(1581)])){d.click(),o=!0;break}}o||(_[$(1581)]=!1)}},onconfig:function($=this[_0x1813eb(1042)]){var x=_0x1813eb;if($){this.onload(),1!=lib[x(560)]("arena-enabled")||this[x(805)]||(this[x(805)]=setInterval(function(){var $=x;function e($){var x=_0x16bb,e=document.querySelectorAll(x(879)),t=[];return e[x(726)](function(e){var i=x;e[i(1595)][i(1041)]($)&&t[i(1241)](e)}),t}var t=e($(886)),i=e($(1331));function a(x){var e=$;x[e(726)](function($){var x=e;$[x(680)][x(1537)]=x(645)})}a(t),a(i)},0));(lib[x(560)](x(507))||this[x(518)][x(450)]($=>$[x(774)]===x(507))[x(1388)])[x(1259)](/^\d+$/)||lib[x(1028)](x(507),this.settings[x(450)]($=>$[x(774)]===x(507))[x(1388)])}else{let e=document.querySelectorAll(x(971));for(let t=0;t<e[x(761)];t++)e[t][x(680)]="";this.intervalId&&(clearInterval(this[x(805)]),this[x(805)]=null)}},removeLinksByUrlComponent:function($,x){var e=_0x1813eb,t=[];for(var i in $)void 0===$[i][e(824)]||$[i][e(824)].includes(x)||t[e(1241)]($[i]);return t},getSceneLinks:function($){var x=_0x1813eb,e=[],t=(this[x(1191)],0);do{var i=$[this[x(1191)]];if(i[x(1281)]){var a=lib[x(560)](x(722))||this[x(518)][x(450)]($=>"mod_item_name"===$[x(774)])[x(1388)];if(!a||""===a[x(475)]()){this[x(1191)]=(this[x(1191)]+1)%$.length,t++;continue}var n=lib.findLinksByText(a[x(475)]());if(n.length>0){e[x(1241)]({click:n[0],timeout:0}),this[x(1191)]=(this.currentStepIndex+1)%$[x(761)];break}}else{var n=lib.findLinksByText(i[x(907)]);if((n=this.removeLinksByUrlComponent(n,i[x(907)]))[x(761)]>0){e.push({click:n[0],timeout:0}),this[x(1191)]=(this.currentStepIndex+1)%$[x(761)];break}}this[x(1191)]=(this.currentStepIndex+1)%$[x(761)],t++}while(t<$[x(761)]);return e},getNextScene:function(){var $=_0x1813eb,x=[];if(1==lib[$(560)]($(1009))){if(document[$(454)](".b-notice .notice-inner span.medium")?.[$(1595)][$(1041)]("В твоей сумке нет места"))return;x[$(1241)]({linkt:$(534),priority:1},{linkc:$(1194),priority:2},{linkt:$(706),priority:6});let e=document[$(1412)]($(531));e[$(761)]>0?e.forEach(function(e){var t=$;x[t(1241)]({linkc:e[t(826)](t(824)),priority:3})}):(x[$(1241)]({linkc:"-deleteLink",priority:5}),x[$(1241)]({linkc:$(1588),priority:5})),(1==lib.getCookie("take-all")||1==lib[$(560)]("give-all"))&&this[$(1196)]()}if(1!=lib[$(560)]("cover-enabled")||document[$(1266)][$(1251)][$(1041)]($(1526))||x[$(1241)]({linkc:$(451),priority:0},{linkc:$(520),priority:1},{linkc:$(642),priority:2},{linkc:$(718),priority:3},{linkc:"-confirmLink",priority:4}),1==lib.getCookie("gang1-enabled")&&x.push({linkc:$(451),priority:0},{linkt:"Группировка",priority:1},{linkt:$(1479),priority:2},{linkc:$(1358),priority:3},{linkc:$(912),priority:4}),1==lib[$(560)]($(478))&&x[$(1241)]({linkc:$(451),priority:0},{linkt:"Группировка",priority:1},{linkt:$(1479),priority:2},{linkc:$(962),priority:3},{linkc:"confirmLink",priority:4}),1==lib[$(560)]($(1249))&&x[$(1241)]({linkc:"/home",priority:0},{linkt:$(1456),priority:1},{linkt:$(1479),priority:2},{linkc:$(777),priority:3},{linkc:$(912),priority:4}),1==lib.getCookie("achievements_bar-enabled"))return x[$(1241)]({linkt:$(572),priority:10},{linkt:$(1449),priority:11},{linkt:"На главную",priority:12},{linkt:$(1339),priority:13},{linkt:$(1149),priority:14},{linkt:$(710),priority:15},{linkt:"На главную",priority:16}),this[$(1473)](x);if(1==lib[$(560)]($(1112))){if(document.body.innerHTML[$(1041)]($(1016)))return;let t=[{linkt:"Сумка",priority:20},{linkt:null,useSetting:!0,priority:21},{linkt:"Модификаторы",priority:22},{linkt:$(657),priority:23},{linkt:$(657),priority:24},{linkt:"Да, подтверждаю",priority:25}];return t[$(1241)]({linkt:"Улучшить",priority:26},{linkt:"Улучшить",priority:26},{linkt:$(1065),priority:27},{linkt:"Извлечь",priority:26},{linkt:$(1065),priority:27},{linkt:$(715),priority:28}),x[$(1241)](...t),this[$(1473)](x)}if(1==lib[$(560)]($(794))){let i=lib[$(560)]($(507))||this.settings[$(450)](x=>x[$(774)]===$(507))[$(1388)];if(i&&i[$(1259)](/^\d+$/)){let a=[{linkt:"Персонаж",priority:30},{linkt:"Друзья",priority:31},{linkc:i,priority:32},{linkc:"giftshop",priority:33},{linkc:"-last",priority:34},{linkc:$(1567),priority:35},{linkc:$(781),priority:36},{linkt:$(1065),priority:37}];x[$(1241)](...a)}}return 1==lib.getCookie($(1023))&&document[$(1412)]($(1452))[$(761)]>0&&x.push({linkc:$(1529),priority:1}),engine[$(740)](x)},timeout:0},races:{name:"Быстрые гонки <img src='https://img2.bratki.mobi/images/cars/icons/race_29x29.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>",description:_0x1813eb(535),type:TYPE_SCENES,enabled:!0,settings:[{name:_0x1813eb(605),type:"range",key:"gas_timeout",maxvalue:3e3,value:2700},{name:_0x1813eb(546),type:_0x1813eb(1296),key:_0x1813eb(1305),maxvalue:300,value:20}],getNextScene:function(){var $=_0x1813eb;if(null!==document[$(454)]($(1135))){if(document.body[$(1251)][$(1041)]($(1222))){var x=[{linkc:"refreshLink",priority:1,timeout:1e3}];return engine[$(740)](x)}if(document[$(1266)].innerHTML[$(1041)]("Обновляй страницу")){var x=[{linkc:$(1401),priority:1,timeout:0}];return engine[$(740)](x)}if(document.body[$(1251)][$(1041)]($(1128))){var x=[{linkt:$(610),priority:1,timeout:0}];return engine[$(740)](x)}if(document[$(454)]($(704))){var x=[{linkt:"Нитро",priority:3,timeout:lib[$(560)]($(1305))}];return engine[$(740)](x)}if(!document.body[$(1251)][$(1041)]("СТАРТ!!!")){var x=[{linkt:$(610),priority:0,timeout:lib[$(560)]($(1464))}];return engine[$(740)](x)}}}},autoobjak:{name:_0x1813eb(743),type:TYPE_TIMEOUT_SCENES,enabled:!0,start:0,startItemsCount:null,transferMode:!1,currentItemIndex:0,itemSelectionCompleted:!1,currentCategoryIndex:0,selectedItemCount:0,settings:[{name:_0x1813eb(1307),type:_0x1813eb(501),key:_0x1813eb(503),value:""},{name:_0x1813eb(1166),type:_0x1813eb(501),key:"item_categories_csv",value:_0x1813eb(1026)}],getNextScene:function(){var $=_0x1813eb;let x=lib[$(560)]($(503))||this[$(518)][$(450)](x=>x[$(774)]===$(503)).value;if(!x[$(1259)](/^\d+$/))return[];let e=(lib.getCookie("item_categories_csv")||this[$(518)].find(x=>x[$(774)]===$(655))[$(1388)])[$(999)](",")[$(459)]($=>$.trim()).filter($=>$);if(0===e[$(761)])return[];let t=[{linkc:$(451),priority:0},{linkt:$(534),priority:1},{linkc:$(1056),priority:2},{linkc:x,priority:3},{linkc:$(1126),priority:4},{linkc:$(686),priority:5},{linkc:$(1134)+this[$(530)]+$(1367),priority:5,onComplete:()=>{var x=$;if(document[x(454)](x(1487)+this[x(530)]+x(1265)+this[x(530)]+x(499))&&(this.itemSelectionCompleted=!0,this[x(530)]++,this[x(530)]>=11)){let e=document[x(454)](x(586));e&&e[x(1218)](),setTimeout(()=>{var $=x;if(document[$(1412)]($(757))[$(761)]>=10){let e=document.querySelector($(1527));return e&&e[$(1218)](),this[$(530)]=0,this[$(899)]=!1,this[$(1386)]=null,this.itemSelectionCompleted=!1,this[$(532)]()}},500)}}}];if(this[$(899)])return engine[$(740)](t);if(!document[$(454)]($(502)))return engine.getSceneLink([{linkc:$(451),priority:0},{linkt:"Группировка",priority:1},{linkt:$(1359),priority:2}]);let i=e[this[$(1116)]];if(!i&&(this[$(1116)]=0,!(i=e[this[$(1116)]])))return[];let a=Array[$(1164)](document[$(1412)](".filter-str .filter-item")),n=a.find(x=>x[$(1137)]===$(1361));if((n?n[$(1595)].trim():null)!==i){let r=a[$(450)](x=>"A"===x[$(1137)]&&x.textContent[$(475)]()===i);return r?(r[$(1218)](),this[$(530)]=0,this.itemSelectionCompleted=!1,setTimeout(()=>this.getNextScene(),300),[]):(this[$(1116)]++,this[$(532)]())}let _=document[$(454)]($(745));if(_&&_.textContent[$(1041)]("В общаке занято")){let o=_[$(1412)]($(570));if(o[$(761)]>=3){let l=parseInt(o[0][$(1595)])||0;null===this.startItemsCount&&(this[$(1386)]=l);if(this.startItemsCount-l>=10)return this.transferMode=!0,this[$(530)]=0,this[$(1225)]=!1,engine[$(740)](t)}}return 0===document[$(1412)]($(810))[$(761)]?(this[$(1116)]++,this[$(1386)]=null,this.getNextScene()):engine.getSceneLink([{linkc:$(906),priority:3}])},timeout:0},menuCustomizer:{name:"Настройка меню <img src='https://img0.bratki.mobi/images/icons/achievements.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>",description:_0x1813eb(744),type:TYPE_SWITCH,enabled:!1,settings:[{name:_0x1813eb(959),type:_0x1813eb(1296),key:_0x1813eb(1138),maxvalue:255,value:96},{name:"Зеленый (G)",type:"range",key:_0x1813eb(1115),maxvalue:255,value:255},{name:_0x1813eb(1455),type:_0x1813eb(1296),key:"menu_color_b",maxvalue:255,value:0},{name:"Затемнение",type:_0x1813eb(1296),key:"menu_dim",maxvalue:100,value:10},{name:_0x1813eb(1260),type:_0x1813eb(457),key:_0x1813eb(1525),value:!0},{name:_0x1813eb(1215),type:_0x1813eb(457),key:_0x1813eb(767),value:!1},{name:_0x1813eb(1561),type:_0x1813eb(457),key:_0x1813eb(727),value:!1},{name:_0x1813eb(1510),type:_0x1813eb(457),key:"bg_zuza",value:!1},{name:_0x1813eb(630),type:_0x1813eb(457),key:_0x1813eb(676),value:!1},{name:_0x1813eb(473),type:_0x1813eb(457),key:_0x1813eb(721),value:!1},{name:_0x1813eb(468),type:"checkbox",key:"bg_cop",value:!1},{name:"Фон: Потрошитель",type:_0x1813eb(457),key:_0x1813eb(1508),value:!1}],onswitch:function($){this[_0x1813eb(1226)]($)},onconfig:function($=this[_0x1813eb(1042)]){var x=_0x1813eb;let e={bg_city:x(752),bg_gorki:x(813),bg_doki:x(1005),bg_zuza:x(1429),bg_old_city:x(604),bg_cop:x(461),bg_banda:x(1504),bg_potrox:x(1075)},t=e[x(1508)],i=document.querySelector(x(753))||document[x(1462)](x(680));if(i.id="menu-bg-style",$){let a=parseInt(lib[x(560)](x(1138)))||this.settings[0][x(1388)],n=parseInt(lib[x(560)](x(1115)))||this[x(518)][1].value,r=parseInt(lib[x(560)]("menu_color_b"))||this[x(518)][2].value,_=parseInt(lib.getCookie(x(496)))||this.settings[3].value;for(let o=4;o<this.settings[x(761)];o++)if(1==lib[x(560)](this[x(518)][o][x(774)])){t=e[this[x(518)][o][x(774)]];for(let l=4;l<this[x(518)][x(761)];l++)if(l!==o){lib[x(1028)](this[x(518)][l][x(774)],0);let s=document[x(454)]("#"+this[x(518)][l][x(774)]);s&&(s.checked=!1)}break}i[x(1251)]=x(623)+t+x(928)+(1-_/100)+x(1375)+_/100+");\n                        z-index: -1;\n                    }\n                    .custom-menu, .custom-menu * {\n                        color: rgb("+a+", "+n+", "+r+x(1572)}else i[x(1251)]=x(1169);document[x(1049)][x(1236)](i)}}};let GUI={createMenu:function(){var $=_0x1813eb;let x=document[$(1462)]("style");x[$(1251)]=switchStyle,document[$(1049)][$(1236)](x);let e=window.innerWidth<600,t=document.createElement($(680));t.id="menu-bg-style",t[$(1251)]=$(1e3),document[$(1049)][$(1236)](t),modules[$(1006)]&&modules[$(1006)][$(1042)]&&modules[$(1006)][$(1226)]();let i=lib.ce($(1448),{className:$(1125),id:$(1352),style:$(713),onmousemove:function(){this.style.opacity="1"},onmouseout:function(){var x=$;this[x(680)][x(1207)]=x(786)}});if(e)i[$(680)][$(1238)]="0",i[$(680)].right="0";else if(typeof lib[$(560)]("menu_position")==$(1430))i[$(680)][$(1238)]=$(663),i[$(680)][$(759)]=$(1001);else{let a=lib.getCookie($(1246))[$(999)](".");i[$(680)][$(1238)]=a[1],i[$(680)].left=a[0]}let n=lib.ce($(1448),{style:"padding: 5px; cursor: pointer;",innerHTML:"опции"},i),r=lib.ce("div",{style:"overflow: hidden; position: absolute; right: 5px; top: 0; transition: 500ms;"}),_=lib.ce($(1448),{style:$(1080)},r),o=!1;e||(n[$(994)]=function(x){var e=$;i[e(680)][e(957)]="0s";let t=x.offsetX,a=x[e(1304)];function r($){var x=e;i.style[x(759)]=$.pageX-t+"px",i.style.top=$[x(555)]-a+"px",lib.setCookie(x(1246),i[x(680)][x(759)]+"."+i[x(680)][x(1238)])}r(x),document.onmousemove=function($){var x=e;Math.sqrt(Math[x(972)](t-$.offsetX,2)+Math[x(972)](a-$[x(1304)],2))>2&&(o=!0),r($)},n[e(1337)]=function(){var $=e;document.onmousemove=null,i[$(680)][$(957)]=$(964),n[$(1337)]=null}});let l=lib.ce($(1448),{style:$(1570)},i),s=!1;n.onclick=function(){var x=$;if(o){o=!1;return}s=!s,GUI[x(695)]=s,s?(GUI[x(869)](),l[x(680)][x(1330)]=x(542),l[x(680)][x(1202)]=x(1123),l.style[x(524)]=x(934),l[x(680)][x(577)]=x(901),r[x(680)][x(1207)]="0",r.style[x(1330)]="0"):(GUI[x(666)](),GUI[x(1393)](),l[x(680)].maxHeight="0",l[x(680)][x(1202)]="0",l[x(680)][x(524)]="0",l[x(680)].borderTop="0",r[x(680)][x(1207)]="1",r[x(680)][x(1330)]=x(1123))};let c=engine.paused,b,d,u=lib.ce("img",{style:"cursor: pointer;"},r);u.src=c?icPlayUrl:icPauseUrl,u[$(771)]=function(){var x=$;c=!c,engine[x(1556)]=c,d[x(1251)]=x(c?916:575),this[x(1591)]=c?icPlayUrl:icPauseUrl,b.src=this[x(1591)],c||engine[x(968)](engine[x(549)]),lib[x(1028)](x(1556),c?1:0)},i[$(1236)](r);let p=lib.ce($(1448),{id:$(1503),style:"overflow:hidden; transition: 250ms; cursor: pointer;"},i),f=lib.ce($(1448),{style:"margin-top: -3px; left: 0; right: 0; height: 1px; background: #fff;"},p);GUI[$(490)]=new ProgressBar(f,$(709)),f[$(680)][$(1159)]=$(543),f[$(1236)](GUI.bottomProgress[$(1114)]()),b=lib.ce($(922),{src:c?icPlayUrl:icPauseUrl},p),d=lib.ce($(1448),{style:$(986),innerHTML:c?"Запустить":$(575)},p),p[$(771)]=function(){var x=$;c=!c,engine.paused=c,b.src=c?icPlayUrl:icPauseUrl,d[x(1251)]=x(c?916:575),u[x(1591)]=b[x(1591)],c||engine[x(968)](engine[x(549)]),lib[x(1028)]("paused",c?1:0)},GUI[$(869)]=function(){var x=$;p[x(680)][x(524)]=x(934),p[x(680)][x(1330)]="500px",p[x(680)].opacity="1"},GUI[$(1393)]=function(){var x=$;p[x(680)][x(524)]="0",p[x(680)].maxHeight="0",p[x(680)][x(1207)]="0"},GUI.hideBottom();let g=lib.ce($(1448),{id:"notifyblock",style:$(969)},i);GUI.showMsg=function(x){var e=$;g[e(680)][e(524)]="5px",g[e(680)][e(1330)]="500px",g.style.opacity="1",g[e(1251)]=x},GUI[$(614)]=function(){var x=$;g[x(680)][x(524)]="0",g.style[x(1330)]="0",g[x(680)][x(1207)]="0"},GUI[$(739)]=i,GUI[$(889)]=l,GUI[$(1054)]=_},closeAllPopup:function(){var $=_0x1813eb;for(let x in modules)modules[x].descPopup&&modules[x][$(868)][$(1324)]()}};class EnhancedBratkiEngine{constructor(){var $=_0x1813eb;this[$(1485)]=!1,this[$(552)]=null,this.wakeLockManager=null,this[$(904)]=null,this[$(1408)]=null,this[$(1107)]=null,this[$(639)]()}async [_0x1813eb(639)](){var $=_0x1813eb;try{console[$(802)]("[Bratki Engine] Инициализация улучшенного движка..."),this[$(552)]=new BackgroundManager,this[$(694)]=new WakeLockManager,this[$(904)]=new WorkerManager,this[$(1408)]=new NetworkManager,this.mobileManager=new MobileManager,await this.backgroundManager[$(639)](),await this[$(694)][$(639)](),await this[$(904)].init(),await this[$(1408)].init(),await this[$(1107)][$(639)](),await this[$(1101)](),this.isInitialized=!0,console[$(802)]($(1520)),this[$(1463)]()}catch(x){console[$(1579)]($(1437),x),this[$(474)]()}}async loadOriginalModules(){console.log(_0x1813eb(562))}[_0x1813eb(1463)](){var $=_0x1813eb;console[$(802)]("[Bratki Engine] Запуск основного цикла..."),this[$(904)][$(898)]()?this.workerManager[$(673)]():this[$(1038)]()}[_0x1813eb(1038)](){var $=_0x1813eb;console.log($(1357)),setInterval(()=>{var x=$;this[x(552)][x(1557)]()||this[x(554)]()},1e3)}[_0x1813eb(554)](){var $=_0x1813eb;console[$(802)]($(1085))}[_0x1813eb(474)](){var $=_0x1813eb;console[$(976)]($(1244))}}document[_0x1813eb(1004)](_0x1813eb(1262),()=>{new EnhancedBratkiEngine}),window[_0x1813eb(618)]=EnhancedBratkiEngine;var engine={auto:!1,paused:!0,cache:new Map,popupManager:null,isPageLocked:!1,initPopupManager:function(){var $=_0x1813eb;this[$(1334)]||(this.popupManager={popups:new Map,register:function(x,e){var t=$;this[t(678)][t(1368)](x,e)},isOpen:function(x){var e=$,t=this[e(678)][e(1370)](x);return!!t&&t[e(768)]()},hide:function(x){var e=$,t=this[e(678)][e(1370)](x);t&&t.hide()},closeAll:function(){var x=$;this[x(678)].forEach(function($){var e=x;$[e(768)]()&&$[e(1324)]()})}})},lockPage:function(){var $=_0x1813eb;this[$(863)]||(window[$(1004)]("beforeunload",this[$(1405)]),this[$(863)]=!0)},unlockPage:function(){var $=_0x1813eb;this.isPageLocked&&(window.removeEventListener("beforeunload",this.preventPageUnload),this[$(863)]=!1)},preventPageUnload:function($){var x=_0x1813eb;$[x(584)](),$[x(1252)]=""},init:function(){var $=_0x1813eb;this[$(1335)](),this[$(1007)](),this[$(1058)]&&this[$(1590)](),lib[$(1196)]=function(){var x=$;engine.auto=!1,lib[x(946)](),document[x(1266)][x(1236)](GUI[x(739)]),engine[x(968)](engine[x(549)])},engine[$(1556)]=!0,lib[$(946)](),engine.initMenu()},startScript:function(){var $=_0x1813eb;this[$(1058)]=!0,this[$(1590)]()},stopScript:function(){var $=_0x1813eb;this[$(1058)]=!1,this[$(779)]()},initWakeLock:function(){var $=_0x1813eb;$(1371) in navigator&&navigator.wakeLock.request($(1514))[$(1453)](function(x){var e=$;x[e(1004)](e(738),function(){})})[$(1395)](function($){})},initPopupManager:function(){var $=_0x1813eb;this[$(1334)]||(this[$(1334)]={popups:new Map,register:function(x,e){var t=$;this[t(678)][t(1368)](x,e)},isOpen:function(x){var e=$,t=this[e(678)].get(x);return!!t&&t[e(768)]()},hide:function(x){var e=$,t=this[e(678)].get(x);t&&t[e(1324)]()},closeAll:function(){this.popups.forEach(function($){var x=_0x16bb;$[x(768)]()&&$[x(1324)]()})}})},callback:function($){var x=_0x1813eb;if(bratki[x(1081)]){if(delete bratki[x(1081)],0===$){confirm(x(1287))||document[x(1053)][x(607)]();return}if(-1!==$){$*=1e3;var e=Math[x(876)]($/864e5),t=Math.floor($%864e5/36e5),i=x(632)+e+x(493)+t+x(834);GUI[x(1374)](i),setTimeout(function(){GUI[x(614)]()},1e4),0===e&&t<24&&setTimeout(function(){var $=x;confirm($(1287))||document[$(1053)][$(607)]()},$)}else GUI[x(1374)](x(703)),setTimeout(function(){GUI[x(614)]()},5e3);engine.init()}},getSceneLink:function($){var x=_0x1813eb,e=[],t=-1;for(var i in $){var a=$[i],n=null;if(a.linkt?n=lib[x(1444)](a.linkt):a[x(1355)]&&(n=lib[x(1490)](a[x(1355)])),n&&n[x(761)]>0){if(a[x(1013)]&&!a[x(1013)]())continue;a[x(523)]>t&&(e=n,void 0!==a[x(1263)]&&e[0][x(1024)]("timeout",a[x(1263)]),t=a[x(523)],a[x(927)]&&setTimeout(()=>{a[x(927)]()},50))}}if(e.length>0)return[{click:e[0]}]},handleScene:function($){var x=_0x1813eb;engine.paused||typeof $[0][x(1218)]===x(1430)||(engine.auto=!0,$[0][x(1218)][x(1024)](x(1058),!0),$[0][x(1218)][x(1218)](),setTimeout(function(){var $=x;!engine[$(1556)]&&modules[$(460)].enabled&&(modules[$(460)][$(613)]=Date.now())},1e3))},waitScene:function($){var x=_0x1813eb;if(!engine[x(1556)]||modules[x(460)].enabled){if(void 0!==engine.currentModule){var e=modules[engine[x(1179)]];if(e.type!==TYPE_TIMEOUT_SCENES||Date[x(1242)]()-lib[x(476)]>3e3){var t=e[x(532)]();if(typeof t!==x(1430)){$(t);return}e.type===TYPE_TIMEOUT_SCENES&&typeof e[x(1263)]!==x(1430)&&(e[x(613)]=Math[x(787)](Date[x(1242)]()+e[x(1263)],Date[x(1242)]()+6e4))}delete engine[x(1179)]}var i=!1,a=Object.keys(modules);if(modules[x(460)].enabled){var n=modules[x(460)][x(532)]();if(typeof n!==x(1430)){engine[x(1179)]="licenseCheck",GUI[x(1374)](x(1406)+modules[x(460)][x(541)]),setTimeout(function(){GUI[x(614)]()},2e3),$(n);return}modules[x(460)][x(613)]=Math[x(787)](Date[x(1242)]()+modules.licenseCheck[x(1263)],Date.now()+6e4)}if(!engine.paused)for(var r=0;r<a[x(761)];r++){var _=a[r],o=modules[_];if(typeof engine[x(1179)]!==x(1430))break;if(o[x(467)]!==TYPE_SWITCH&&o.enabled){if(i=i||!!o[x(1263)],!(o[x(467)]===TYPE_TIMEOUT_SCENES&&Date.now()-lib[x(476)]<1e3)&&!(typeof o[x(613)]!==x(1430)&&o[x(613)]>Date[x(1242)]())){var t=o.getNextScene();if(typeof t!==x(1430)){engine[x(1179)]=_,GUI[x(1374)](x(1406)+modules[engine[x(1179)]][x(541)]),setTimeout(function(){GUI[x(614)]()},2e3),$(t);break}o.type===TYPE_TIMEOUT_SCENES&&void 0!==o[x(1263)]&&(o[x(613)]=Math[x(787)](Date[x(1242)]()+o.timeout,Date[x(1242)]()+6e4))}}}typeof engine[x(1179)]===x(1430)&&(modules[x(460)][x(1042)]?(modules[x(460)][x(613)]=Math[x(787)](Date.now()+modules.licenseCheck[x(1263)],Date[x(1242)]()+6e4),engine[x(1574)](function(){var e=x,t=modules.licenseCheck[e(532)]();typeof t!==e(1430)?(engine.currentModule=e(460),GUI.showMsg(e(1406)+modules.licenseCheck.name),setTimeout(function(){GUI[e(614)]()},2e3),$(t)):setTimeout(function(){engine[e(968)]($)},1e3)})):i?engine.setupRandomTimeout($):setTimeout(function(){engine[x(968)]($)},1e3))}},setupRandomTimeout:function($){var x=_0x1813eb;typeof engine[x(870)]!==x(1430)&&clearInterval(engine[x(870)]);let e=parseInt(lib[x(560)]("wait_timeout_min"))||15e3,t=parseInt(lib[x(560)](x(699)))||25e3;e>t&&(t=e,lib[x(1028)](x(699),t));var i=Math[x(876)](Math[x(804)]()*(t-e+1))+e,a=Date[x(1242)]()+i;GUI[x(1054)][x(680)][x(1207)]="0",engine.timerId=setInterval(function(){var $=x;if(engine[$(1556)]||typeof engine[$(635)]===$(1430)){GUI[$(1054)][$(680)][$(1207)]="0",clearInterval(engine[$(870)]),typeof engine[$(635)]!==$(1430)&&clearTimeout(engine[$(635)]);return}var e=Math[$(876)]((a-Date[$(1242)]())/1e3);"0"===GUI[$(1054)][$(680)][$(1207)]&&(GUI[$(1054)][$(680)][$(1207)]="1"),GUI[$(1054)][$(1251)]=e,GUI[$(490)][$(983)](100-Math[$(876)](e/(i/1e3)*100))},1e3),GUI[x(1374)](x(1062)),setTimeout(function(){GUI.hideMsg()},2e3),engine[x(635)]=setTimeout(function(){var e=x;GUI[e(1054)][e(680)].opacity="0",clearInterval(engine[e(870)]),delete engine[e(870)],delete engine[e(635)];var t=engine[e(1099)]();typeof t!==e(1430)?$([{click:t}]):engine[e(968)]($)},i)},findHomeLink:function(){var $=_0x1813eb,x=lib[$(1490)]("home");if(x[$(761)]>0&&!x[0][$(824)].includes($(1404)))return x[0];var e=lib[$(1490)]("//"+document[$(707)]),t=lib[$(1010)](e,"?");if(t[$(761)]>0)return t[Math[$(876)](Math[$(804)]()*t.length)]},init:function(){var $=_0x1813eb;this.initWakeLock(),this.initPopupManager(),lib.onload=function(){var $=_0x16bb;engine.auto=!1,lib[$(946)](),document[$(1266)][$(1236)](GUI[$(739)]),engine[$(968)](engine[$(549)])},engine[$(1556)]=!0,lib[$(946)](),engine.initMenu()},initWakeLock:function(){var $=_0x1813eb;$(1371) in navigator&&navigator[$(1371)][$(1092)]($(1514))[$(1453)](function(x){x[$(1004)]("release",function(){})}).catch(function($){})},getModuleState:function($,x){var e=_0x1813eb;if(this[e(1258)].has($))return this.cache[e(1370)]($);var t=lib[e(560)]($),i=typeof t===e(1430)?x[e(1042)]:1==t;return this[e(1258)][e(1368)]($,i),i},createToggleHandler:function($,x){var e=this;return function(){var t=_0x16bb;if($===t(460)){this[t(996)]=!0;return}var i=this[t(996)];x[t(467)]===TYPE_SWITCH&&modules[this.id][t(1025)](i),modules[this.id][t(1042)]=i,e[t(1258)].set(this.id,i),i||engine[t(1179)]!==this.id||delete engine[t(1179)],i&&typeof engine.currentModule===t(1430)&&(void 0!==engine[t(635)]&&(clearTimeout(engine[t(635)]),delete engine[t(635)]),engine[t(968)](engine[t(549)])),lib[t(1028)](this.id,i?1:0)}},createHelpPopupHandler:function($){var x=this;return function(){var $=_0x16bb,e=this.id[$(999)]("_")[1],t=modules[e],i=$(667)+e;if(x[$(1334)][$(1120)](i))x.popupManager.hide(i);else if(typeof t[$(868)]===$(1430)){var a=new PopupWindow(this[$(772)]);a[$(1347)](lib.ce($(1448),{style:$(1558),innerHTML:t.description})),GUI[$(666)](),a[$(489)](),t[$(868)]=a,x.popupManager.register(i,a)}else t[$(868)].isOpened()?t[$(868)][$(1324)]():(GUI[$(666)](),t.descPopup[$(489)]())}},createSettingsPopupHandler:function($){var x=this;return function(){var $=_0x16bb,e=this.id[$(999)]("_")[1],t=modules[e];if(typeof t[$(1568)]===$(1430)){var i=new PopupWindow(this[$(772)],!1),a=lib.ce($(1448),{style:"font-size: 12px; color: #ffffff; min-width: 200px;"});for(var n in i[$(1347)](a),t[$(518)]){var r=x[$(641)](e,t[$(518)][n],t);a[$(1236)](r)}GUI[$(666)](),i[$(489)](),t[$(1568)]=i}else t[$(1568)][$(768)]()?t.setPopup[$(1324)]():(GUI[$(666)](),t[$(1568)].show())}},createSettingElement:function($,x,e){var t=_0x1813eb,i=document[t(1462)]("div"),a=lib.ce(t(1448),{style:t(1083),innerHTML:x.name});if(x.type===t(457)){var n=new ToggleButton(x.key),r=n[t(1511)]();r.id=x.key,typeof lib[t(560)](x[t(774)])===t(1430)&&lib[t(1028)](x.key,x[t(1388)]?1:0),r.onclick=function(){var $=t;lib.setCookie(this.id,this.checked?1:0),typeof e[$(1226)]!==$(1430)&&e.onconfig()},r[t(996)]=1==lib.getCookie(x.key),i[t(1236)](n[t(1114)]())}if(x.type===t(497)){var _=new SelectBox(x[t(774)],x[t(1250)]);void 0===lib[t(560)](x.key)&&lib[t(1028)](x[t(774)],x.value),_[t(1328)](lib[t(560)](x[t(774)])),_.onchange=function($,x){var i=t;lib[i(1028)]($,x),typeof e[i(1226)]!==i(1430)&&e[i(1226)]()},x.sb=_,i[t(1236)](_.getElement())}if(i.appendChild(a),x[t(467)]===t(1296)){var o=lib.ce(t(720),{type:t(1296),style:t(790),id:x[t(774)],max:x.maxvalue});void 0===lib.getCookie(x[t(774)])&&lib[t(1028)](x[t(774)],x.value),o.id=x[t(774)];var l=lib.ce("div",{style:t(1063),innerHTML:lib.getCookie(x.key)});l.id=t(827)+x.key,o[t(505)]=function(){var $=t;lib[$(1028)](this.id,this[$(1388)]),document[$(454)]($(1289)+this.id).innerHTML=this.value,typeof e[$(1226)]!==$(1430)&&e.onconfig()},o[t(1388)]=lib[t(560)](x[t(774)]),i[t(1236)](o),i[t(1236)](l)}if(x[t(467)]===t(501)){void 0===lib.getCookie(x[t(774)])&&lib[t(1028)](x.key,x[t(1388)]);var s=new EditText(x.key,lib[t(560)](x.key));s[t(1492)]=function($,x){lib[t(1028)]($,x)},i.appendChild(s[t(1114)]())}return i},createCheckboxControl:function($,x,e){var t=_0x1813eb,i=new ToggleButton(x[t(774)]),a=i[t(1511)]();return a.id=x[t(774)],typeof lib[t(560)](x[t(774)])===t(1430)&&lib[t(1028)](x[t(774)],x[t(1388)]?1:0),a[t(996)]=1==lib[t(560)](x[t(774)]),a[t(771)]=function(){var $=t;lib[$(1028)](this.id,this[$(996)]?1:0),typeof e[$(1226)]!==$(1430)&&e[$(1226)]()},i.getElement()},createSelectControl:function($,x,e){var t=_0x1813eb,i=new SelectBox(x[t(774)],x.list);return typeof lib.getCookie(x[t(774)])===t(1430)&&lib.setCookie(x[t(774)],x.value),i[t(1328)](lib[t(560)](x[t(774)])),i[t(1492)]=function($,x){var i=t;lib.setCookie($,x),void 0!==e[i(1226)]&&e[i(1226)]()},x.sb=i,i[t(1114)]()},createRangeControl:function($,x,e){var t=_0x1813eb,i=lib.ce("div",{style:t(500)});typeof lib[t(560)](x[t(774)])===t(1430)&&lib[t(1028)](x.key,x.value);var a=lib.ce(t(720),{type:"range",id:x.key,max:x.maxvalue,value:lib[t(560)](x[t(774)]),style:t(692)}),n=lib.ce(t(1448),{id:t(827)+x[t(774)],style:"min-width: 40px; text-align: right;",innerHTML:lib[t(560)](x.key)});return a[t(505)]=function(){var $=t;lib[$(1028)](this.id,this[$(1388)]),document[$(454)]($(1289)+this.id).innerHTML=this[$(1388)],typeof e[$(1226)]!==$(1430)&&e[$(1226)]()},i[t(1236)](a),i[t(1236)](n),i},createTextControl:function($,x,e){var t=_0x1813eb;typeof lib.getCookie(x[t(774)])===t(1430)&&lib[t(1028)](x[t(774)],x.value);var i=new EditText(x[t(774)],lib[t(560)](x.key));return i[t(1492)]=function($,x){var i=t;lib[i(1028)]($,x),typeof e[i(1226)]!==i(1430)&&e[i(1226)]()},i[t(1114)]()},initMenu:function(){var $=_0x1813eb;this.initPopupManager();for(var x=GUI[$(889)],e=document.createDocumentFragment(),t=Object.keys(modules),i=0;i<t[$(761)];i++){var a=t[i],n=modules[a];if(a!==$(460)){var r=this[$(1427)](a,n);e[$(1236)](r)}}x[$(1236)](e)},createMenuItem:function($,x){var e=_0x1813eb,t=document[e(1462)](e(1448)),i=new ToggleButton($),a=i[e(1511)]();a.id=$,a[e(996)]=this.getModuleState($,x),x[e(1042)]=a[e(996)],x[e(467)]===TYPE_SWITCH&&x[e(1025)](a[e(996)]),a[e(771)]=this[e(985)]($,x);var n=lib.ce("div",{style:e(1083),innerHTML:x.name}),r=lib.ce(e(1448),{style:e(1002),id:e(1146)+$,innerHTML:"?",onclick:this[e(1533)]($)});if(t[e(1236)](i[e(1114)]()),t.appendChild(n),t[e(1236)](r),x.settings){var _=lib.ce("img",{style:e(1002),id:e(872)+$,src:e(1539),onclick:this.createSettingsPopupHandler($)});t.appendChild(_)}return t},updateModuleState:function($,x){var e=_0x1813eb,t=modules[$];t&&(t[e(1042)]=x,this.cache[e(1368)]($,x),lib.setCookie($,x?1:0),t[e(467)]===TYPE_SWITCH&&typeof t[e(1025)]!==e(1430)&&t[e(1025)](x),this[e(859)]($,x))},handleEngineState:function($,x){var e=_0x1813eb;x||engine[e(1179)]!==$||delete engine[e(1179)],x&&typeof engine[e(1179)]===e(1430)&&(typeof engine[e(635)]!==e(1430)&&(clearTimeout(engine[e(635)]),delete engine[e(635)]),"function"==typeof engine.waitScene&&engine.waitScene(engine[e(549)]))},cleanup:function(){var $=_0x1813eb;this.cache&&this[$(1258)].clear(),this[$(1334)]&&this[$(1334)][$(1210)](),typeof this.timerId!==$(1430)&&(clearInterval(this[$(870)]),delete this[$(870)]),typeof this[$(635)]!==$(1430)&&(clearTimeout(this.timeoutId),delete this[$(635)])}},ModuleUtils={debounce:function($,x){var e;return function(){var t=this,i=arguments,a=function(){var x=_0x16bb;e=null,$[x(1214)](t,i)};clearTimeout(e),e=setTimeout(a,x)}},batchUpdateCookies:function($){for(var x=_0x1813eb,e=Object[x(1111)]($),t=0;t<e.length;t++){var i=e[t];lib[x(1028)](i,$[i])}},getActiveModules:function(){for(var $=_0x1813eb,x=[],e=Object[$(1111)](modules),t=0;t<e[$(761)];t++){var i=e[t];modules[i].enabled&&x[$(1241)](i)}return x},toggleModules:function($,x){for(var e=_0x1813eb,t={},i=0;i<$[e(761)];i++){var a=$[i];modules[a]&&(modules[a][e(1042)]=x,t[a]=x?1:0,modules[a][e(467)]===TYPE_SWITCH&&void 0!==modules[a][e(1025)]&&modules[a][e(1025)](x))}this.batchUpdateCookies(t),engine[e(1258)][e(511)]()}},bratki={getMissionsLinks:function(){var $=_0x1813eb,x=[],e=document[$(1266)][$(1251)][$(1440)]("Заказухи"),t=document[$(1266)].innerHTML[$(1440)]($(1401),document[$(1266)][$(1251)][$(1440)]("Все"));return -1!=e&&lib[$(1490)]("mission/description").forEach(function(i,a,n){var r=$,_=document[r(1266)][r(1251)][r(1440)](i.outerHTML);_>e&&_<t&&!i.className.includes(r(602))&&x[r(1241)](i)}),x},getCombatLinks:function($=!1){var x=_0x1813eb,e=lib[x(1490)]("combatPanel"),t=[];for(var i in e)"object"==typeof e[i]&&(!e[i][x(696)]||!e[i].classList[x(857)]("btn-lock")&&!e[i][x(696)].contains(x(948))||$&&e[i][x(696)][x(857)](x(1523)))&&t[x(1241)](e[i]);return t},getPackagePrice:function(){var $,x=_0x1813eb,e=document[x(454)](x(808))[x(772)][x(454)](x(570))[x(1278)],t=e.match(/[^><]+(?=<)/g);return 1==t[x(761)]?e[x(1041)](x(998))?100*t[0]:parseInt(t[0]):100*t[0]+parseInt(t[1])},getPackageItems:function(){var $=_0x1813eb,x=document[$(1412)]($(1398)),e=[];for(var t in x)if(typeof x[t]==$(980)){var i=x[t][$(454)]("a").href,a=x[t][$(1274)][$(999)](" x")[0],n=x[t][$(1251)][$(1041)]($(1182))?">>":x[t][$(1251)].includes($(1170))?">":"",r=x[t].innerText.split(" x")[1];e[$(1241)]({name:a,diff:n,href:i,count:parseInt(void 0===r?1:r)})}return e},getEnemyHp:function(){var $=_0x1813eb;try{var x=document[$(454)]($(1392));if(typeof x!=$(1430)&&null!==x)return x[$(1251)];var e=document[$(454)]($(487)).querySelector("li")[$(1412)]($(570))[1];if(typeof e!=$(1430)){var t=e.innerHTML;return t.substring(2,t.length-3)}}catch(i){}},getLastDamage:function(){var $=_0x1813eb;try{if(bratki[$(469)]())return document.querySelector($(1213)).querySelectorAll($(1400))[0][$(1251)];return document.querySelector($(1467))[$(1412)]($(570))[2][$(1251)]}catch(x){}},getEnemyName:function(){var $=_0x1813eb;try{if(bratki[$(469)]())return document[$(454)](".enemy-name").innerHTML;var x=document[$(454)]($(487)).querySelector($(570));if(x[$(772)].innerHTML.includes($(679)))return x.innerHTML}catch(e){}},getMyHp:function(){var $,x=_0x1813eb;try{if($=bratki[x(469)]()?document[x(454)](x(1213))[x(454)](x(570)):document[x(454)]("div.header")[x(454)](x(570)),null!==$)return{count:$.innerHTML,type:[x(782),x(976),x(1366)][x(1440)]($[x(1413)])}}catch(e){}},getTeamHp:function(){var $=_0x1813eb;try{var x=[$(1295),$(865),"span.info"],e=2;for(var t in x){var i=document[$(1412)]($(638));for(var a in i)null!==i[a][$(772)].querySelector(x[t])&&e<t&&(e=t)}return t}catch(n){}},hasNewInterface:function(){var $=_0x1813eb;return null!==document[$(454)]($(1213))},getUid:function(){var $=_0x1813eb;try{var x=document[$(454)]($(1211)).parentElement[$(454)]($(570))[$(1274)];if(document[$(1053)][$(824)][$(1041)](x))return;return x}catch(e){return}},getRackItems:function(){var $=_0x1813eb,x=lib[$(1490)]($(933)),e=[];for(var t in x)"object"==typeof x[t]&&e[$(1241)](x[t][$(772)].parentNode);return e}};!function(){var $,x=_0x1813eb;try{$=Function(x(1310)+x(583)+");")()}catch(e){$=window}$[x(788)](_0x592f35,1e3)}();let lib={safeMode:!0,loadTime:0,lastAction:Date.now(),onload:function(){},handlePage(){var $=_0x1813eb;let x=document[$(1412)]("a");x[$(726)](x=>{var e=$;(!x[e(771)]||x.href.includes(e(615)))&&(x[e(771)]=$=>{var t=e;$[t(584)](),typeof engine[t(635)]!==t(1430)&&clearTimeout(engine[t(635)]),void 0!==engine.timerId&&clearInterval(engine[t(870)]),lib[t(1092)](x)})});let e=document[$(1412)]($(831));for(let t of e)for(let i of(t[$(1500)]=x=>{var e=$;x.preventDefault();let i=new XMLHttpRequest;i[e(1257)](t[e(1515)],t.action,!1),i[e(1247)]("Content-Type","application/x-www-form-urlencoded; charset=utf-8");let a=lib[e(1131)](t);i[e(662)](a),document[e(1266)].innerHTML=i.responseText,void 0!==engine.timeoutId&&clearTimeout(engine[e(635)]),typeof engine[e(870)]!==e(1430)&&clearInterval(engine.timerId),lib[e(1196)]()},t[$(1412)]($(1301))))i.onclick=x=>{var e=$;i.id=e(754)};Object[$(1596)](modules).forEach(([x,e])=>{var t=$;e.enabled&&typeof e[t(1196)]===t(1161)&&e[t(1196)]()})},urlData:function($){var x=_0x1813eb;let e=[];for(let t in $.elements)($[x(668)][t][x(467)]!=x(941)||"clicked"==$[x(668)][t].id)&&e.push($.elements[t].name+"="+encodeURIComponent($[x(668)][t][x(1388)]));return e[x(1108)]("&")},request:function($,x=lib[_0x1813eb(1196)],e=lib[_0x1813eb(784)]?Math[_0x1813eb(876)](Math[_0x1813eb(804)]()*(lib.maxSafeModeTimeout-lib[_0x1813eb(1396)]+1))+lib[_0x1813eb(1396)]:0){var t=_0x1813eb;$[t(578)]("timeout")&&(e=$.getAttribute(t(1263))),$[t(578)]("auto")||(e=0,lib.lastAction=Date[t(1242)]());var i=Date.now(),a=new XMLHttpRequest;a.onreadystatechange=function(){var n=t;4==a[n(1550)]&&(200==a.status?(lib[n(529)]=Date[n(1242)]()-i,document.body[n(1251)]=a.responseText,history[n(517)]({html:a[n(1489)]},n(1434),a[n(480)]),engine[n(1058)]||scrollTo(0,0),x()):0===a[n(616)]&&-1==url[n(1440)](document[n(707)])?document[n(1053)]=$.href:(bratki[n(1033)]--,lib[n(1092)]($,x,e)))},a[t(1257)]("GET",$.href,!0);var n=new ProgressBar($);$[t(1236)](n[t(1114)]());var r=setInterval(function(){var $=t;if(engine[$(1058)]&&engine[$(1556)])n[$(983)](0);else{var x=Date[$(1242)]()-i,a=Math[$(876)](x/e*100);n[$(983)](a)}},0,100);typeof lib[t(582)]!=t(1430)&&clearTimeout(lib[t(582)]),lib[t(582)]=setTimeout(function(){var x=t;if(delete lib[x(582)],clearInterval(r),engine[x(1058)]&&engine[x(1556)]){engine[x(1058)]=!1;return}$.style[x(1537)]=x(1454),a[x(662)]()},e)},removeLinksByUrlComponent:function($,x){var e=_0x1813eb;let t=[];for(let i in $)typeof $[i][e(824)]==e(1430)||$[i][e(824)][e(1041)](x)||t[e(1241)]($[i]);return t},findLinksByUrlComponent:function($){var x=_0x1813eb;return document[x(1412)](x(871)+$+"']")},findLinksByText:function($,x=!0,e=0){var t=_0x1813eb;let i=[];return document[t(1412)]("a")[t(726)](function(a,n,r){var _=t;(x&&a[_(1251)][_(1041)]($,e)||a[_(1251)]==$)&&i.push(a)}),i},ce:function($,x,e){var t=_0x1813eb,i=document[t(1462)]($);for(var a in x)i[a]=x[a];return typeof e==t(980)&&e[t(1236)](i),i},getCookie:function($){var x=_0x1813eb,e=document[x(628)][x(1259)](RegExp("(?:^|; )"+$[x(649)](/([\.$?*|{}\(\)\[\]\\/\+^])/g,x(1255))+x(1270)));return e?decodeURIComponent(e[1]):void 0},setCookie:function($,x,e){var t=_0x1813eb,i=(e=e||{path:"/",domain:document[t(707)]})[t(553)];if(i||(i=31536e3),"number"==typeof i&&i){var a=new Date;a[t(731)](a[t(1219)]()+1e3*i),i=e.expires=a}i&&i[t(1382)]&&(e[t(553)]=i.toUTCString()),x=encodeURIComponent(x);var n=$+"="+x;for(var r in e){n+="; "+r;var _=e[r];!0!==_&&(n+="="+_)}document[t(628)]=n}};class MobileManager{constructor(){var $=_0x1813eb;this[$(1290)]=null,this.orientationHandler=null,this[$(664)]=null,this[$(592)]=null,this[$(1151)]=null,this.performanceObserver=null,this[$(930)]={isLowPowerMode:!1,batteryLevel:null,connectionType:"unknown",memoryPressure:!1,orientation:$(1156),isCharging:null},console[$(802)]($(825),PLATFORM)}async [_0x1813eb(639)](){var $=_0x1813eb;try{this.setupTouchOptimizations(),this[$(1425)](),this[$(735)](),await this.initPerformanceMonitoring(),await this[$(895)](),await this[$(1512)](),this[$(1193)](),PLATFORM[$(608)]&&this[$(861)](),PLATFORM.isAndroid&&this[$(1105)](),console[$(802)]($(528))}catch(x){console.error("[MobileManager] Ошибка инициализации:",x)}}[_0x1813eb(1362)](){var $=_0x1813eb;this.touchHandler=$=>{var x=_0x16bb;window[x(1140)]&&window[x(1140)][x(1060)]},document[$(1004)]($(1343),this[$(1290)],{passive:!0,capture:!1}),document[$(1004)]("touchmove",x=>{var e=$;window.engine&&window[e(1140)][e(1060)]&&x[e(584)]()},{passive:!1}),PLATFORM.isIOSSafari&&(document.body.style[$(836)]=$(1177),document[$(1104)][$(680)].overflow=$(1177))}setupOrientationHandling(){var $=_0x1813eb;this[$(672)]=()=>{var x=$;let e=window.innerHeight>window[x(1234)]?"portrait":x(1189);e!==this[x(930)].orientation&&(console[x(802)](x(716)+this.state[x(1369)]+" → "+e),this.state[x(1369)]=e,this[x(698)](e))},window.addEventListener($(970),this[$(672)]),window[$(1004)]($(1185),this[$(672)]),this[$(672)]()}[_0x1813eb(698)]($){var x=_0x1813eb;window.GUI&&typeof window.GUI[x(687)]===x(1161)&&setTimeout(()=>window[x(1187)][x(687)](),500);let e=document[x(454)](x(485));e&&($===x(1189)&&PLATFORM.isMobile?e[x(680)][x(1410)]=x(845):e[x(680)][x(1410)]="14px")}[_0x1813eb(735)](){var $=_0x1813eb;let x=document[$(454)]('meta[name="viewport"]');if(x||((x=document[$(1462)]($(1499)))[$(541)]="viewport",document[$(1049)][$(1236)](x)),x[$(889)]=$(464),PLATFORM[$(608)]){let e=document[$(1412)]($(974));e[$(726)](x=>{var e=$;x[e(680)][e(1410)]=e(700)})}}async initPerformanceMonitoring(){var $=_0x1813eb;try{$(949) in window&&(this[$(1458)]=new PerformanceObserver(x=>{var e=$;let t=x[e(1113)]();t[e(726)]($=>{var x=e;$.entryType===x(1230)&&$[x(951)]>100&&(console[x(976)](x(785)+$[x(541)]+" ("+$.duration[x(900)](2)+x(567)),this[x(921)]($))})}),this[$(1458)][$(764)]({entryTypes:[$(1230),"navigation"]})),this[$(1470)]()}catch(x){console.error($(979),x)}}startFPSMonitoring(){var $=_0x1813eb;let x=performance.now(),e=0,t=60,i=()=>{var $=_0x16bb;e++;let a=performance.now();a-x>=1e3&&(t=Math[$(1436)](1e3*e/(a-x)),e=0,x=a,t<20&&!this[$(930)][$(1421)]&&(console[$(976)]($(620)+t+$(942)),this.enableLowPowerMode())),document[$(1177)]||requestAnimationFrame(i)};document.hidden||requestAnimationFrame(i),document.addEventListener($(455),()=>{document[$(1177)]||requestAnimationFrame(i)})}async [_0x1813eb(895)](){var $=_0x1813eb;try{"getBattery"in navigator&&(this[$(592)]=await navigator[$(842)](),this.updateBatteryState(),this[$(592)].addEventListener("levelchange",()=>this[$(637)]()),this[$(592)].addEventListener($(1407),()=>this.updateBatteryState()),console[$(802)]("[MobileManager] Battery Manager инициализирован"))}catch(x){console[$(802)]("[MobileManager] Battery API недоступен:",x[$(873)])}}updateBatteryState(){var $=_0x1813eb;this[$(592)]&&(this[$(930)].batteryLevel=Math[$(1436)](100*this.batteryManager.level),this[$(930)][$(1563)]=this[$(592)][$(508)],this.state.batteryLevel<=20&&!this[$(930)][$(1563)]?(console[$(802)]($(1091)+this[$(930)].batteryLevel+"%"),this[$(1144)]()):(this[$(930)][$(840)]>50||this[$(930)][$(1563)])&&this[$(1221)](),SCRIPT_CONFIG[$(498)]&&console[$(802)]($(1012)+this.state[$(840)]+"% ("+(this[$(930)][$(1563)]?"заряжается":$(733))+")"))}async [_0x1813eb(1512)](){var $=_0x1813eb;try{if("connection"in navigator||$(477) in navigator||$(492) in navigator){let x=navigator[$(1240)]||navigator[$(477)]||navigator[$(492)];this[$(1151)]=x,this.updateConnectionState(),x[$(1004)]($(1387),()=>this[$(919)]()),console[$(802)]($(1068))}}catch(e){console.log($(911),e.message)}}[_0x1813eb(919)](){var $=_0x1813eb;this[$(1151)]&&(this[$(930)][$(1064)]=this.connectionManager[$(803)]||$(725),("slow-2g"===this.connectionManager.effectiveType||"2g"===this[$(1151)][$(803)])&&(console.log($(945)),this.enableNetworkSavingMode()),SCRIPT_CONFIG[$(498)]&&console[$(802)]("[MobileManager] Соединение: "+this[$(930)][$(1064)]))}initMemoryManagement(){var $=_0x1813eb;if($(648) in performance){let x=()=>{var x=$;let e=performance.memory,t=e[x(821)]/e[x(1029)]*100;t>80&&(console[x(976)](x(576)+t[x(900)](1)+"%"),this[x(1127)]())};setInterval(x,3e4)}PLATFORM.isIOSSafari&&window.addEventListener($(1261),()=>{this[$(550)]()})}[_0x1813eb(861)](){var $=_0x1813eb;console[$(802)]("[MobileManager] Применение iOS оптимизаций...");let x=0;document.addEventListener($(1343),e=>{var t=$;x=e[t(644)][0][t(1220)]},{passive:!0}),document[$(1004)]($(1569),e=>{var t=$;let i=e[t(644)][0].clientX,a=i-x;x<20&&a>50&&e[t(584)]()}),document[$(1004)]($(1569),x=>{x[$(584)]()},{passive:!1}),this[$(634)]()}setupIOSFullscreen(){var $=_0x1813eb;let x=()=>{0===window.pageYOffset&&window.scrollTo(0,1)};window[$(1004)]($(1320),x),window[$(1004)]($(970),()=>{setTimeout(x,500)})}[_0x1813eb(1105)](){var $=_0x1813eb;console[$(802)]($(1200)),PLATFORM[$(856)]&&PLATFORM[$(737)]&&(document.documentElement[$(680)][$(1297)]=$(1037))}enableLowPowerMode(){var $=_0x1813eb;!this[$(930)][$(1421)]&&(console[$(802)]($(881)),this[$(930)].isLowPowerMode=!0,window.engine&&window[$(1140)][$(539)](2e3),document[$(1104)].style[$(1288)]($(1422),"0s"),window[$(1187)]&&typeof window[$(1187)][$(1374)]===$(1161)&&window[$(1187)][$(1374)]("\uD83D\uDD0B Энергосберегающий режим активирован"))}disableLowPowerMode(){var $=_0x1813eb;this[$(930)].isLowPowerMode&&(console[$(802)]($(1531)),this.state.isLowPowerMode=!1,window[$(1140)]&&window[$(1140)].setUpdateInterval(1e3),document.documentElement[$(680)][$(862)]($(1422)))}[_0x1813eb(665)](){var $=_0x1813eb;console[$(802)]("[MobileManager] Активация экономии трафика"),window.engine&&window[$(1140)][$(1505)](5e3)}[_0x1813eb(1127)](){var $=_0x1813eb;console[$(802)]($(481)),this[$(930)][$(1468)]=!0,this[$(550)](),window[$(1187)]&&typeof window[$(1187)][$(1374)]===$(1161)&&window[$(1187)].showMsg($(917))}handleSlowPerformance($){var x=_0x1813eb;console[x(976)](x(1168)+$.name),$[x(951)]>500&&this.enablePerformanceOptimizations()}[_0x1813eb(990)](){var $=_0x1813eb;console[$(802)]($(747)),document[$(1104)][$(680)][$(1288)]("--reduce-motion","1");let x=document[$(454)](".custom-menu");x&&(x[$(680)][$(957)]=$(1538))}[_0x1813eb(550)](){var $=_0x1813eb;try{let x=document[$(1412)]("img");x[$(726)](x=>{var e=$;x.src[e(1155)](e(458))||(x[e(1591)]=x[e(1591)])}),window[$(1140)]&&"function"==typeof window[$(1140)].clearCache&&window[$(1140)][$(1088)](),console[$(802)]($(875))}catch(e){console[$(1579)]("[MobileManager] Ошибка очистки кешей:",e)}}[_0x1813eb(681)](){return{...this[_0x1813eb(930)]}}[_0x1813eb(1421)](){var $=_0x1813eb;return this[$(930)][$(1421)]}[_0x1813eb(1212)](){var $=_0x1813eb;return this[$(930)][$(840)]}[_0x1813eb(1231)](){return this.state[_0x1813eb(1064)]}[_0x1813eb(669)]($){var x=_0x1813eb;$?this[x(1144)]():this[x(1221)]()}destroy(){var $=_0x1813eb;this[$(1290)]&&document[$(799)]($(1343),this[$(1290)]),this[$(672)]&&(window.removeEventListener($(970),this[$(672)]),window.removeEventListener($(1185),this.orientationHandler)),this.performanceObserver&&this.performanceObserver[$(1484)](),console[$(802)]("[MobileManager] Деинициализация завершена")}}window[_0x1813eb(1432)]=MobileManager;class WorkerManager{constructor(){var $=_0x1813eb;this[$(462)]=null,this.timerWorker=null,this[$(898)]=this[$(1045)](),this[$(762)]=new Map,this[$(1397)]={paused:!0,currentModule:null,lastAction:Date[$(1242)]()},console[$(802)]($(1547),{supported:this[$(898)]})}[_0x1813eb(1045)](){var $=_0x1813eb;try{return typeof Worker!==$(1430)&&"undefined"!=typeof Blob}catch(x){return console[$(976)]($(1292),x),!1}}async [_0x1813eb(639)](){var $=_0x1813eb;if(!this[$(898)]){console[$(802)]($(1493));return}try{await this[$(1122)](),await this[$(685)](),this[$(1409)](),console.log($(1587))}catch(x){console[$(1579)]($(905),x),this[$(898)]=!1}}async [_0x1813eb(1122)](){var $=_0x1813eb;let x=this[$(1139)](),e=new Blob([x],{type:$(1573)});this[$(462)]=new Worker(URL[$(819)](e)),this[$(462)].onmessage=$=>{this.handleWorkerMessage("game",$.data)},this[$(462)][$(815)]=x=>{console[$(1579)]("[WorkerManager] Game Worker ошибка:",x)}}async [_0x1813eb(685)](){var $=_0x1813eb;let x=this[$(1119)](),e=new Blob([x],{type:"application/javascript"});this[$(1509)]=new Worker(URL[$(819)](e)),this[$(1509)][$(1286)]=x=>{var e=$;this[e(1011)](e(1054),x.data)},this[$(1509)][$(815)]=x=>{console.error($(504),x)}}[_0x1813eb(1139)](){return _0x1813eb(1272)}[_0x1813eb(1119)](){return"\n            // Timer Worker - Точные таймеры\n            let timers = new Map();\n            let intervalCounters = new Map();\n\n            function createTimer(id, delay, interval = false) {\n                if (timers.has(id)) {\n                    clearTimeout(timers.get(id));\n                }\n\n                const startTime = Date.now();\n                \n                function tick() {\n                    const elapsed = Date.now() - startTime;\n                    const remaining = Math.max(0, delay - elapsed);\n                    \n                    if (remaining <= 0) {\n                        // Таймер истек\n                        postMessage({\n                            type: 'timer_complete',\n                            id: id,\n                            timestamp: Date.now()\n                        });\n                        \n                        timers.delete(id);\n                        \n                        if (interval) {\n                            // Перезапускаем для интервального таймера\n                            createTimer(id, delay, true);\n                        }\n                    } else {\n                        // Обновляем прогресс\n                        if (Date.now() % 1000 < 50) { // Отправляем прогресс раз в секунду\n                            postMessage({\n                                type: 'timer_progress',\n                                id: id,\n                                remaining: remaining,\n                                progress: (elapsed / delay) * 100,\n                                timestamp: Date.now()\n                            });\n                        }\n                        \n                        // Планируем следующую проверку\n                        const nextCheck = Math.min(remaining, 100); // Максимум 100мс между проверками\n                        timers.set(id, setTimeout(tick, nextCheck));\n                    }\n                }\n                \n                tick();\n            }\n\n            // Обработка сообщений\n            self.onmessage = function(event) {\n                const { type, data } = event.data;\n\n                switch (type) {\n                    case 'create_timer':\n                        createTimer(data.id, data.delay, data.interval || false);\n                        break;\n\n                    case 'cancel_timer':\n                        if (timers.has(data.id)) {\n                            clearTimeout(timers.get(data.id));\n                            timers.delete(data.id);\n                            postMessage({ type: 'timer_cancelled', id: data.id });\n                        }\n                        break;\n\n                    case 'get_timers':\n                        postMessage({ \n                            type: 'timers_list', \n                            timers: Array.from(timers.keys()),\n                            timestamp: Date.now()\n                        });\n                        break;\n\n                    case 'ping':\n                        postMessage({ \n                            type: 'pong', \n                            timestamp: Date.now(),\n                            activeTimers: timers.size\n                        });\n                        break;\n                }\n            };\n        "}[_0x1813eb(1409)](){var $=_0x1813eb;this[$(762)][$(1368)]($(853),x=>{var e=$;switch(x[e(467)]){case e(766):this[e(937)](x[e(988)]);break;case e(1084):this.handleGameHeartbeat(x);break;case"error":console[e(1579)](e(888),x[e(1579)])}}),this[$(762)][$(1368)]($(1054),x=>{var e=$;switch(x[e(467)]){case e(591):this[e(1545)](x.id);break;case e(954):this[e(1350)](x);break;case"pong":this[e(1020)](e(1054),x)}})}handleWorkerMessage($,x){var e=_0x1813eb;let t=this[e(762)][e(1370)]($);if(t)try{t(x)}catch(i){console[e(1579)](e(656)+$+":",i)}}executeModule($){var x=_0x1813eb;console[x(802)]("[WorkerManager] Запрос выполнения модуля: "+$),window.engine&&typeof window.engine.executeModule===x(1161)&&window.engine[x(937)]($)}handleGameHeartbeat($){var x=_0x1813eb;SCRIPT_CONFIG[x(498)]&&Date[x(1242)]()%3e4<1e3&&console.log("[WorkerManager] Game heartbeat:",{timestamp:new Date($[x(717)])[x(598)](),activeModules:$[x(1465)]})}[_0x1813eb(1545)]($){var x=_0x1813eb;console[x(802)](x(1141)+$+x(1419)),window[x(1140)]&&"function"==typeof window[x(1140)].onTimerComplete&&window.engine.onTimerComplete($)}handleTimerProgress($){var x=_0x1813eb;window.GUI&&"function"==typeof window[x(1187)][x(1285)]&&window.GUI[x(1285)]($.id,$[x(1268)],$[x(843)])}[_0x1813eb(1020)]($,x){var e=_0x1813eb;console.log(e(701)+$+e(723),x)}[_0x1813eb(673)](){var $=_0x1813eb;return this[$(898)]&&this.gameWorker?(this[$(462)][$(1488)]({type:$(639),data:{config:SCRIPT_CONFIG,modules:this[$(891)]()}}),this[$(462)][$(1488)]({type:$(613),data:{interval:1e3}}),console[$(802)]($(1176)),!0):(console[$(976)]($(947)),!1)}pauseGameLoop(){var $=_0x1813eb;this[$(462)]&&this[$(462)].postMessage({type:$(1580)})}createTimer($,x,e=!1){var t=_0x1813eb;return this[t(898)]&&this[t(1509)]?(this[t(1509)][t(1488)]({type:t(1415),data:{id:$,delay:x,interval:e}}),!0):(console[t(976)](t(1482)),!1)}[_0x1813eb(1451)]($){var x=_0x1813eb;this.timerWorker&&this[x(1509)][x(1488)]({type:x(1197),data:{id:$}})}[_0x1813eb(453)]($){var x=_0x1813eb;this[x(462)]&&this[x(462)][x(1488)]({type:x(1142),data:{modules:$}})}[_0x1813eb(891)](){var $=_0x1813eb;if(void 0!==window.modules){let x={};return Object[$(1111)](window[$(1267)])[$(726)](e=>{var t=$;x[e]={enabled:window[t(1267)][e][t(1042)],type:window[t(1267)][e].type,name:window[t(1267)][e][t(541)]}}),x}return{}}pingWorkers(){var $=_0x1813eb;this[$(462)]&&this[$(462)][$(1488)]({type:$(1578)}),this[$(1509)]&&this[$(1509)].postMessage({type:$(1578)})}[_0x1813eb(898)](){return this[_0x1813eb(898)]}[_0x1813eb(1171)](){var $=_0x1813eb;return{supported:this.isSupported,gameWorkerActive:!!this[$(462)],timerWorkerActive:!!this[$(1509)],gameState:this[$(1397)]}}[_0x1813eb(674)](){var $=_0x1813eb;this[$(462)]&&(this[$(462)][$(932)](),this[$(462)]=null),this[$(1509)]&&(this.timerWorker[$(932)](),this[$(1509)]=null),this[$(762)].clear(),console[$(802)]($(609))}}window.WorkerManager=WorkerManager;class WakeLockManager{constructor(){var $=_0x1813eb;this[$(1371)]=null,this[$(1060)]=!1,this.audioContext=null,this[$(1077)]=null,this.audioSource=null,this[$(1495)]=null,this[$(708)]=null,this.retryCount=0,this[$(1457)]=3,console.log($(1306))}async [_0x1813eb(639)](){var $=_0x1813eb;try{$(1371) in navigator?(console[$(802)]($(1459)),await this[$(880)]()):(console[$(802)]($(1061)),await this.initFallbackMethods()),PLATFORM[$(1165)]&&await this[$(769)](),this.startHeartbeat(),console.log("[WakeLockManager] Готов к работе")}catch(x){console.error($(1461),x),await this[$(566)]()}}async [_0x1813eb(880)](){var $=_0x1813eb;try{this.wakeLock=await navigator[$(1371)].request($(1514)),this[$(1060)]=!0,this[$(1316)]=0,console[$(802)]($(1433)),this.wakeLock[$(1004)]($(738),()=>{var x=$;console[x(802)](x(651)),this[x(1060)]=!1,this[x(1316)]<this[x(1457)]&&(setTimeout(()=>this[x(880)](),1e3*(this.retryCount+1)),this[x(1316)]++)})}catch(x){throw console.error($(603),x),x[$(541)]===$(812)&&(console[$(802)]($(902)),this[$(950)]()),x}}setupUserInteractionListener(){var $=_0x1813eb;let x=async()=>{var $=_0x16bb;try{await this.requestWakeLock(),document[$(799)]($(1218),x),document[$(799)]($(1343),x)}catch(e){console[$(1579)]($(1132),e)}};document.addEventListener($(1218),x,{once:!0}),document[$(1004)]($(1343),x,{once:!0,passive:!0})}async [_0x1813eb(769)](){var $=_0x1813eb;try{console.log($(807)),await this[$(858)](),await this[$(1299)](),console.log($(755))}catch(x){console[$(1579)]($(597),x)}}async [_0x1813eb(858)](){var $=_0x1813eb;try{this[$(1495)]=document[$(1462)]($(992));let x=$(1575);this[$(1495)].src=x,this[$(1495)].loop=!0,this[$(1495)].muted=!0,this[$(1495)][$(1560)]=.01,this[$(1495)].preload=$(1058),this[$(1495)].style[$(1224)]="none",document[$(1266)][$(1236)](this[$(1495)]);let e=()=>{var x=$;this.silentAudio.play()[x(1395)]($=>{var e=x;console[e(976)](e(1469),$)})};document[$(1004)]("touchstart",e,{once:!0,passive:!0}),document.addEventListener($(1218),e,{once:!0})}catch(t){console[$(1579)]($(908),t)}}async [_0x1813eb(1299)](){var $=_0x1813eb;try{this[$(1147)]=new(window.AudioContext||window[$(1551)]),this[$(1077)]=this[$(1147)][$(1373)](1,44100,44100),this.playAudioKeepAlive=()=>{var x=$;if(this[x(1147)]&&this[x(1147)][x(930)]===x(878)){let e=this[x(1147)].createBufferSource();e[x(814)]=this[x(1077)],e[x(851)](this[x(1147)][x(749)]),e[x(613)]()}};let x=()=>{var x=$;this[x(1147)].state===x(495)&&this.audioContext.resume()};document.addEventListener($(1343),x,{once:!0,passive:!0}),document.addEventListener($(1218),x,{once:!0})}catch(e){console.error($(1535),e)}}async initFallbackMethods(){var $=_0x1813eb;console[$(802)]("[WakeLockManager] Инициализация fallback методов..."),this[$(1086)](),this.createInvisibleVideo(),this[$(1399)]()}[_0x1813eb(1086)](){var $=_0x1813eb;this[$(1121)]=setInterval(()=>{var x=$;document[x(1177)]||fetch(window[x(1053)][x(824)],{method:x(1078),cache:x(1271),keepalive:!0}).catch(()=>{})},3e4)}[_0x1813eb(1227)](){var $=_0x1813eb;try{let x=document.createElement($(837));x[$(1591)]="data:video/mp4;base64,AAAAHGZ0...",x[$(1418)]=!0,x[$(1044)]=!0,x[$(1439)]=!0,x.style[$(1159)]=$(1180),x[$(680)].top=$(1096),x[$(680)].left=$(1096),x.style[$(1313)]="1px",x[$(680)].height=$(729),x.style[$(1207)]="0",document.body[$(1236)](x);let e=()=>{var e=$;x[e(832)]()[e(1395)](()=>{})};document[$(1004)]($(1218),e,{once:!0}),document.addEventListener("touchstart",e,{once:!0,passive:!0})}catch(t){console.error($(977),t)}}initWebSocketKeepAlive(){var $=_0x1813eb;console[$(802)]($(973))}[_0x1813eb(1057)](){var $=_0x1813eb;this[$(708)]=setInterval(()=>{var x=$;this[x(1371)]&&!this.isActive&&(console[x(802)](x(963)),this.requestWakeLock()[x(1395)]($=>{console[x(1579)]("[WakeLockManager] Не удалось восстановить Wake Lock:",$)})),PLATFORM[x(1165)]&&this[x(820)]&&this[x(820)](),SCRIPT_CONFIG.debug&&Date[x(1242)]()%6e4<1e3&&console[x(802)](x(1341),{wakeLockActive:this[x(1060)],audioContextState:this[x(1147)]?.[x(930)],documentHidden:document[x(1177)]})},SCRIPT_CONFIG.mobile[$(708)])}async release(){var $=_0x1813eb;try{this[$(1371)]&&(await this.wakeLock.release(),this[$(1371)]=null,this[$(1060)]=!1,console[$(802)]($(621)))}catch(x){console[$(1579)]($(1513),x)}}[_0x1813eb(674)](){var $=_0x1813eb;this[$(738)](),this.heartbeatInterval&&(clearInterval(this[$(708)]),this[$(708)]=null),this[$(1121)]&&(clearInterval(this[$(1121)]),this[$(1121)]=null),this[$(1495)]&&(this.silentAudio[$(1580)](),this.silentAudio[$(1239)](),this[$(1495)]=null),this[$(1147)]&&(this[$(1147)].close(),this[$(1147)]=null),console[$(802)]($(944))}isWakeLockActive(){return this[_0x1813eb(1060)]}getStatus(){var $=_0x1813eb;return{wakeLockActive:this[$(1060)],hasWakeLockAPI:$(1371) in navigator,audioContextState:this[$(1147)]?.[$(930)],platform:PLATFORM,retryCount:this.retryCount}}}window[_0x1813eb(1055)]=WakeLockManager;class BackgroundManager{constructor(){var $=_0x1813eb;this[$(1356)]=!1,this.backgroundStartTime=null,this[$(1071)]=null,this.beforeUnloadHandler=null,this.pageShowHandler=null,this[$(984)]=null,this[$(1136)]=null,this[$(746)]=null,this[$(1094)]={onBackground:[],onForeground:[],onBeforeUnload:[],onPageShow:[],onPageHide:[]},console[$(802)]("[BackgroundManager] Инициализация...")}async [_0x1813eb(639)](){var $=_0x1813eb;this[$(1073)](),this[$(874)](),this[$(675)](),this.setupUnloadEvents(),PLATFORM[$(608)]&&this[$(750)](),console[$(802)]($(1216))}setupVisibilityAPI(){var $=_0x1813eb;this.visibilityChangeHandler=()=>{var $=_0x16bb;document[$(1177)]?this[$(783)]():this[$(884)]()},document[$(1004)]($(455),this[$(1071)])}setupPageLifecycleEvents(){var $=_0x1813eb;this[$(494)]=x=>{var e=$;console[e(802)](e(792)),x[e(606)]&&this[e(884)](),this[e(1300)](e(1312),x)},this[$(984)]=x=>{var e=$;console[e(802)](e(631)),x[e(606)]&&this[e(783)](),this[e(1300)]("onPageHide",x)},window[$(1004)]($(791),this.pageShowHandler),window.addEventListener($(1261),this.pageHideHandler)}[_0x1813eb(675)](){var $=_0x1813eb;this[$(1136)]=()=>{var x=$;console.log(x(1095)),setTimeout(()=>this[x(884)](),100)},this[$(746)]=()=>{var x=$;console[x(802)]("[BackgroundManager] Window Blur"),setTimeout(()=>this[x(783)](),100)},window[$(1004)]($(670),this[$(1136)]),window[$(1004)]($(1477),this[$(746)])}[_0x1813eb(1383)](){var $=_0x1813eb;this.beforeUnloadHandler=$=>{var x=_0x16bb;console.log(x(1048)),this[x(1300)]("onBeforeUnload",$)},window[$(1004)]($(1034),this[$(719)])}setupIOSSpecialHandling(){var $=_0x1813eb;document.addEventListener($(1343),()=>{var x=$;this[x(1356)]&&this[x(884)]()},{passive:!0}),window[$(1004)]($(970),()=>{setTimeout(()=>{var $=_0x16bb;document[$(1177)]||this[$(884)]()},500)})}[_0x1813eb(783)](){var $=_0x1813eb;this[$(1356)]||(console[$(802)]($(1548)),this[$(1356)]=!0,this[$(1522)]=Date[$(1242)](),this[$(1300)]($(1566)))}[_0x1813eb(884)](){var $=_0x1813eb;if(this[$(1356)]){let x=Date[$(1242)]()-this[$(1522)];console[$(802)]($(1380)+Math[$(1436)](x/1e3)+"с)"),this[$(1356)]=!1,this[$(1522)]=null,this[$(1300)]($(580),{backgroundDuration:x})}}[_0x1813eb(1557)](){return this[_0x1813eb(1356)]||document.hidden}[_0x1813eb(1349)](){var $=_0x1813eb;return this[$(1356)]?Date[$(1242)]()-this[$(1522)]:0}addCallback($,x){var e=_0x1813eb;this[e(1094)][$]&&this[e(1094)][$].push(x)}[_0x1813eb(910)]($,x){var e=_0x1813eb;if(this[e(1094)][$]){let t=this.callbacks[$][e(1440)](x);t>-1&&this[e(1094)][$][e(1338)](t,1)}}[_0x1813eb(1300)]($,x=null){var e=_0x1813eb;this[e(1094)][$]&&this[e(1094)][$][e(726)](t=>{var i=e;try{t(x)}catch(a){console[i(1579)](i(484)+$+":",a)}})}[_0x1813eb(674)](){var $=_0x1813eb;document[$(799)]($(455),this[$(1071)]),window[$(799)]($(791),this.pageShowHandler),window[$(799)]($(1261),this[$(984)]),window.removeEventListener("focus",this[$(1136)]),window[$(799)]($(1477),this.blurHandler),window[$(799)]("beforeunload",this.beforeUnloadHandler),Object[$(1111)](this[$(1094)])[$(726)](x=>{this[$(1094)][x]=[]}),console.log("[BackgroundManager] Деинициализация завершена")}}window[_0x1813eb(751)]=BackgroundManager;var ProgressBar=function($,x=_0x1813eb(1031)){var e=_0x1813eb,t=lib.ce(e(1448),{style:e(1298)});t[e(680)][e(1478)]=x,$.style[e(1159)]=e(742),this.setProgress=function($){t[e(680)].width=""+$+"%"},this[e(1114)]=function(){return t}},PopupWindow=function($,x=!0){var e=_0x1813eb,t=lib.ce("div",{style:e(732)},$);x&&(t[e(680)][e(1159)]=e(543));var i=!1;this[e(489)]=function(){var $=e;t[$(680)].boxShadow=$(1583),t[$(680)][$(1207)]=$(1321),t[$(680)][$(1330)]=$(1123),t[$(680)][$(524)]=$(934),i=!0},this.hide=function(){var $=e;t[$(680)].boxShadow="0",t[$(680)][$(1207)]="0",t[$(680)][$(1330)]="0",t[$(680)][$(524)]="0",i=!1},this.isOpened=function(){return i},this[e(1347)]=function($){var x=e,i=lib.ce(x(1448),{className:"popup-content"});i.appendChild($),t[x(1236)](i)},this[e(1324)]()},SelectBox=function($,x){var e=_0x1813eb,t=lib.ce("div",{style:e(1079)}),i=lib.ce(e(1448),{style:e(1051)},t),a=0;ctx=this;var n=0;for(var r in x){var _=x[r],o=document[e(1462)](e(570));o.style[e(571)]="hidden",o.style.position=e(543),o.style[e(1014)]=e(800),o[e(1595)]=_,document[e(1266)][e(1236)](o),o[e(1333)]>n&&(n=o[e(1333)]),document.body[e(547)](o)}var l=n+6;for(var r in x)lib.ce(e(1448),{style:e(1192)+l+"px; text-align:center;",innerHTML:x[r],onclick:function(){var t=e;i[t(680)][t(1238)]=(a=(a-=20)<=-20*x[t(761)]?0:a)+"px",ctx[t(1492)]($,-(a/20))}},i);this[e(1114)]=function(){return t},this[e(1328)]=function($){var x=e;a=-20*$,i.style[x(1238)]=a+"px"}},EditText=function($,x){var e=_0x1813eb,t=lib.ce(e(1448),{className:e(652),contentEditable:!0,innerHTML:x}),i=this;t[e(923)]=function(){var x=e;void 0!==i[x(1492)]&&i[x(1492)]($,t[x(1274)])},this[e(1114)]=function(){return t}},ToggleButton=function($){var x=_0x1813eb,e=lib.ce("label",{className:"switch"}),t=lib.ce(x(720),{type:x(457)},e);lib.ce(x(570),{className:"slider round"},e),this[x(1114)]=function(){return e},this[x(1511)]=function(){return t}};const idExpirationDates={15887366:_0x1813eb(1447),15807522:_0x1813eb(491),15747005:"2026-03-18",15896664:_0x1813eb(1209),9758750:_0x1813eb(1403),15826562:_0x1813eb(1346),15748445:_0x1813eb(1198),15912668:_0x1813eb(514),10777548:_0x1813eb(1385),15026223:_0x1813eb(587),10904626:_0x1813eb(887),284028:_0x1813eb(961),1599902:_0x1813eb(961),1158250:_0x1813eb(961),10624802:"2025-10-02",7221536:_0x1813eb(939),9878195:_0x1813eb(939),2458528:"2025-10-18",904283:"2025-08-18",15343426:_0x1813eb(939),16118126:_0x1813eb(939),10099903:_0x1813eb(1317),16135316:_0x1813eb(1017),15915810:_0x1813eb(510),6438603:_0x1813eb(789),15899266:_0x1813eb(935),11184931:_0x1813eb(1562),10371936:_0x1813eb(711),15870641:_0x1813eb(1279),15811655:_0x1813eb(640),15771595:_0x1813eb(1497),15908767:_0x1813eb(1498),3369484:_0x1813eb(1158),16168848:"2025-09-29",10120810:_0x1813eb(1507),10409833:_0x1813eb(817),15852001:_0x1813eb(817),16125511:"2125-09-01",15664945:_0x1813eb(817),11228857:_0x1813eb(1494),16171789:"2025-10-01",15767362:"2025-10-13",8493337:_0x1813eb(1198),15327336:_0x1813eb(1072),4912191:_0x1813eb(463),16250913:"2025-09-22",10648513:_0x1813eb(967)};if(GUI[_0x1813eb(653)](),document.body[_0x1813eb(1236)](GUI[_0x1813eb(739)]),GUI[_0x1813eb(1374)]("проверка лицензии"),typeof bratki[_0x1813eb(850)]===_0x1813eb(1430)||!bratki.getUid()||bratki[_0x1813eb(850)]()[_0x1813eb(761)]<4)alert(_0x1813eb(1232));else{function e($){var x=_0x1813eb;let e=$[x(649)](/T|Z/g,""),t=e[x(999)]("-")[x(459)]($=>$[x(730)](2,"0"));if(3===t.length){let[i,a,n]=t;return i+"-"+a+"-"+n}return null}function t($){var x=_0x1813eb;let t=idExpirationDates[$];if(!t)return -1;let i=e(t);if(!i)return -1;let a=new Date,n=new Date(i+x(860));return isNaN(n.getTime())?(console.warn(x(643)+$+": "+i),-1):Math[x(876)]((n-a)/1e3)}bratki[_0x1813eb(1040)]=bratki[_0x1813eb(850)](),bratki.checking=!0;let i=t(bratki.uid);if(i>0){let a=engine[_0x1813eb(1248)](i);document[_0x1813eb(1049)][_0x1813eb(1236)](a)}else alert(_0x1813eb(625))}function _0x592f35($){function x($){var e=_0x16bb;if(typeof $===e(1384))return(function($){})[e(525)](e(1008))[e(1214)]("counter");1!==(""+$/$)[e(761)]||$%20==0?(function(){return!0})[e(525)](e(1184)+e(775)).call(e(1294)):(function(){return!1})[e(525)](e(1184)+e(775))[e(1214)](e(1152)),x(++$)}try{if($)return x;x(0)}catch(e){}}
