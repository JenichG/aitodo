var _0x8a816e=_0x1b9d;function _0x5d24(){var $=["Пляжная вечеринка","overflow","/stim_armor_12x12.png","onmouseup","setRequestHeader","gift-enabled","beforeunload","sboritems-enabled","shooter","setupFocusEvents","gift_recipient_id","❌ Не найдена страница персонажа","gang1-enabled","opacity","Не удалось определить id вашего персонажа, убедитесь что вы вошли в него из кабинета и повторите снова","pageX","/icons/training.png","form","maxSafeModeTimeout","/message","undefined","Районы","triggerCallbacks","skill_bonus_2","2025-10-13","content","backgroundManager","push","getTime","navigation","confirmLink","give-all","Извлечь","menu-bg-style","children","Особое <img src='https://img0.bratki.mobi/images/icons/aftoriteti.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>","span>span.warn","batchUpdateCookies","documentElement",'img[src*="followtarget.png"]',"') no-repeat center center;\n                        background-size: cover;\n                        opacity: ","selectLink","isOpen","findLinksByUrlComponent","div.font12.p3 > div.mt5","div.content-inner>img","2026-10-19","trace","onTimerComplete","createSettingsPopupHandler","description","currentItemIndex","Автосалон Грида","beltBlock-3","menuCustomizer","black","filter","updateProgress","change","addEventListener","resume","выполнение ","setupUnloadEvents","survival_20min","toLocaleTimeString","-receptionsClass-0-receptions-0-link","2026-03-18","while (true) {}","return_battle"," завершен","pow","chem_armor","cancel_timer","setupIOSFullscreen","Атаковать в ответ <img src='https://bratki.mobi/images/icons/gun.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","2652066bIUVHQ","processGameLogic","adjustable_barrage","handleBackgroundTransition","Надо","onreadystatechange","2025-08-18","[WakeLockManager] Wake Lock активирован","handleTimerProgress","followtarget","sell_selected_items","connectionManager","rack_exceptions","Content-Type","-receptionsClass-0-receptions-1-link","#val_"," ч.","маст","42DFZrkO","thrownfactory","function","-receptionsClass-3-receptions-1-link","2025-10-18","[WakeLockManager] Wake Lock неактивен, попытка восстановления...","cursor: pointer;","some","btn-a narrow ml5","[WakeLockManager] Wake Lock API недоступен, используем fallback","elements","fixed",".enemies-item","nodeType","onerror","gift_everyday","0.7","10RUAQRv","Фон: Площадь Культуры","maxHeight",".filter-str .filter-item","проверка лицензии","hasNewInterface","transferMode","ID получателя пересылки","workerManager","descPopup","repeatLink","btn-lock","play","timestamp","setupUserInteractionListener","[BackgroundManager] Before Unload","linkt","Первая помощь","setupViewportOptimizations","handleTimerComplete","mod_item_name","https://img3.bratki.mobi/images/cities/city_480.jpg","Слежка < Неистовство < Точный < Робот","Неистовство < Робот < Слежка < Точный","medikit","execute_module","data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEA...","onPageShow","beltBlock-1","audioSource","[MobileManager] Активация энергосберегающего режима","Стим 2  <img src='https://img1.bratki.mobi/images/items/stimulators/new/energy_black_32x32.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","setUpdateInterval","[WorkerManager] Не удается создать таймер - worker недоступен","Фон: Сити","remove","). Используется max_random_timeout.","initMemoryManagement","Ждать","-confirmLink","networkManager","playAudioKeepAlive","fallbackMainLoop",".enemy-name","arena-enabled",'Регулировка случайного интервала задержки между кликами с помощью двух ползунков. <br /><font color="#FFFF33">*Минимальная задержка</font> - минимальное время задержки (в миллисекундах). <br /><font color="#FFFF33">*Максимальная задержка</font> - максимальное время задержки (в миллисекундах). ЕСЛИ МОДУЛЬ ВЫКЛЮЧЕН, РАБОТАЕТ СТАРАЯ ЗАДЕРЖКА',"Наводки <img src='https://img0.bratki.mobi/images/icons/navodki.png' alt='cash' style='vertical-align: middle; width: 20px; height: 20px;'>","isLowPowerMode","[MobileManager] Деактивация энергосберегающего режима","setupOrientationHandling","2025-10-26","div.b-header.small","Автоматическая проверка и выполнение заданий на прикрытие","checkWorkerSupport","chem_accuracy","[BackgroundManager] Window Focus","private_items_cash","[MobileManager] Готов к работе","nextSibling","clientX","debu","2125-05-07","Figa_TrainStation","timerWorker","batteryManager","Быстрый сбор вещей с почты <img src='https://img1.bratki.mobi/images/icons/mes_in.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","\uD83D\uDD12 Проверка лицензии","status","menu_color_b","Категории для сбора","-5 сек <img src='https://img2.bratki.mobi/images/icons/skillcooldown.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> на час за 3 <img src='https://img2.bratki.mobi/images/icons/bucks.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>","menu_dim","test","Заказухи","На главную","/stim_stamina_12x12.png","left","set","enable_belt_3","usedJSHeapSize","2026-10-16","enable_belt_2","font-size:12px; padding:3px 3px; color:#2196F3; width:","avto","paused","[Bratki Engine] Ошибка инициализации:","audioContext","orientationchange","itemSelectionCompleted",'a.btn-flat[href*="ILinkListener-attachLink"]',"onswitch","[MobileManager] Изменение ориентации: ","-buffsCommon-0-link","html",".b-notice .notice-inner span.medium","expires","isOpened","menu_color_r","https://img3.bratki.mobi/images/cities/doki_480.jpg","[MobileManager] Батарея: ","public_items_cash","toFixed","isAndroid","mission/description","❌ Не удалось извлечь ID из ссылки","[WorkerManager] Timer Worker ошибка:","injection","span.info","Хищник-охотник","2025-10-01","friends","background:#000; position:relative; transition:250ms; top:0px;","ping","running","1YjvRgX",".content-inner .list-btns .btn-flat.inactive","initAudioKeepAlive","getCookie","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAQAAABLCVATAAAAMElEQVRIx2NgGAWjABn8b0BAYsRxG4QEiBEfNWjUoFGDRg0aNWgADaJW4T8KRg4AABfpAict00b7AAAAAElFTkSuQmCC","updateModules","fontSize","attack_vzaim","setupMessageHandlers","oninput","font","auto_repair","bg_potrox","a[href*='/item']","chargingchange","script_speed_max_timeout","В общаке занято","Минимальная стойка <img src='https://img3.bratki.mobi/images/icons/defensive_stand.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","tr.va-t a:not(.minor)","wakeLockManager","get","[WakeLockManager] Wake Lock освобожден вручную","chem_stamina",'-selectItemLink"].btn-a',") превышает max_random_timeout (","Выбрать","div.header","robLink","[WakeLockManager] WebSocket keep-alive пока не реализован","2125-06-04","handleGameHeartbeat","span.inactive","2125-05-28","robot","licenseCheck","Автопочинка <img src='https://img0.bratki.mobi/images/icons/cogwheel_3.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","optionTwoLink","setupTouchOptimizations","startGameLoop","gameState","[WorkerManager] Ошибка инициализации:","wait_timeout_max","target2","Фон: Потрошитель","getUid","mission_mode","[WakeLockManager] Wake Lock освобожден","[WorkerManager] Инициализация...","https://img2.bratki.mobi/images/cities/gorki_480.jpg","createObjectURL","enabled","Точный < Лечение < Яд < Инъекция","attack_dead_bypass","Ограбление Века","memoryPressure","WakeLockManager","isPageLocked","persisted","bg_doki","isActive","Цикл стимов ","chem_speed","from","split","public_items_sell","Достиг бонус-оружейник <img src='https://img3.bratki.mobi/images/NPCs/topor.gld.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>"," д. ","pong","Обстрел < Точный < Стойка < Аффект","handlePage","/icons/regen.png","gas_timeout","innerHTML","[WakeLockManager] Ошибка освобождения Wake Lock:","createTimerWorker","parentNode","getGameWorkerCode","shooter_abilities_order","needsAudioKeepAlive","overflow: hidden; position: absolute; right: 5px; top: 0; transition: 500ms;","padStart","cursor: pointer; height:20px; border-radius:5px; overflow:hidden; display:inline-block;","affect","offsetX","volume","damageLastAttackerLink","2025-11-02","-1000px","display","createMenu","handleWorkerPong","visibility","/message/create","menu_position","map","createGameWorker","Фон: Горки","contains","list","includes","combatPanel","GreenBar","Общение","create_timer","onchange","target","Только за 1 <img src='https://img2.bratki.mobi/images/tmp/bullets12x12.png' alt='bullet' style='vertical-align: middle; width: 12px; height: 12px;'>","getCheckbox","Стим 3  <img src='https://img2.bratki.mobi/images/items/stimulators/new/energy_red_32x32.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","isWakeLockActive","Фон: Свободные Кварталы","findLinksByText","blur",'Бар "Зелень"',"lastCheck","Заказуха выполнена","createElement","[BackgroundManager] Возврат в активный режим (был в фоне ","bonus_700","name","DOMContentLoaded","transition","querySelector","efensivestand","width","input[type='submit']","clearCaches","forceLowPowerMode","Красный (R)","input","search","linkc","intervalId","getState","[BackgroundManager] Page Hide event","Мэр заказан","skill_bonus_3","Аффект < Обстрел < Стойка < Точный","Название вещи для установки модов","timer","autoInjectedScript","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAABDUlEQVR4AcXSPUoDURRH8TtJOj9aEXEVouAqRBAtDIq4AwsDgo0IIskUQkAsBDGFrkALRdBCG+swpJIQFFdgJKNH8PK43EiYgRT+/t1jTvGGJ/+BHYJtpH/C310SNPIFzwRPg4MCj9ywxDQNvghSzphimVseiHywifrG+JM1LGCcd7K8MmrBIV6TKjUSvH0LynQxRxQQhCJ1zAcrFgiztFFN9HNNEtQLM/2/dRdVRbDFqAoyKKjlC+bpoBKKhNMSLVSbOSxgnU9MHU1KHGO6rFpwgJcQE9PC27NgjDeydBixQNjIfBplf+mIe65YYJJTUoIeJ0ywyDV3REM9b78LgvN8QYX0dz228gR+wwc/ymXie5Q1fWkAAAAASUVORK5CYII=","reload","top","[MobileManager] Battery API недоступен:","responseText","getCombatLinks","removeCallback","measure","urlData","checkbox","setProperty","sort","join",".search-form, .b-notice, .event, .b-header, .container, .b-footmenu","TEXT_NODE","requestWakeLock","screen","number","Персонаж","bonus_350","initMenu","Настойка брони<img src='https://img3.bratki.mobi/images/items/stimulators/new/stim_armor_12x12.png' alt='armor' style='vertical-align: middle; width: 15px; height: 12px;'>","load",".enemies-item a","initPopupManager","heartbeat","-0-linkMoney","survival_10min","Недопустимый ID или истек срок действия","-receptionsClass-3-receptions-0-link","[MobileManager] Высокое использование памяти: ","#menu-bg-style","bg_zuza","memoryWarningHandler","isInitialized","enablePerformanceOptimizations","diff",".enemy-hp-amount","autoMissions","toString","handleWorkerMessage","Неистовство","skill_bonus_1","getStatus","--animation-duration","heal","startItemsCount","-logoutLink","Хищник-командующий","[WorkerManager] Готов к работе","audioBuffer","Хищник-каратель","border-top: 1px solid #fff; font-size: 12px; overflow:hidden; transition: 250ms;","Сумка","margin-top: -3px; left: 0; right: 0; height: 1px; background: #fff;","min_random_timeout","currentUser","enable_belt_4","❌ Лицензия недействительна","Автопересыл общака <img src='https://img3.bratki.mobi/images/icons/auction.png' style='vertical-align: middle; width: 20px; height: 20px;'>","fallbackToOriginal","display: inline-block; padding-left: 3px;","function *\\( *\\)","Последний полет","floor","onComplete","[WorkerManager] Не удается запустить game loop - worker недоступен","UnrulyPort","doctor_abilities_order","video","memory","-receptionsClass-2-receptions-0-link","removeLinksByUrlComponent","4629213AZamxx","setCookie","blurHandler","register","createMenuItem","min","submit","repairLink","⚠️ [AutoBon] Ячейка настойки ","key","[MobileManager] Активация экономии трафика","[BackgroundManager] Инициализация...","transform","/gang","-bottles-3","a[href*='beltBlock-0'] .locked-time","[WorkerManager] Запрос выполнения модуля: ","div.road-line","-deleteLink","nitro_timeout","setupVisibilityAPI","Чарли","progress","closest","Аптечка",".enemies-list-items .enemies-item a","Проверка лицензии перед работой скрипта","connection","1px"," worker pong:","div","% (","HEAD","-users-","Точный < Обстрел < Аффект < Стойка","Моя сумка","transition: 250ms; overflow: hidden; max-height: 0; max-width:0; padding: 0;","-bottles-1","handleSlowPerformance","private_items_sell","x2 опыт на 30 мин <img src='/images/icons/double_exp.png' alt='x2' style='vertical-align: middle; width: 12px; height: 12px;'> за 800 <img src='https://img0.bratki.mobi/images/icons/credits.png' alt='credits' style='vertical-align: middle; width: 12px; height: 12px;'>","innerText","12px Arial","remaining","duration","skill_timeout","[WorkerManager] Workers не поддерживаются, используем fallback","returnValue","double_exp_60min","\n            // Timer Worker - Точные таймеры\n            let timers = new Map();\n            let intervalCounters = new Map();\n\n            function createTimer(id, delay, interval = false) {\n                if (timers.has(id)) {\n                    clearTimeout(timers.get(id));\n                }\n\n                const startTime = Date.now();\n                \n                function tick() {\n                    const elapsed = Date.now() - startTime;\n                    const remaining = Math.max(0, delay - elapsed);\n                    \n                    if (remaining <= 0) {\n                        // Таймер истек\n                        postMessage({\n                            type: 'timer_complete',\n                            id: id,\n                            timestamp: Date.now()\n                        });\n                        \n                        timers.delete(id);\n                        \n                        if (interval) {\n                            // Перезапускаем для интервального таймера\n                            createTimer(id, delay, true);\n                        }\n                    } else {\n                        // Обновляем прогресс\n                        if (Date.now() % 1000 < 50) { // Отправляем прогресс раз в секунду\n                            postMessage({\n                                type: 'timer_progress',\n                                id: id,\n                                remaining: remaining,\n                                progress: (elapsed / delay) * 100,\n                                timestamp: Date.now()\n                            });\n                        }\n                        \n                        // Планируем следующую проверку\n                        const nextCheck = Math.min(remaining, 100); // Максимум 100мс между проверками\n                        timers.set(id, setTimeout(tick, nextCheck));\n                    }\n                }\n                \n                tick();\n            }\n\n            // Обработка сообщений\n            self.onmessage = function(event) {\n                const { type, data } = event.data;\n\n                switch (type) {\n                    case 'create_timer':\n                        createTimer(data.id, data.delay, data.interval || false);\n                        break;\n\n                    case 'cancel_timer':\n                        if (timers.has(data.id)) {\n                            clearTimeout(timers.get(data.id));\n                            timers.delete(data.id);\n                            postMessage({ type: 'timer_cancelled', id: data.id });\n                        }\n                        break;\n\n                    case 'get_timers':\n                        postMessage({ \n                            type: 'timers_list', \n                            timers: Array.from(timers.keys()),\n                            timestamp: Date.now()\n                        });\n                        break;\n\n                    case 'ping':\n                        postMessage({ \n                            type: 'pong', \n                            timestamp: Date.now(),\n                            activeTimers: timers.size\n                        });\n                        break;\n                }\n            };\n        ","keys","\n            // Game Worker - Основная логика игры\n            let gameState = {\n                paused: true,\n                currentModule: null,\n                modules: {},\n                config: null\n            };\n\n            let gameInterval = null;\n\n            // Функции для работы с модулями\n            function processModules() {\n                if (gameState.paused) return;\n\n                // Эмуляция проверки модулей\n                const activeModules = Object.keys(gameState.modules).filter(key => \n                    gameState.modules[key].enabled\n                );\n\n                if (activeModules.length > 0) {\n                    const moduleToExecute = selectNextModule(activeModules);\n                    if (moduleToExecute) {\n                        postMessage({\n                            type: 'execute_module',\n                            module: moduleToExecute,\n                            timestamp: Date.now()\n                        });\n                    }\n                }\n\n                // Отправляем heartbeat\n                postMessage({\n                    type: 'heartbeat',\n                    timestamp: Date.now(),\n                    activeModules: activeModules.length\n                });\n            }\n\n            function selectNextModule(activeModules) {\n                // Простая логика выбора следующего модуля\n                // В реальной реализации здесь будет более сложная логика\n                return activeModules[0];\n            }\n\n            // Обработка сообщений от основного потока\n            self.onmessage = function(event) {\n                const { type, data } = event.data;\n\n                switch (type) {\n                    case 'init':\n                        gameState.config = data.config;\n                        gameState.modules = data.modules;\n                        postMessage({ type: 'init_complete' });\n                        break;\n\n                    case 'start':\n                        gameState.paused = false;\n                        if (!gameInterval) {\n                            gameInterval = setInterval(processModules, data.interval || 1000);\n                        }\n                        postMessage({ type: 'started' });\n                        break;\n\n                    case 'pause':\n                        gameState.paused = true;\n                        if (gameInterval) {\n                            clearInterval(gameInterval);\n                            gameInterval = null;\n                        }\n                        postMessage({ type: 'paused' });\n                        break;\n\n                    case 'update_modules':\n                        gameState.modules = data.modules;\n                        break;\n\n                    case 'set_current_module':\n                        gameState.currentModule = data.module;\n                        break;\n\n                    case 'ping':\n                        postMessage({ \n                            type: 'pong', \n                            timestamp: Date.now(),\n                            gameState: {\n                                paused: gameState.paused,\n                                currentModule: gameState.currentModule\n                            }\n                        });\n                        break;\n                }\n            };\n\n            // Обработка ошибок\n            self.onerror = function(error) {\n                postMessage({\n                    type: 'error',\n                    error: {\n                        message: error.message,\n                        filename: error.filename,\n                        lineno: error.lineno,\n                        colno: error.colno\n                    }\n                });\n            };\n        ","[MobileManager] Применение iOS оптимизаций...","2026-06-14","Продолжить бой","11321662hlNVWk","hide","webkitConnection","aHR0cHM6Ly9kZXZicmF0ay5naXRodWIuaW8vYXJkcy90dG5uLmpzP3tEYXRlLm5vdygp","личные вещи - сбыть на кредиты <img src='https://img0.bratki.mobi/images/icons/credits.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>","label","/icons/double_exp.png","rTimeout","poison","getSceneLink","userAgent","span.major","forEach","AudioContext","round","2025-10-20","innerHeight","checked","skill_bonus_4","Быстрая ПП <img src='https://img2.bratki.mobi/images/icons/medicine.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","Проезжает гонки с максимально быстрой скоростью","Робот","onload","500ms","touchstart","Обновляй страницу","Нитро","toUTCString","gang2-enabled","chain","Засада на Причале","[Bratki Engine] Переход к оригинальному скрипту...","Включить подсветку мобов на арене <img src='https://img1.bratki.mobi/images/NPCs/mafia_boss.gld.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","<img src='https://img1.bratki.mobi/images/items/stimulators/new/coffee3_32x32.png  ' alt='coffee' style='vertical-align: middle; width: 15px; height: 15px;'> ","a.is, a.iGood, a.iEpic",'\n    img[src*=\'data:image\'] { width: 22px; height: 22px; }\n\n    /* Слайдер (switch) — обновлён под тёмный фон */\n    .switch {\n        position: relative;\n        display: inline-block;\n        width: 34px;\n        height: 20px;\n        margin: 2px 0;\n    }\n    .switch input { opacity: 0; width: 0; height: 0; }\n    .slider {\n        position: absolute;\n        cursor: pointer;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background-color: #e20c0cff; /* Тёмно-серый — неактивный */\n        border-radius: 34px;\n        transition: .2s;\n        padding: 5px;\n    }\n    .slider:before {\n        position: absolute;\n        content: "";\n        height: 18px;\n        width: 16px;\n        left: 2px;\n        bottom: 1px;\n        background-color: white;\n        border-radius: 50%;\n        transition: .4s;\n    }\n    input:checked + .slider {\n        background-color: #2196F3; /* Ярко-голубой — активный */\n    }\n    input:checked + .slider:before {\n        transform: translateX(14px);\n    }\n    input:focus + .slider {\n        box-shadow: 0 0 3px rgba(33, 150, 243, 0.5);\n    }\n\n    /* Текстовые поля — стили под тёмный фон */\n    .edit_text,\n    input[type="text"] {\n        min-height: 20px;          /* Минимальная высота */\n        height: auto;              /* Автоматическое увеличение по содержимому */\n        padding: 3px 6px;          /* Внутренние отступы */\n        font-size: 12px;\n        color: #2196F3;            /* Голубой текст */\n        background-color: #1a1a1a; /* Тёмно-серый фон */\n        border: none;\n        border-bottom: 2px solid #555;\n        border-radius: 3px;\n        outline: none;\n        resize: none;              /* Запрещаем ручное изменение размера */\n        overflow: visible;         /* Позволяет тексту выходить за границы (если нужно) */\n        line-height: 1.4;\n        font-family: sans-serif;\n    }\n\n    .edit_text:focus,\n    input[type="text"]:focus {\n        border-bottom-color: #2196F3; /* Голубая подсветка при фокусе */\n        box-shadow: 0 0 3px rgba(33, 150, 243, 0.5);\n    }\n\n    /* Ползунки (range) — стили под тёмный фон */\n    input[type="range"] {\n        -webkit-appearance: none;\n        appearance: none;\n        width: 100%;\n        height: 3px;\n        background: #d62e2eff;          /* Тёмный фон трека */\n        border-radius: 1.5px;\n        outline: none;\n        margin: 8px 0;\n    }\n\n    /* Стиль бегунка ползунка */\n    input[type="range"]::-webkit-slider-thumb {\n        -webkit-appearance: none;\n        appearance: none;\n        width: 16px;\n        height: 16px;\n        border-radius: 50%;\n        background: #19da12ff;\n        cursor: pointer;\n        box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);\n    }\n\n    input[type="range"]::-moz-range-thumb {\n        width: 16px;\n        height: 16px;\n        border-radius: 50%;\n        background: #1ceb38ff;\n        cursor: pointer;\n        border: none;\n        box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);\n    }\n\n    /* Прогресс-бар ползунка (необязательно, но выглядит красиво) */\n    input[type="range"]::-webkit-slider-runnable-track {\n        background: #333;\n        border-radius: 1.5px;\n    }\n\n    input[type="range"]::-moz-range-track {\n        background: #333;\n        border-radius: 1.5px;\n    }\n\n    /* Кнопки — оставляем как есть, но можно чуть подправить */\n    .btn-equip {\n        color: #338899;\n        display: inline-block;\n        margin: 0 5px 3px 0;\n        padding: 2px 4px;\n        font-size: 12px;\n        text-decoration: none;\n        background: #1a1a1a;\n        border: 1px solid #333;\n        border-radius: 3px;\n    }\n\n    /* Всплывающее окно — без изменений, но если нужно — можно добавить тёмный фон */\n    .popup-content {\n        max-height: 300px;\n        overflow-y: auto;\n        padding: 10px;\n        font-size: 12px;\n        color: #ffffff;\n        background-color: #121212; /* Дополнительно: глубокий тёмный фон */\n        border-radius: 6px;\n        border: 1px solid #333;\n    }\n',"Ядовитый укол","querySelectorAll","retryCount","[Bratki Engine] Инициализация улучшенного движка...","currentModule","\\$1","settings","Выживание +20 мин <img src='/images/icons/revival.png' alt='revival' style='vertical-align: middle; width: 12px; height: 12px;'> за 2 <img src='https://img2.bratki.mobi/images/tmp/bullets12x12.png' alt='bullet' style='vertical-align: middle; width: 12px; height: 12px;'>","Затягивание ран +30%  <img src='https://img1.bratki.mobi/images/icons/regen.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> на 30мин","recalculateLayout","update_modules","https://img0.bratki.mobi/images/cities/police_480.jpg","Мастерская мясника","getBackgroundDuration","stateObject","все","uid","input, textarea, select","a[href*='useSkill'] .locked-time","[MobileManager] Медленная производительность: ","Забрать все","[MobileManager] Низкий заряд батареи: ","Максимальная задержка","Грабежи","Точный < Слежка < Неистовство < Робот","engine","откл","-itemsList-26-itemPanel-item-customPanel-selectLink","brute","Пнуть замок","slow-2g","takeLink","pageShowHandler","bg_city","onForeground","rebornLink","[BackgroundManager] Готов к работе","script","script_speed_min_timeout","Смертельный форсаж","getBatteryLevel","body","startLink","pink","warehouse","prototype","isCharging","382164QUpCdX","мс)","return (function() ","Полная версия","Автоматическая отправка подарков <img src='https://img2.bratki.mobi/images/icons/present_21x21.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","bg_cop","activeModules","menu_color_g","pageY","find","requestCnt","enable_belt_combined","type","location","div.b-header","loadOriginalModules","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","getElement","-difficultyLink","start","x2 опыт на час <img src='/images/icons/double_exp.png' alt='x2' style='vertical-align: middle; width: 12px; height: 12px;'> за 1500 <img src='https://img0.bratki.mobi/images/icons/credits.png' alt='credits' style='vertical-align: middle; width: 12px; height: 12px;'>","shopping","[BackgroundManager] Page Show event","unknown","settings_","[Bratki Engine] Инициализация завершена успешно","padding","isMobile","focusHandler","setTime","/gang/menu","По умолчанию","state","apply","cache","-itemsList-18-itemPanel-item-customPanel-selectLink","Порядок способностей: Стрелок <img src='https://img3.bratki.mobi/images/icons/mafia.sniper.png  ' alt='shooter' style='vertical-align: middle; width: 15px; height: 15px;'>","createHelpPopupHandler","Запустить","cover-enabled",".enemies-list-items","норм","unlockPage","a[href*='","Достиг тренер по рукопашному бою <img src='https://img2.bratki.mobi/images/NPCs/32x32_nps4.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","ul.block","Открыть ящик",'a[href*="takeLink"]',"pushState","my-bratki-script","loadTime","/icons/skillcooldown.png","бесп","Цикл стимов включен, слежка активна - запрещаем повтор","auto_off","[WorkerManager] Деинициализация завершена","charging","[WorkerManager] Game heartbeat:","\n                position: absolute;\n                border-radius: 3px;\n                color: #ffe600ff;\n                transition: 500ms;\n                z-index: 2000;\n                overflow: hidden;\n            ","maxvalue","clearCache","handleMemoryPressure","<img src='https://img0.bratki.mobi/images/items/stimulators/new/energy_light_32x32.png  ' alt='energy' style='vertical-align: middle; width: 15px; height: 15px;'> ","absolute","/stim_speed_12x12.png","[WakeLockManager] Ошибка инициализации:","(((.+)+)+)+$","getBattery","executeModule","[MobileManager] Медленная операция: ","полн","getElementById","onmessage","pageshow","-buffsSpec-0-link","open","Автоматически переключает персонажей в кабинете, когда скрипт прошел все заказы и выполнил все возможные действия на персонаже","exc","Состояние аффекта","Забрать","postMessage","bucks","hasOwnProperty","viewport","Настойка точности<img src='https://img1.bratki.mobi/images/items/stimulators/new/stim_accuracy_12x12.png' alt='accuracy' style='vertical-align: middle; width: 15px; height: 15px;'>","release","⚠️ [AutoBon] Хедер (.b-header.small) не найден — скрипт не может проверить иконки","2025-09-15","timeout","edit_text","healLink","Воскресный шоппинг","orientation","close","firstaid","createToggleHandler","brute_abilities_order","pageHideHandler","isSupported","не хватает","sellToCollector-sellLink","setupPageLifecycleEvents","Забирать все вещи <img src='https://bratki.mobi/images/icons/information.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","match","[MobileManager] Battery Manager инициализирован","[WorkerManager] Game Worker ошибка:","[MobileManager] Ошибка инициализации мониторинга производительности:","preventPageUnload","initFallbackMethods","-10 сек <img src='https://img2.bratki.mobi/images/icons/skillcooldown.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> на 30 мин за 3 <img src='https://img2.bratki.mobi/images/icons/bucks.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>","Уникальные приемы","-receptionsClass-0-receptions-3-link","position","Сдать в общак","Режим ботофермы <img src='https://img1.bratki.mobi/images/icons/teams.png' style='vertical-align: middle; width: 20px; height: 20px;'>","Прокачка достижения Зажигалка <img src='https://img0.bratki.mobi/images/icons/cent.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","show","onmousemove","loop","background","request","gun","Постоянные проблемы","muted","double_exp_30min","Макс. таймаут ожидания (мс) <img src='https://img.icons8.com/?size=48&id=19034&format=png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","Лицензия не активна","item_difficulty",'\n                        self.onmessage = function(e) {\n                            const interval = e.data;\n                            function tick() {\n                                self.postMessage("tick");\n                                setTimeout(tick, interval);\n                            }\n                            tick();\n                        };\n                    ',"updateBatteryState","disableLowPowerMode","[WakeLockManager] Статус:","timeoutId","fast_heal","/home","Мин. таймаут ожидания (мс) \uD83D\uDC0C","initPerformanceMonitoring",'-selectItemLink"][textContent="Отменить"], a[href*="items-',"setAttribute","Лечение < Инъекция < Яд < Точный","Тепловизор","Обновить","hideMsg","item_difficulty_40","2026-01-21T","get_all_items","color","не личные вещи - сбыть на кредиты <img src='https://img0.bratki.mobi/images/icons/credits.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>","[MobileManager] Network Information API недоступен:","popup-content","px; text-align:center;","img","rampage"," не найдена","minSafeModeTimeout","Срок аренды скрипта закончен","keepAliveWithFetch","public_items_gang","beltBlock-0","furious","a[href*='messagePanel:codIncomingBlock:codActionsPanel:buyLink']","outerHTML","urlc","KillMajor","Бункер","Затемнение","createSilentAudio","observe","pagehide","16px","landscape","performanceObserver","Быстрая прокачка прикрытия <img src='https://bratki.mobi/images/icons/quest_energy.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","Точный выстрел","[WakeLockManager] Не удалось восстановить Wake Lock:","Проверять доступность грабежей и выполнять их","onPageHide","checking","table a[href*='selectItemLink']","headshot","getTeamHp","width: 0%; height: 100%; position: absolute; opacity: 0.5; top: 0; left: 0","maxWidth","stripMelon","useSetting","Установить","silentAudio","preventDefault","disconnect","<img src='https://img1.bratki.mobi/images/items/stimulators/adrenalin_inj32.png  ' alt='adrenaline' style='vertical-align: middle; width: 15px; height: 15px;'>","[WorkerManager] Game Worker error:","setPopup","random","Минимальная скорость (мс) \uD83D\uDC0C<img src='https://img.icons8.com/ios-filled/50/00bfff/turtle.png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","bottomProgress","Возвращение в бой <img src='https://bratki.mobi/images/icons/headshot.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","Стойка < Обстрел < Аффект < Точный","botfarm_max_users","doctor","updateConnectionState","cookie","104132uSIFxy","info","flex: 1;","a[href*='selectItemLink']","closeAllPopup","take-all","clicked","performLicenseCheck","Заказухи <img src='https://img3.bratki.mobi/images/icons/zakazuhi.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>","setupIOSOptimizations","refreshLink","wait_timeout_min","5px","Фокус мобов движух <img src='https://img0.bratki.mobi/images/icons/ach.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","boxShadow","pause","giftshop","enterLink","Настройка меню <img src='https://img0.bratki.mobi/images/icons/achievements.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","2025-10-05","offsetWidth","getModulesState","a[href*='crackLink']","crackLink","level","gameWorker","onmousedown","getMissionsLinks","now","smi","Количество мобов для обстрела <img src='https://img3.bratki.mobi/images/icons/gun_12x12.png  ' alt='defensive stand' style='vertical-align: middle; width: 12px; height: 12px;'>","createSettingElement","Затягивание ран +30%  <img src='https://img1.bratki.mobi/images/icons/regen.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> на час","startFPSMonitoring","trim","Mooringyachtclubagent","desc_","href","textContent","initWakeLock","className","auto","licenseCheckInProgress","Газануть","value","startsWith","handleEngineState","Задание недоступно","<h2>Союзники</h2>","visibilityChangeHandler","Невалидная дата для ID ","500px","touchHandler","parentElement","Стим 4  <img src='https://img1.bratki.mobi/images/items/stimulators/adrenalin_inj32.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","suspended","BackgroundManager","showItemsLink","application/javascript","/icons/revival.png","bonus_bullet_no_icon","switch","GET","Задержка способностей <img src='https://img3.bratki.mobi/images/icons/clock.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","notifyblock","logout","data:","send","startHeartbeat","Особняк Фила Ричи","Хищник-старейшина","timerId","handleForegroundTransition",".b-user","разряжается","span","/stim_accuracy_12x12.png","currentStepIndex","Бой \n        <img src='https://img0.bratki.mobi/images/icons/razborki.png' \n        style='width: 20px; height: 20px; vertical-align: middle; animation: flex 2s infinite;'>\n        <style>\n            @keyframes flex {\n            0%, 100% { transform: scale(1); }\n            50% { transform: scale(1.3); }\n            }\n        </style>\n        ","[WakeLockManager] Не удалось запустить silent audio:","Сложность заказухи","menuOpened","Защитная стойка","auto_butcher","Лечение < Яд < Инъекция < Точный","/tasks",".b-header.small","catch","Worker","init","operation_bunker","Патруль","-bottles-4","setSelection","skill_bonus_0","getSceneLinks","T00:00:00","addChild","setupIOSSpecialHandling","popups","pageYOffset","Автопроход мяса <img src='https://img3.bratki.mobi/images/NPCs/butcher.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","-2-linkMoney","nebo","callbacks","priority","offsetY","console","[MobileManager] Ошибка очистки кешей:","165sCEGTa","max_random_timeout","❌ Неверный формат ID","/stim_power_12x12.png","onclick","[MobileManager] Применение Android оптимизаций...","createAudioContext","batteryLevel","✅ Лицензия активна, ID: ","setupAndroidOptimizations","Лестница","attack_predators","gang3-enabled","relative","none","0.9","callback","2026-09-22","Фон: Старый город","major","popupManager","application/x-www-form-urlencoded; charset=utf-8","Военная контрабанда","В твоей сумке нет места","[WakeLockManager] Деинициализация завершена","setProgress","__proto__","PerformanceObserver","Заброшенный Завод","ID получателя подарка","classList","setupRandomTimeout","true","[WorkerManager] ","5390805dZRiIT","click","cashExchange","substring","action","levelchange","час до отключения","/user","error","-receptionsClass-0-receptions-2-link","tagName","createBuffer","[BackgroundManager] Деинициализация завершена","translateZ(0)","beltBlock-2",".custom-menu","[Bratki Engine] Запуск fallback цикла...",") !important;\n                    }\n                ","hasAttribute","blackmarket","\uD83E\uDDEA [AutoBon] Настойка ","доступных вещей не найдено","2125-09-01","-giftPanel-giftCell-getGiftLink","WorkerManager","Достиг тренер по стрельбе <img src='https://img2.bratki.mobi/images/NPCs/shumer_guard.gld.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","gger","gangDonate","method","fetchKeepAliveInterval","Задержка нажатия на Газ <img src='https://img3.bratki.mobi/images/cars/icons/21x21_gaz.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>","destroy","[WakeLockManager] Wake Lock заблокирован пользователем","Все","<span>Команда</span>","touchmove","Уличный торговец","Настойка мощности<img src='https://img3.bratki.mobi/images/items/stimulators/new/stim_power_12x12.png' alt='power' style='vertical-align: middle; width: 15px; height: 15px;'>","padding: 5px; cursor: pointer;","Слежение за целью","connectionType","Робот < Слежка < Точный < Неистовство","display: inline-block; overflow: hidden; padding: 3px; vertical-align: top;","hidden","block:blockLink","onkeyup","skill_bonus_5","backgroundStartTime","Cбор eжедневной награды <img src='https://img0.bratki.mobi/images/icons/buff_generosity.png' alt='gift' style='vertical-align: middle; width: 18px; height: 18px;'>","a[href*='tempItemsLink']","improveBlock-improveLink","mobileManager",", активация энергосберегающего режима","addItemLink","Бонус за 350 <img src='https://img3.bratki.mobi/images/icons/cash.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>","onconfig","indexOf","Братки","returnLink","no-cache","position: relative; top: 2px; display: inline-block;",'Очистка сумки от вещей, <br /><font color="#ff0000">Будьте осторожны при выборе варианта сбыть</font><br /><font color="#ff3">исключеня</font> - (с общагом не работает) ключевые слова исключаящие обработку вещи, через запятую, например: филки, ящик<br /><font color="#ff3">продавать выбранное</font> - продает только указанные вещи (личные и не личные), игнорируя другие настройки<br /><font color="#ff3">обмен на филки</font> - обменивает вещи на филки вместо продажи за кредиты',"timer_progress","meta","popup_","опции","   → Шаг ","isIOSSafari","выкл",';\n                        z-index: -1;\n                    }\n                    .custom-menu::after {\n                        content: "";\n                        position: absolute;\n                        top: 0; left: 0; right: 0; bottom: 0;\n                        background: rgba(0, 0, 0, ',"src","Верхний хол","innerWidth","GuildStoragePage","СТАРТ!!!","transfer_recipient_id","2726-10-19","game","Установка/снятие мода за 1к кредитов <img src='https://img0.bratki.mobi/images/icons/credits.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>",'\n                    .custom-menu::before {\n                        content: "";\n                        position: absolute;\n                        top: 0; left: 0; right: 0; bottom: 0;\n                        background: url(\'https://raw.githubusercontent.com/JenichG/nx/main/Endless Falls 1.gif\') no-repeat center center;\n                        background-size: cover;\n                        opacity: 1;\n                        z-index: -1;\n                    }\n                    .custom-menu::after {\n                        content: "";\n                        position: absolute;\n                        top: 0; left: 0; right: 0; bottom: 0;\n                        background: rgba(0, 0, 0, 0.1);\n                        z-index: -1;\n                    }\n                    .custom-menu, .custom-menu * {\n                        color: rgba(203, 206, 24, 1) !important;\n                    }\n                ',"handleScene","VillaRichie","setNetworkInterval","visibilitychange","2125-01-19","enableNetworkSavingMode"," Задержки на значение \"0\" не работают <img src='https://cdn-icons-png.flaticon.com/128/7887/7887126.png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","appendChild","heartbeatInterval","removeEventListener","#2196F3","confirmReq","scrollTo","length","Захват СМИ","/cover","10px","[MobileManager] Низкий FPS: ","touches","initConnectionManager","wakeLock","isInBackground","enable_belt_1","findHomeLink","removeChild","Настойка живучести<img src='https://img2.bratki.mobi/images/items/stimulators/new/stim_stamina_12x12.png' alt='stamina' style='vertical-align: middle; width: 15px; height: 15px;'>","home","2025-10-14","text","[WorkerManager] Game loop запущен","handleOrientationChange","a[href*='beltBlock-2'] .locked-time","warn","=([^;]*)",'img[src*="looking_for_target.png"]',"Голубой огонек","terminate","effectiveType",'img[src*="defensive_stand.png"]',"sell_selected_only","menu","messageHandlers","hideBottom","Группировка","gun_","bind","Бонусы","onpopstate","Авто бон \n  <img src='https://img0.bratki.mobi/images/icons/specshkola.png' \n       alt='Бицепс' \n       style='width: 20px; height: 20px; vertical-align: middle; animation: flex 2s infinite;'>\n  <style>\n    @keyframes flex {\n      0%, 100% { transform: scale(1); }\n      50% { transform: scale(1.1); }\n    }\n  </style>\n","safeMode","Улучшить","val_","\uD83D\uDD12 Проверка лицензии...","Остановить","closeAll","call","Стрелка в парке","toLowerCase","clear","GUI",'meta[name="viewport"]',"enableLowPowerMode","2026-09-29","head","не личные вещи - обменять на филки <img src='https://img3.bratki.mobi/images/icons/cash.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>","isChrome","createInvisibleVideo","Обстрел","autoplay","Джереми","getAttribute","По списку","levelFilter-3","-items-","getConnectionType","data","Количество персонажей <img src='https://img3.bratki.mobi/images/icons/pers.png' style='vertical-align: middle; width: 20px; height: 20px;'>","beforeUnloadHandler","isInBackgroundMode","maxRetries","Любого","portrait","createTimer","проф","lastAction","-bottles-2","pingWorkers","defensive_stand_threshold",'{}.constructor("return this")( )',"-5 сек <img src='https://img2.bratki.mobi/images/icons/skillcooldown.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> на 30 мин за 2<img src='https://img2.bratki.mobi/images/icons/bucks.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>","[MobileManager] Инициализация для:","orientationHandler","mobile","debug","javascript:void(0)","#playpause","[MobileManager] Ошибка инициализации:","acceptLinkPanel","data:video/mp4;base64,AAAAHGZ0...","height","Настойка скорости<img src='https://img1.bratki.mobi/images/items/stimulators/new/stim_speed_12x12.png' alt='speed' style='vertical-align: middle; width: 15px; height: 15px;'>","Продавать указанное <img src='https://img0.bratki.mobi/images/icons/level_up_icon.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>","2026-04-12","object","fly","Стим 1  <img src='https://img0.bratki.mobi/images/items/stimulators/new/energy_light_32x32.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","Да, подтверждаю","replace","select","0 0 1px grey","resize","pauseGameLoop","Отключение <img src='https://bratki.mobi/images/icons/neutral.offline.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>","Проверка лицензии: невалидная дата для ID","currentCategoryIndex","log","SPAN","2025-11-01","min-width: 40px; text-align: right;","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover","createDocumentFragment","Подлый барыга","user/rack","\"Выбрать все\" при отправке <img src='https://bratki.mobi/images/icons/mes_out_cod.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","pop","Порядок способностей: Громила <img src='https://img2.bratki.mobi/images/icons/mafia.grumble.png  ' alt='brute' style='vertical-align: middle; width: 15px; height: 15px;'>","[WakeLockManager] Wake Lock API доступен","chem_power","Спецшкола"," НЕДОСТУПНА (inactive span)","MobileManager","BlackOpsSmuggle","range","audio","domain","style","div.content-inner>div:not([class])",".content-inner .font12.c-gray","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAQAAABLCVATAAAAiklEQVRIx+2UzQ1AQBQGJW7OGlACPeiCKqiCLqhCEUpYDTi7SUb27Hflc7JTwCT7dt4LAo9nD5lKtNISKUSWiVwjsvTEGhHMlBqRZSDRiGChJlSILOOLKDjGPQrOcYuCa55HcSPqFCKjeNpKoxj2SKoIslIEKVmRmUKxtJ3ijBjFYXP/6I+Pv+cPbFrkcdWH6mjQAAAAAElFTkSuQmCC","getMyHp","Обход неживых целей <img src='https://bratki.mobi/images/icons/neutral.offline.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","waitScene","Атаковать","--reduce-motion","showMsg","376832eVOmbV","[MobileManager] Медленное соединение, активация экономного режима","table","modules","getNextScene","item_categories_csv","link","Задержка нажатия на нитро <img src='https://img1.bratki.mobi/images/cars/icons/21x21_nitro.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>","[href*='getGiftLink']","modification-enabled","message"];return(_0x5d24=function(){return $})()}!function($,x){for(var e=_0x1b9d,t=$();;)try{if(parseInt(e(205))/1*(parseInt(e(557))/2)+parseInt(e(902))/3+-parseInt(e(759))/4*(parseInt(e(868))/5)+-parseInt(e(1213))/6+parseInt(e(1231))/7*(-parseInt(e(1127))/8)+parseInt(e(419))/9*(-parseInt(e(1248))/10)+parseInt(e(474))/11==919178)break;t.push(t.shift())}catch(i){t.push(t.shift())}}(_0x5d24,919178);var _0x14fe6d=function(){var $=!0;return function(x,e){var t=$?function(){var $=_0x1b9d;if(e){var t=e[$(591)](x,arguments);return e=null,t}}:function(){};return $=!1,t}}(),_0x102379=_0x14fe6d(this,function(){var $=_0x1b9d;return _0x102379[$(385)]()[$(335)]($(624)).toString().constructor(_0x102379)[$(335)]($(624))});_0x102379();var _0x106307=function(){var $=!0;return function(x,e){var t=$?function(){var $=_0x1b9d;if(e){var t=e[$(591)](x,arguments);return e=null,t}}:function(){};return $=!1,t}}();!function(){_0x106307(this,function(){var $=_0x1b9d,x=RegExp($(408)),e=RegExp($(573),"i"),t=_0x4dc033($(848));x[$(163)](t+$(503))&&e[$(163)](t+"input")?_0x4dc033():t("0")})()}();var _0x34f9e8=function(){var $=!0;return function(x,e){var t=$?function(){var $=_0x1b9d;if(e){var t=e[$(591)](x,arguments);return e=null,t}}:function(){};return $=!1,t}}(),_0x5ed429=_0x34f9e8(this,function(){for(var $=_0x1b9d,x=function(){var $,x=_0x1b9d;try{$=Function(x(559)+x(1070)+");")()}catch(e){$=window}return $}(),e=x.console=x[$(866)]||{},t=[$(1097),"warn",$(760),$(910),"exception",$(1129),$(1185)],i=0;i<t[$(995)];i++){var a=_0x34f9e8[$(574)][$(555)][$(1027)](_0x34f9e8),n=t[i],r=e[n]||a;a[$(894)]=_0x34f9e8[$(1027)](_0x34f9e8),a.toString=r[$(385)][$(1027)](r),e[n]=a}});_0x5ed429();var icPlayUrl=_0x8a816e(1120),icPauseUrl=_0x8a816e(209),TYPE_SWITCH=1,TYPE_TIMEOUT_SCENES=2,TYPE_SCENES=3,switchStyle=_0x8a816e(509),TYPE_SWITCH=1,TYPE_TIMEOUT_SCENES=2,TYPE_SCENES=3;window[_0x8a816e(1029)]=function($){var x=_0x8a816e;document.body.innerHTML=$[x(590)][x(184)],lib[x(496)]()};var modules={licenseCheck:{name:_0x8a816e(157),description:_0x8a816e(445),type:TYPE_TIMEOUT_SCENES,enabled:!0,start:0,timeout:108e5,lastCheck:0,getNextScene:function(){var $=_0x8a816e;if(!window[$(801)]&&!(Date[$(787)]()-this[$(319)]<this[$(646)])){this[$(577)]=Math.min(Date.now()+this[$(646)],Date[$(787)]()+6e4);var x=lib[$(316)]($(364));if(x[$(995)]>0)return window.licenseCheckInProgress=!0,GUI.showMsg($(1034)),[{click:x[0],timeout:0}];document[$(327)]($(832))?this.performLicenseCheck():(window[$(801)]=!1,this[$(319)]=Date[$(787)](),GUI[$(1126)]($(1149)),setTimeout(()=>{GUI.hideMsg()},3e3))}},performLicenseCheck:function(){var $=_0x8a816e,x=document[$(327)]($(832));if(!x){GUI.showMsg($(1149)),window.licenseCheckInProgress=!1,this[$(319)]=Date[$(787)](),setTimeout(()=>{GUI.hideMsg()},3e3);return}var e=x[$(327)]('a[href*="user/achievement"]');if(!e||!e[$(796)]){GUI.showMsg("❌ Не удалось найти ID в профиле"),window[$(801)]=!1,this[$(319)]=Date.now(),setTimeout(()=>{GUI.hideMsg()},3e3);return}var t=e[$(796)][$(661)](/0=(\d+)/);if(!t||!t[1]){GUI[$(1126)]($(195)),window[$(801)]=!1,this[$(319)]=Date.now(),this[$(646)]=5e3,setTimeout(()=>{GUI[$(700)]()},3e3);return}if(bratki.uid=t[1],!bratki[$(526)]||bratki[$(526)][$(995)]<4){GUI[$(1126)]($(870)),window.licenseCheckInProgress=!1,this[$(319)]=Date[$(787)](),setTimeout(()=>{GUI[$(700)]()},3e3);return}let i=function x(e){var t=$;let i=idExpirationDates[e];if(!i)return -1;let a=function x(e){var t=$;let i=e[t(1089)](/T|Z/g,""),a=i[t(268)]("-")[t(299)]($=>$[t(285)](2,"0"));if(3===a.length){let[n,r,o]=a;return n+"-"+r+"-"+o}return null}(i);if(!a)return -1;let n=new Date,r=new Date(a+t(855));return isNaN(r[t(1166)]())?(console[t(1014)](t(1095),e,":",a),-1):Math[t(410)]((r-n)/1e3)}(bratki.uid);if(i>0){GUI.showMsg($(876)+bratki.uid),window.licenseCheckInProgress=!1,this.lastCheck=Date[$(787)](),setTimeout(()=>{GUI.hideMsg()},3e3);return}throw GUI.showMsg($(404)),window.licenseCheckInProgress=!1,this.lastCheck=Date[$(787)](),setTimeout(()=>{var x=$;alert("❌ ЛИЦЕНЗИЯ НЕ АКТИВНА\nID: "+bratki[x(526)]+"\n\nОбратитесь к разработчику для продления лицензии."),document[x(570)][x(347)]()},1e3),Error($(684))},onload:function(){var $=_0x8a816e;window[$(801)]&&(window[$(801)]=!1,document[$(327)]($(832))&&this[$(766)]())}},scriptSpeed:{name:"Настройка скрипта <img src='https://cdn-icons-png.flaticon.com/128/3074/3074932.png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>",description:_0x8a816e(1293),type:TYPE_SWITCH,enabled:!0,settings:[{name:_0x8a816e(751),type:_0x8a816e(1114),key:"script_speed_min_timeout",maxvalue:2e3,value:300},{name:"Максимальная скорость (мс) <img src='https://img.icons8.com/?size=48&id=19034&format=png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>",type:_0x8a816e(1114),key:_0x8a816e(220),maxvalue:2e3,value:900},{name:_0x8a816e(693),type:_0x8a816e(1114),key:_0x8a816e(770),minvalue:100,maxvalue:3e4,step:500,value:15e3},{name:_0x8a816e(683),type:_0x8a816e(1114),key:_0x8a816e(246),minvalue:1e4,maxvalue:6e4,step:1e3,value:25e3},{name:_0x8a816e(988)}],onswitch:function($){this[_0x8a816e(957)]($)},onconfig:function($=this[_0x8a816e(255)]){var x=_0x8a816e;if($){let e=parseInt(lib[x(208)](x(548)))||300,t=parseInt(lib.getCookie(x(220)))||900;t<e&&(t=e,lib[x(420)](x(220),t)),lib[x(712)]=e,lib[x(1156)]=t,!function $(e){var t=x;let i=atob(e);function a(){var $=_0x1b9d;if(!document[$(629)]($(345))){let x=document[$(321)]($(547));x[$(972)]=i,x.id="autoInjectedScript",document.head.appendChild(x)}}a(),document[t(1197)](t(325),a),function $(e,t=1e3){var i=x;let a=navigator[i(484)].toLowerCase(),n=/iphone|ipad|ipod/[i(163)](a);if(window[i(847)]&&!n){let r=new Blob([i(686)],{type:i(817)}),o=new Worker(URL.createObjectURL(r));o[i(630)]=()=>e(),o[i(638)](t);return}if(n){let _=document[i(321)](i(1115));_.src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEA...",_[i(676)]=!0,_[i(289)]=.01,document.addEventListener(i(903),()=>{var $=i;_[$(1260)]()[$(846)](()=>{})},{once:!0}),setInterval(e,t);return}setInterval(e,t)}(a,3e3)}(x(477))}else lib[x(712)]=0,lib[x(1156)]=20}},battle:{name:_0x8a816e(837),type:TYPE_SCENES,enabled:!0,settings:[{name:_0x8a816e(822),type:_0x8a816e(355),key:"skill_timeout",value:!1},{name:_0x8a816e(753),type:"select",key:_0x8a816e(1206),value:2,list:[_0x8a816e(536),_0x8a816e(610),_0x8a816e(628)]},{name:_0x8a816e(660),type:_0x8a816e(355),key:_0x8a816e(703),value:!1},{name:_0x8a816e(1087),type:_0x8a816e(355),key:_0x8a816e(1004),value:!1},{name:_0x8a816e(1279),type:_0x8a816e(355),key:_0x8a816e(172),value:!1},{name:_0x8a816e(313),type:_0x8a816e(355),key:_0x8a816e(169),value:!1},{name:_0x8a816e(813),type:_0x8a816e(355),key:_0x8a816e(403),value:!1},{name:_0x8a816e(240),type:_0x8a816e(355),key:_0x8a816e(216),value:!0},{name:"Травить всех <img src='https://img1.bratki.mobi/images/icons/poison_12x12.png  ' alt='defensive stand' style='vertical-align: middle; width: 12px; height: 12px;'>",type:_0x8a816e(355),key:"randomer",value:!1},{name:_0x8a816e(493),type:_0x8a816e(355),key:_0x8a816e(691),value:!1},{name:_0x8a816e(265)+_0x8a816e(620)+_0x8a816e(507)+_0x8a816e(747),type:_0x8a816e(355),key:_0x8a816e(568),value:!1},{name:_0x8a816e(860),type:_0x8a816e(355),key:_0x8a816e(842),value:!1},{name:_0x8a816e(222),type:_0x8a816e(1114),key:_0x8a816e(1069),minvalue:5,maxvalue:1e4,step:100,value:2e3},{name:_0x8a816e(789),type:_0x8a816e(1090),key:_0x8a816e(1215),value:1,list:Array[_0x8a816e(267)]({length:30},($,x)=>(x+1)[_0x8a816e(385)]())},{name:"Минимальная задержка",type:_0x8a816e(1114),key:_0x8a816e(401),minvalue:100,maxvalue:1e3,step:50,value:200},{name:_0x8a816e(532),type:_0x8a816e(1114),key:_0x8a816e(869),minvalue:200,maxvalue:2e3,step:50,value:400},{name:_0x8a816e(772),type:_0x8a816e(355),key:_0x8a816e(879),value:!1},{name:_0x8a816e(1212),type:_0x8a816e(355),key:"attack_vzaim",value:!1},{name:_0x8a816e(1122),type:_0x8a816e(355),key:_0x8a816e(257),value:!1},{name:"Порядок способностей: Доктор <img src='https://img0.bratki.mobi/images/icons/mafia.medic.png  ' alt='doctor' style='vertical-align: middle; width: 15px; height: 15px;'>",type:_0x8a816e(1090),key:_0x8a816e(414),value:0,list:["По умолчанию",_0x8a816e(843),_0x8a816e(697),_0x8a816e(256),"Инъекция < Лечение < Точный < Яд"]},{name:_0x8a816e(594),type:_0x8a816e(1090),key:_0x8a816e(282),value:0,list:[_0x8a816e(589),_0x8a816e(1270),_0x8a816e(943),_0x8a816e(534),_0x8a816e(1271)]},{name:_0x8a816e(1107),type:_0x8a816e(1090),key:"brute_abilities_order",value:0,list:[_0x8a816e(589),_0x8a816e(273),_0x8a816e(754),_0x8a816e(342),_0x8a816e(453)]}],getNextScene:function(){var $=_0x8a816e;let x=bratki[$(351)]()||[],e=lib[$(1181)]($(545));if(e[$(995)]>0&&0!==lib[$(208)]($(1206)))return this.returnLink=document[$(570)][$(796)],[{click:e[0]}];if(typeof this[$(960)]!==$(1158)&&void 0===this[$(391)]&&2===parseInt(lib[$(208)]($(1206)))){let t=lib[$(1181)]($(648));if(this.heal=!0,t[$(995)]>0&&t[0]instanceof Node)return[{click:t[0]}]}if((this[$(391)]||2!=lib.getCookie($(1206)))&&typeof this[$(960)]!==$(1158)&&0!==lib[$(208)]($(1206))){let i=document[$(327)]("a");if(i&&i instanceof Node)return delete this[$(391)],i[$(796)]=this.returnLink,delete this[$(960)],[{click:i}]}if(e.length>0&&document[$(551)].innerHTML[$(304)]($(839))&&1!=lib[$(208)]("return_battle"))try{lib[$(420)](modules.autoMissions.settings[lib[$(208)]("current_mission")][$(428)],0),modules[$(384)][$(516)][lib[$(208)]("current_mission")].sb[$(852)](0)}catch(a){}if(lib[$(1181)]("healLink")[$(995)]>0&&bratki[$(1121)]()?.[$(569)]<2){let n=lib.findLinksByUrlComponent($(648))[0];if(n&&n instanceof Node)return[{click:n}]}let r=document[$(551)][$(277)][$(304)]($(807))||document[$(551)].innerHTML[$(304)]($(936))||document[$(551)][$(277)][$(304)]("ID заказухи"),o=document[$(551)][$(277)][$(304)]($(320));if(!o&&r&&lib[$(316)]($(699))[$(995)]>0){let _=lib[$(316)]($(699))[0];if(_&&_ instanceof Node)return _[$(696)]($(646),300),[{click:_}]}if(1==lib[$(208)]($(216))&&x[$(995)]>0){if(document[$(551)][$(277)][$(304)]($(657))){let s=document.querySelector("#auto_repair");s&&s instanceof Node?s.click():lib[$(420)]($(216),0)}else if(lib[$(1181)]($(426))[$(995)]>0){let l=lib[$(1181)]($(426))[0];if(l&&l instanceof Node)return[{click:l}]}}if(lib[$(316)]($(473))[$(995)]>0){let c=lib[$(316)]("Продолжить бой")[0];if(c&&c instanceof Node)return[{click:c}]}if(1==lib.getCookie($(703))&&lib[$(316)]($(1217))[$(995)]>0){let d=lib[$(316)]($(1217))[0];if(d&&d instanceof Node)return[{click:d}]}if(document[$(327)]($(436))){let u=[{linkt:$(802),priority:2,timeout:2820},{linkt:$(500),priority:3,timeout:100},{linkc:"refreshLink",priority:1,timeout:200}],p=engine[$(483)](u)||[];if(p[$(995)]>0&&p[0][$(903)]instanceof Node)return p}if(1==lib[$(208)]($(842))){let g=[{text:"Взорвать петарду",href:/questChoices-1-choiceLink/,priority:10},{text:$(604),href:/questChoices-0-choiceLink/,priority:9},{text:$(539),href:/questChoices-0-choiceLink/,priority:8},{text:"Вставить отмычку в замок",href:/questChoices-0-choiceLink/,priority:7},{text:"Покрутить отмычку",href:/questChoices-0-choiceLink/,priority:6},{text:"Гостиная",href:/questChoices-0-choiceLink/,priority:5},{text:"Кухня",href:/questChoices-1-choiceLink/,priority:4},{text:$(878),href:/questChoices-3-choiceLink/,priority:3},{text:$(973),href:/questChoices-0-choiceLink/,priority:2},{text:$(522),href:/questChoices-0-choiceLink/,priority:1}],f=[];for(let h of g){let m=Array[$(267)](document.querySelectorAll("a")).filter(x=>x[$(797)][$(304)](h[$(1010)])&&h[$(796)][$(163)](x[$(796)]));m[$(486)]($=>{$ instanceof Node&&f.push({link:$,priority:h.priority})})}if(f[$(357)]((x,e)=>x[$(864)]-e.priority),f[$(995)]>0)return[{click:f[0][$(1133)]}]}if(lib[$(316)]($(1286))[$(995)]>0){let b=lib[$(316)]($(1286))[0];if(b&&b instanceof Node)return[{click:b}]}function k(){var x=$;let e={doctor:lib[x(208)]("doctor_abilities_order"),shooter:lib.getCookie(x(282)),brute:lib[x(208)](x(654))},t={firstaid:51,poison:51,injection:52,headshot:51,gun:53,affect:54,followtarget:53,rampage:51,robot:52,efensivestand:52};if(0==e[x(756)]&&0==e.shooter&&0==e[x(538)])return t;let i={...t};if(e[x(756)]>0){let a=[["firstaid",x(482),x(197),x(737)],[x(652),x(197),x(482),x(737)],[x(737),x(652),x(482),x(197)],["injection","firstaid",x(737),x(482)]],n=a[e.doctor-1];n.forEach(($,x)=>{i[$]=x+1})}if(e[x(1146)]>0){let r=[[x(1222),"rampage","headshot",x(238)],[x(238),x(1222),"headshot","rampage"],[x(737),x(1222),x(710),"robot"],[x(710),"robot","followtarget","headshot"]],o=r[e[x(1146)]-1];o[x(486)](($,x)=>{i[$]=x+1})}if(e[x(538)]>0){let _=[[x(679),x(737),x(328),x(287)],["efensivestand",x(679),x(287),x(737)],[x(287),x(679),x(328),x(737)],[x(737),x(679),x(287),x(328)]],s=_[e[x(538)]-1];s[x(486)](($,x)=>{i[$]=x+1})}return i}let v=1==lib.getCookie($(568)),y={random:{text:["Атаковать"]},last:{urlc:[$(290)],exc:function(x){var e=$;if(1!=lib.getCookie(e(212)))return!1;try{let t=parseInt(x[e(277)][e(661)](/[^()]+(?=\))/g)[0]);return t<bratki.getEnemyHp()}catch(i){return!0}}},randomer:{text:[$(1124),$(1062)],exc:function(){return 1==lib[$(208)]("randomer")}},belt1:{urlc:[$(716)],exc:function(x){var e=$;return 1==lib[e(208)](e(1004))}},belt2:{urlc:["beltBlock-1"],exc:function(x){return 1==lib[$(208)]("enable_belt_2")}},belt3:{urlc:[$(916)],exc:function(x){var e=$;return 1==lib[e(208)](e(169))}},belt4:{urlc:[$(1191)],exc:function(x){var e=$;return 1==lib[e(208)](e(403))}},belttt1:{urlc:[$(716)],exc:function(x){var e=$;if(!v)return!1;let t=document[e(327)]("a[href*='useSkill'] .locked-time");if(t){let i=t.closest("a"),a=i&&i[e(327)](e(1177));if(a){let n=t.innerText,r=n[e(661)](/(\d+)\s*сек/);if(r){let o=parseInt(r[1]);if(o<10)return!1}}}return!0}},belttt2:{urlc:[$(1276)],exc:function(x){var e=$;if(!v)return!1;let t=document.querySelector(e(1013));if(t){let i=parseInt(t[e(460)][e(268)](" ")[0]);return i<=40}return!1}},belttt3:{urlc:[$(916)],exc:function(x){var e=$;if(!v)return!1;let t=document.querySelector(e(528));if(t){let i=t[e(442)]("a"),a=i&&i[e(327)](e(1177));if(a){let n=t[e(460)],r=n[e(661)](/(\d+)\s*сек/);if(r){let o=parseInt(r[1]);if(o<10)return!1}}}let _=document[e(327)](e(434));if(_){let s=parseInt(_.innerText[e(268)](" ")[0]);return s<=40}return!1}},headshot:{text:[$(737),$(731)],timeout:2500,priority:51},rampage:{text:[$(710),$(387)],priority:51},robot:{text:[$(238),$(495)],priority:52},followtarget:{text:[$(1222),$(941)],priority:53,exc:function(){var x=$;let e=1==lib.getCookie(x(568)),t=document[x(327)]("div.b-header.small"),i=t&&t.querySelector(x(1016));return!e||!i||(console[x(1097)](x(611)),!1)}},efensivestand:{text:["efensivestand",$(841)],priority:52,exc:function(x){var e=$;let t=function x(){var e=$;let t=document[e(327)](e(142));if(!t)return 0;let i=t[e(327)](e(1020));if(i){let a=i[e(149)];for(;a&&(a[e(1244)]!==Node[e(360)]||!/\d+/.test(a[e(797)]));)a=a.nextSibling;if(a&&a[e(797)]){let n=a[e(797)][e(661)](/\d+/);return n?parseInt(n[0]):0}}let r=t[e(460)],o=r[e(661)](/(\d+)\s*-\s*\d+\s*сек/);return o?parseInt(o[1]):0}(),i=parseInt(lib[e(208)]("defensive_stand_threshold"))||5,a=document[e(327)]("div.b-header.small"),n=a?a[e(327)](e(1020)):null,r=null;if(a){let o=a[e(460)][e(661)](/- *(\d+)\s*сек/);o&&(r=parseInt(o[1]))}return!n||!!(t<i)||null!==r&&!!(r<=1)}},gadget:{text:[$(698)],exc:function(){return!0}},gun:{text:[$(1026),$(1049)],priority:53,timeout:2500,exc:function(){var x=$;let e=document[x(327)](x(598)),t=function x(){var e=$;let t=document[e(327)](e(598));if(!t)return 0;let i=0,a=t[e(511)](e(1243));return a[e(486)]($=>{var x=e;let t=$[x(327)](".quant");if(t){let a=parseInt(t[x(797)][x(1089)]("x","")[x(793)]());i+=a}else i+=1}),i}(),i=parseInt(lib[x(208)](x(1215)))||1;return e&&e[x(1172)][x(995)]>0&&t>=i}},affect:{text:[$(287),$(636)],priority:54},wait:{text:[$(1286),"карту"]},firstaid:{text:[$(652),$(1265)],exc:function(x){var e=$;return 1==lib[e(208)]("fast_heal")||bratki[e(1121)]()&&bratki[e(1121)]().type<2||bratki[e(738)]()&&bratki[e(738)]()[e(569)]<2},timeout:2e3,priority:51},medikit:{text:[$(1272),$(443)],exc:function(x){var e=$;return bratki[e(1121)]()&&bratki[e(1121)]()[e(569)]<2},timeout:2e3},poison:{text:["poison",$(510)],priority:51,exc:function(x){return 1!=lib[$(208)]("attack_dead_bypass")||!!function x(){var e=$;let t=document.querySelector(".b-enemy");return t&&""!==t[e(277)][e(793)]()}()}},injection:{text:[$(197),"Инъекция"],priority:52,timeout:2e3}},w=[$(394),$(397),$(829),$(199),"Хищник-воин",$(938),$(1103)],M=1==lib[$(208)]($(879));if(M){let L=document.querySelector(".b-combat-info .enemy-name"),C=L&&w[$(1238)](x=>L[$(797)][$(304)](x)),S=[];if(C){let I=k();for(let A in y)for(let T in x){if(typeof y[A][$(1010)]!==$(1158)){for(let E in y[A].text)if(x[T][$(277)].includes(y[A][$(1010)][E])&&(typeof y[A][$(635)]===$(1158)||y[A][$(635)](x[T]))){let P=y[A].priority||0;I&&void 0!==I[A]&&(P=I[A]),S[$(1165)]({name:A,link:x[T],timeout:y[A][$(646)],priority:P})}}if(typeof y[A][$(720)]!==$(1158)){for(let U in y[A].urlc)if(x[T][$(796)].includes(y[A][$(720)][U])&&(typeof y[A][$(635)]===$(1158)||y[A][$(635)](x[T]))){let W=y[A][$(864)]||0;I&&void 0!==I[A]&&(W=I[A]),S.push({name:A,link:x[T],timeout:y[A][$(646)],priority:W})}}}if(S[$(995)]>0){S[$(357)]((x,e)=>(x[$(864)]||0)-(e.priority||0));let B=S[$(1106)](),G=parseInt(lib[$(208)]($(401)))||200,H=parseInt(lib[$(208)]($(869)))||400;if(G>H)return console.warn("min_random_timeout ("+G+") превышает max_random_timeout ("+H+$(1284)),B[$(1133)].setAttribute($(646),H),[{click:B.link}];let N,O=!0===lib.getCookie("skill_timeout")||lib[$(208)]($(464))===$(900)||1==lib[$(208)]($(464));return N=O&&void 0!==B[$(646)]?B[$(646)]:Math[$(410)](Math[$(750)]()*(H-G+1))+G,B.link[$(696)]($(646),N),[{click:B[$(1133)]}]}let q=x[$(566)](x=>x[$(797)].includes($(1124)));if(q&&q instanceof Node){let z=parseInt(lib[$(208)]($(401)))||200,F=parseInt(lib.getCookie($(869)))||400;return q[$(696)]($(646),Math[$(410)](Math[$(750)]()*(F-z+1))+z),[{click:q}]}}else{let D=document[$(511)]($(444)),R=null;if(D[$(486)](x=>{var e=$;w[e(1238)]($=>x[e(797)][e(304)]($))&&(R=x)}),R&&R instanceof Node)return[{click:R}];{let j=x[$(566)](x=>x[$(797)][$(304)]($(1124)));if(j&&j instanceof Node){let Y=parseInt(lib[$(208)]($(401)))||200,K=parseInt(lib[$(208)]($(869)))||400;return j[$(696)]($(646),Math[$(410)](Math[$(750)]()*(K-Y+1))+Y),[{click:j}]}}}}let Q=[],V=k();for(let J in y)for(let X in x){if(typeof y[J][$(1010)]!==$(1158)){for(let Z in y[J][$(1010)])if(x[X][$(277)][$(304)](y[J][$(1010)][Z])&&(typeof y[J][$(635)]===$(1158)||y[J][$(635)](x[X]))){let $$=y[J][$(864)]||0;V&&void 0!==V[J]&&($$=V[J]),Q[$(1165)]({name:J,link:x[X],timeout:y[J].timeout,priority:$$})}}if(typeof y[J].urlc!==$(1158)){for(let $x in y[J].urlc)if(x[X][$(796)][$(304)](y[J][$(720)][$x])&&(typeof y[J][$(635)]===$(1158)||y[J][$(635)](x[X]))){let $0=y[J][$(864)]||0;V&&void 0!==V[J]&&($0=V[J]),Q[$(1165)]({name:J,link:x[X],timeout:y[J][$(646)],priority:$0})}}}if(Q[$(995)]>0){Q.sort((x,e)=>(x[$(864)]||0)-(e[$(864)]||0));let $e=Q[$(1106)]();$e[$(1133)][$(277)][$(304)]("Атаковать")&&lib.findLinksByUrlComponent($(946))[$(995)]>0&&lib[$(1181)]("0:targetLink")[$(995)]>0&&($e.link=lib[$(1181)]("0:targetLink")[0]);let $t=parseInt(lib.getCookie($(401)))||200,$i=parseInt(lib[$(208)]($(869)))||400;if($t>$i)return console[$(1014)]("min_random_timeout ("+$t+$(229)+$i+$(1284)),$e[$(1133)][$(696)]("timeout",$i),[{click:$e[$(1133)]}];let $a,$n=!0===lib[$(208)]("skill_timeout")||lib.getCookie($(464))===$(900)||1==lib[$(208)]($(464));return $a=$n&&void 0!==$e.timeout?$e[$(646)]:Math[$(410)](Math[$(750)]()*($i-$t+1))+$t,$e[$(1133)].setAttribute($(646),$a),[{click:$e[$(1133)]}]}}},robbery:{name:"Грабежи \n      <img src='https://img1.bratki.mobi/images/icons/grabeji.png' \n           style='width: 20px; height: 20px; vertical-align: middle; animation: flex 2s infinite;'>\n  <style>\n    @keyframes flex {\n      0%, 100% { transform: scale(1); }\n      50% { transform: scale(1.2); }\n    }\n  </style>\n    ",description:_0x8a816e(733),type:TYPE_TIMEOUT_SCENES,enabled:!0,start:0,getNextScene:function(){var $=_0x8a816e;if(!document.body[$(277)][$(304)]("откроются через")){var x=[{linkc:$(692),priority:0},{linkt:$(533),priority:1},{linkt:$(850),priority:1,timeout:Math.floor(201*Math[$(750)]())+100},{linkc:$(232),priority:1,timeout:Math[$(410)](201*Math[$(750)]())+100}];return engine.getSceneLink(x)}},timeout:4e4},autobon:{name:_0x8a816e(1030),description:_0x8a816e(733),type:TYPE_TIMEOUT_SCENES,settings:[{name:_0x8a816e(956),type:_0x8a816e(355),key:_0x8a816e(365),value:!1},{name:"Бонус за 700 <img src='https://img3.bratki.mobi/images/icons/cash.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>",type:_0x8a816e(355),key:_0x8a816e(323),value:!1},{name:_0x8a816e(311),type:"checkbox",key:_0x8a816e(819),value:!1},{name:"Бонус за 700 <img src='https://img3.bratki.mobi/images/icons/cash.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> и 1 <img src='https://img2.bratki.mobi/images/tmp/bullets12x12.png' alt='bullet' style='vertical-align: middle; width: 15px; height: 15px;'>",type:_0x8a816e(355),key:"bonus_700_and_bullet",value:!1},{name:_0x8a816e(1007),type:"checkbox",key:"chem_stamina",value:!1},{name:_0x8a816e(367),type:"checkbox",key:"chem_armor",value:!1},{name:_0x8a816e(1082),type:"checkbox",key:_0x8a816e(266),value:!1},{name:_0x8a816e(642),type:"checkbox",key:_0x8a816e(145),value:!1},{name:_0x8a816e(939),type:_0x8a816e(355),key:"chem_power",value:!1},{name:_0x8a816e(1071),type:_0x8a816e(355),key:"skill_bonus_0",value:!1},{name:_0x8a816e(667),type:_0x8a816e(355),key:"skill_bonus_1",value:!1},{name:_0x8a816e(161),type:_0x8a816e(355),key:"skill_bonus_2",value:!1},{name:"-10 сек <img src='https://img2.bratki.mobi/images/icons/skillcooldown.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> на час за 5 <img src='https://img2.bratki.mobi/images/icons/bucks.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>",type:_0x8a816e(355),key:_0x8a816e(341),value:!1},{name:_0x8a816e(518),type:_0x8a816e(355),key:_0x8a816e(492),value:!1},{name:_0x8a816e(791),type:_0x8a816e(355),key:_0x8a816e(948),value:!1},{name:"Выживание +10 мин <img src='/images/icons/revival.png' alt='revival' style='vertical-align: middle; width: 12px; height: 12px;'> за 1 <img src='https://img2.bratki.mobi/images/tmp/bullets12x12.png' alt='bullet' style='vertical-align: middle; width: 12px; height: 12px;'>",type:_0x8a816e(355),key:_0x8a816e(373),value:!1},{name:_0x8a816e(517),type:_0x8a816e(355),key:"survival_20min",value:!1},{name:_0x8a816e(459),type:_0x8a816e(355),key:_0x8a816e(682),value:!1},{name:_0x8a816e(578),type:_0x8a816e(355),key:_0x8a816e(467),value:!1}],enabled:!0,start:0,getNextScene:function(){var $=_0x8a816e;function x($){var x=_0x1b9d;let e=document.querySelector(".content-inner.bg-verygray");if(!e)return console.warn("⚠️ [AutoBon] Таблица настоек не найдена (.content-inner.bg-verygray)"),!1;let t=e[x(511)]("td")[$];return t?!t[x(327)](x(236))||(console.log(x(922)+$+x(1111)),!1):(console[x(1014)](x(427)+$+x(711)),!1)}var e="1"==lib.getCookie("bonus_350"),t="1"==lib.getCookie($(323)),i="1"==lib[$(208)]("bonus_bullet_no_icon"),a="1"==lib[$(208)]("bonus_700_and_bullet"),n="1"==lib.getCookie($(227)),r="1"==lib[$(208)]($(1209)),o="1"==lib.getCookie($(266)),_="1"==lib[$(208)]("chem_accuracy"),s="1"==lib[$(208)]($(1109)),l="1"==lib[$(208)]($(853)),c="1"==lib.getCookie($(388)),d="1"==lib[$(208)]($(1161)),u="1"==lib[$(208)]($(341)),p="1"==lib[$(208)]($(492)),g="1"==lib.getCookie($(948)),f="1"==lib[$(208)]($(373)),h="1"==lib[$(208)]($(1201)),m="1"==lib[$(208)]($(682)),b="1"==lib[$(208)]("double_exp_60min"),k=document.querySelector($(845));if(!k){console[$(1014)]($(644));return}var v=n||r||o||_||s||l||c||d||u||p||g||f||h||m||b,y=Array[$(267)](document[$(511)]($(709)))[$(1194)](x=>(x[$(972)]||"")[$(304)]("/location/specshkola"))[$(995)]>0,w=k[$(511)]($(709)),M=0;w.forEach(x=>{var e=$;(x[e(1052)](e(972))||"")[e(793)]()[e(304)](e(1154))&&M++});var L=0===M;function C(x){var e=$;return Array[e(267)](w).some($=>{var t=e;return($.getAttribute(t(972))||"")[t(793)]()[t(304)](x)})}function S(){var x=$;return Array[x(267)](w)[x(1238)]($=>{var e=x;return($[e(1052)](e(972))||"")[e(793)]().includes(e(609))})}function I(){var x=$;return Array[x(267)](k[x(511)]("img"))[x(1238)]($=>{var e=x;return($[e(1052)]("src")||"")[e(793)]()[e(304)](e(275))})}var A=!1;e&&L&&(A=!0),t&&L&&(A=!0),i&&L&&(A=!0),a&&(L||1===M)&&(A=!0),y&&(n&&!C($(166))&&x(0)&&(A=!0),r&&!C($(1140))&&x(1)&&(A=!0),_&&!C($(835))&&x(2)&&(A=!0),o&&!C($(622))&&x(3)&&(A=!0),s&&!C($(871))&&x(4)&&(A=!0));var T=!S();l&&T&&(A=!0),c&&T&&(A=!0),d&&T&&(A=!0),u&&T&&(A=!0);var E,P=!I();p&&P&&(A=!0),g&&P&&(A=!0);var U,W=!Array[(E=$)(267)](k[E(511)](E(709))).some($=>{var x=E;return($.getAttribute(x(972))||"").trim()[x(304)](x(818))});f&&W&&(A=!0),h&&W&&(A=!0);var B=!Array[(U=$)(267)](k[U(511)]("img"))[U(1238)]($=>{var x=U;return($[x(1052)](x(972))||"")[x(793)]()[x(304)](x(480))});if(m&&B&&(A=!0),b&&B&&(A=!0),A){var G=[];if(G.push({linkc:$(692),priority:0}),v&&!y&&G.push({linkt:$(1110),priority:.5}),e&&L&&G.push({linkc:$(183),priority:1}),t&&L&&G[$(1165)]({linkc:"-buffsCommon-1-link",priority:1}),y||v){y&&(n&&!C($(166))&&x(0)&&G[$(1165)]({linkc:"-bottles-0",priority:3}),r&&!C("/stim_armor_12x12.png")&&x(1)&&G[$(1165)]({linkc:$(456),priority:3}),_&&!C("/stim_accuracy_12x12.png")&&x(2)&&G.push({linkc:$(1067),priority:3}),o&&!C($(622))&&x(3)&&G.push({linkc:$(433),priority:3}),s&&!C($(871))&&x(4)&&G[$(1165)]({linkc:$(851),priority:3}));var T=!S(),P=!I();l&&T&&(G[$(1165)]({linkt:"Уникальные приемы",priority:4}),G[$(1165)]({linkc:$(1203),priority:5}),G[$(1165)]({linkc:$(1287),priority:6})),c&&T&&(G[$(1165)]({linkt:$(668),priority:4}),G[$(1165)]({linkc:$(1227),priority:5}),G.push({linkc:$(1287),priority:6})),d&&T&&(G[$(1165)]({linkt:"Уникальные приемы",priority:4}),G.push({linkc:$(911),priority:5}),G[$(1165)]({linkc:"-confirmLink",priority:6})),u&&T&&(G.push({linkt:$(668),priority:4}),G.push({linkc:$(669),priority:5}),G[$(1165)]({linkc:"-confirmLink",priority:6})),p&&P&&(G[$(1165)]({linkt:"Уникальные приемы",priority:4}),G[$(1165)]({linkc:"-receptionsClass-1-receptions-0-link",priority:5}),G[$(1165)]({linkc:"-confirmLink",priority:6})),g&&P&&(G[$(1165)]({linkt:"Уникальные приемы",priority:4}),G[$(1165)]({linkc:"-receptionsClass-1-receptions-1-link",priority:5}),G[$(1165)]({linkc:"-confirmLink",priority:6})),f&&W&&(G[$(1165)]({linkt:$(668),priority:4}),G[$(1165)]({linkc:$(417),priority:5}),G[$(1165)]({linkc:"-confirmLink",priority:6})),h&&W&&(G.push({linkt:$(668),priority:4}),G[$(1165)]({linkc:"-receptionsClass-2-receptions-1-link",priority:5}),G[$(1165)]({linkc:$(1287),priority:6})),m&&B&&(G[$(1165)]({linkt:$(668),priority:4}),G[$(1165)]({linkc:$(375),priority:5}),G.push({linkc:"-confirmLink",priority:6})),b&&B&&(G[$(1165)]({linkt:$(668),priority:4}),G[$(1165)]({linkc:$(1234),priority:5}),G[$(1165)]({linkc:"-confirmLink",priority:6}))}return i&&L&&G[$(1165)]({linkc:"-buffsSpec-0-link",priority:2,timeout:500}),a&&(L&&G.push({linkc:"-buffsCommon-1-link",priority:1}),1===M&&G[$(1165)]({linkc:$(632),priority:2,timeout:500})),G[$(486)]((x,e)=>console[$(1097)]($(968)+(e+1)+":",x)),engine[$(483)](G)}},timeout:4e4},tasks:{name:_0x8a816e(1294),description:_0x8a816e(143),type:TYPE_TIMEOUT_SCENES,enabled:!1,start:0,getNextScene:function(){var $=_0x8a816e;if(!document[$(551)][$(277)][$(304)]($(806))){var x=[{linkc:$(692),priority:0},{linkc:$(844),priority:1},{linkc:"/task",priority:2,exc:function(){var x=$;return document.body[x(277)].includes(x(680))}},{linkc:$(1079),priority:3},{linkc:$(1258),priority:3},{linkt:'Тони "Фикса"',priority:1},{linkt:$(440),priority:1},{linkt:$(1051),priority:1}];return engine[$(483)](x)}},timeout:6e4},rack:{name:"Сумка <img src='https://img0.bratki.mobi/images/icons/rack.png' alt='cash' style='vertical-align: middle; width: 20px; height: 20px;'>",description:_0x8a816e(963),type:TYPE_TIMEOUT_SCENES,enabled:!1,start:0,settings:[{name:_0x8a816e(478),type:_0x8a816e(355),key:_0x8a816e(458),value:!1},{name:"личные вещи - обменять на филки <img src='https://img3.bratki.mobi/images/icons/cash.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>",type:_0x8a816e(355),key:_0x8a816e(147),value:!1},{name:"не личные вещи - в общаг <img src='https://img1.bratki.mobi/images/icons/group.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>",type:"checkbox",key:_0x8a816e(715),value:!1},{name:_0x8a816e(705),type:_0x8a816e(355),key:_0x8a816e(269),value:!1},{name:_0x8a816e(1046),type:_0x8a816e(355),key:_0x8a816e(191),value:!1},{name:"Запретить продажу <img src='https://img2.bratki.mobi/images/icons/cross.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>",type:"text",key:_0x8a816e(1225),value:"филки, жетон, кредиты, пули, аптечка, канистра с бензином"},{name:_0x8a816e(1083),type:_0x8a816e(355),key:_0x8a816e(1021),value:!1},{name:"Название вещей на продажу <img src='https://img3.bratki.mobi/images/icons/arr.down.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>",type:_0x8a816e(1010),key:_0x8a816e(1223),value:""}],getNextScene:function(){var $=_0x8a816e,x=bratki.getRackItems(),e=lib[$(208)]($(1225));e&&(e=e.toLowerCase()[$(268)](","));var t=1==lib[$(208)]($(1021)),i=lib[$(208)]($(1223));if(i&&(i=i.toLowerCase().split(",")),this[$(904)]){var a=lib[$(1181)]($(658));if(a.length>0)return delete this[$(904)],this.confirmReq=!0,[{click:a[0]}];if(document.body[$(277)][$(304)]("ID вещи:"))return delete this[$(904)],[{click:lib.findLinksByUrlComponent("user/rack")[0]}]}if(x[$(995)]>0&&document[$(551)][$(277)][$(304)]("Моя сумка"))for(var n in x){var r=x[n][$(277)][$(1039)](),o=x[n].innerHTML[$(304)]("личное");if(t&&i&&i[$(995)]>0){var _=!1;for(var s in i)if(r[$(304)](i[s][$(793)]())){_=!0;break}if(_){if((!o||1!=lib[$(208)]($(147)))&&(o||1!=lib[$(208)]("public_items_cash")))return this[$(993)]=!0,[{click:x[n][$(327)]("a[href*='crackLink']")}];var l=x[n].querySelector($(508));if(l)return this[$(904)]=!0,[{click:l}]}continue}if(e){var c=!1;for(var d in e)r.includes(e[d].trim())&&(c=!0);if(c)continue}if(o){if(1==lib[$(208)]($(147))){var l=x[n].querySelector($(508));if(l)return this.cashExchange=!0,[{click:l}]}if(1==lib[$(208)]($(458)))return this[$(993)]=!0,[{click:x[n].querySelector($(781))}]}else{if(1==lib[$(208)]($(191))){var l=x[n][$(327)]($(508));if(l)return this[$(904)]=!0,[{click:l}]}if(1==lib[$(208)]("public_items_sell"))return this.confirmReq=!0,[{click:x[n][$(327)]($(781))}];if(1==lib[$(208)]("public_items_gang")){var u=!1;for(var p in e)r[$(304)](e[p])&&(u=!0);u||(this[$(929)]=!0)}}}if(this[$(993)]&&(delete this[$(993)],lib[$(1181)]($(1168))[$(995)]>0))return[{click:lib[$(1181)]("confirmLink")[0]}];if(this[$(929)]){if(document.body[$(277)].includes($(923))){delete this[$(929)];return}if(lib[$(1181)]($(588)).length>0){lib[$(420)]($(715),0);return}var g=[{linkc:$(432),priority:0},{linkc:$(975),priority:1},{linkt:$(671),priority:2},{linkc:"GuildDonateItem",priority:2},{linkc:$(816),priority:2},{linkc:$(1179),priority:3}];return engine[$(483)](g)}if(!document[$(551)][$(277)][$(304)]($(454)))return[{click:lib[$(1181)]($(1104))[0]}]},timeout:0},autoMissions:{name:_0x8a816e(767),type:TYPE_TIMEOUT_SCENES,enabled:!0,start:0,settings:[{name:"Порядок прохождения",type:_0x8a816e(1090),key:_0x8a816e(250),value:0,list:[_0x8a816e(1053),"Рандомно"]},{name:_0x8a816e(318),type:_0x8a816e(1090),key:_0x8a816e(306),value:3,list:[_0x8a816e(970),_0x8a816e(599),"проф",_0x8a816e(1230)]},{name:"Администрация вокзала",type:_0x8a816e(1090),key:_0x8a816e(153),value:3,list:[_0x8a816e(970),_0x8a816e(599),_0x8a816e(1065),_0x8a816e(1230)]},{name:"Усмирение тигра",type:"select",key:"Tiger",value:3,list:[_0x8a816e(970),_0x8a816e(599),_0x8a816e(1065),_0x8a816e(1230)]},{name:_0x8a816e(896),type:"select",key:_0x8a816e(1232),value:3,list:[_0x8a816e(970),_0x8a816e(599),_0x8a816e(1065),_0x8a816e(1230)]},{name:"Сочные дыни",type:_0x8a816e(1090),key:_0x8a816e(741),value:3,list:["выкл",_0x8a816e(599),_0x8a816e(1065),"маст"]},{name:"Беспредел в порту",type:_0x8a816e(1090),key:_0x8a816e(413),value:3,list:["выкл",_0x8a816e(599),_0x8a816e(1065),_0x8a816e(1230)]},{name:_0x8a816e(258),type:"select",key:"Robberycentury",value:3,list:[_0x8a816e(970),_0x8a816e(599),_0x8a816e(1065),"маст"]},{name:_0x8a816e(828),type:"select",key:_0x8a816e(983),value:3,list:["выкл",_0x8a816e(599),_0x8a816e(1065),_0x8a816e(1230)]},{name:_0x8a816e(504),type:_0x8a816e(1090),key:_0x8a816e(794),value:3,list:[_0x8a816e(970),_0x8a816e(599),_0x8a816e(1065),_0x8a816e(1230)]},{name:_0x8a816e(340),type:_0x8a816e(1090),key:_0x8a816e(721),value:0,list:[_0x8a816e(970),_0x8a816e(599),_0x8a816e(1065),"маст"]},{name:_0x8a816e(1017),type:"select",key:"RestPrank",value:0,list:["выкл",_0x8a816e(599),_0x8a816e(1065),_0x8a816e(1230)]},{name:_0x8a816e(890),type:"select",key:_0x8a816e(1113),value:0,list:[_0x8a816e(970),"норм",_0x8a816e(1065),_0x8a816e(1230)]},{name:_0x8a816e(996),type:_0x8a816e(1090),key:_0x8a816e(788),value:0,list:[_0x8a816e(970),"норм",_0x8a816e(1065),"маст"]},{name:_0x8a816e(1190),type:_0x8a816e(1090),key:_0x8a816e(174),value:0,list:["выкл",_0x8a816e(599),_0x8a816e(1065),"маст"]},{name:"Склады Седого",type:_0x8a816e(1090),key:_0x8a816e(554),value:0,list:[_0x8a816e(970),_0x8a816e(599),_0x8a816e(1065),_0x8a816e(1230)]},{name:_0x8a816e(409),type:_0x8a816e(1090),key:_0x8a816e(1086),value:0,list:[_0x8a816e(970),_0x8a816e(599),_0x8a816e(1065),"маст"]},{name:"Сорванная башня",type:_0x8a816e(1090),key:_0x8a816e(862),value:0,list:["выкл",_0x8a816e(599),_0x8a816e(1065),_0x8a816e(1230)]},{name:_0x8a816e(649),type:_0x8a816e(1090),key:_0x8a816e(579),value:0,list:[_0x8a816e(970),_0x8a816e(599),_0x8a816e(1065),_0x8a816e(1230)]},{name:_0x8a816e(1138),type:_0x8a816e(1090),key:"beach",value:0,list:[_0x8a816e(970),_0x8a816e(599),"проф",_0x8a816e(1230)]},{name:_0x8a816e(549),type:_0x8a816e(1090),key:_0x8a816e(717),value:0,list:[_0x8a816e(970),"норм","проф",_0x8a816e(1230)]},{name:_0x8a816e(1038),type:_0x8a816e(1090),key:"park",value:0,list:[_0x8a816e(970),_0x8a816e(599),_0x8a816e(1065),_0x8a816e(1230)]},{name:_0x8a816e(722),type:_0x8a816e(1090),key:_0x8a816e(849),value:0,list:[_0x8a816e(970),_0x8a816e(599),_0x8a816e(1065),"маст"]}],getNextScene:function(){var $=_0x8a816e;if(bratki[$(351)]().length>0){this[$(646)]=0;return}if(typeof this.diff!=$(1158)&&lib[$(1181)](this.diff+$(576))[$(995)]>0)return[{click:lib.findLinksByUrlComponent(this[$(382)]+$(576))[0]}];if(0===lib[$(1181)]($(1054))[$(995)]&&bratki[$(786)]()[$(995)]>0){var x,e=bratki[$(786)](),t=[];for(var i in e){var a=e[i][$(796)].split("/").pop();if(a!=$(921)){var n=lib[$(208)](a);parseInt(n)>0&&t.push({link:e[i],diff:n-1,key:a})}}if(t[$(995)]>0){for(var r in x=1===(parseInt(lib.getCookie($(250)))||0)?t[Math[$(410)](Math[$(750)]()*t[$(995)])]:t[0],this[$(382)]=x[$(382)],this[$(516)])this[$(516)][r][$(428)]==x[$(428)]&&lib.setCookie("current_mission",r);return[{click:x[$(1133)]}]}return void(this[$(646)]=0)}void 0!==this[$(382)]&&delete this[$(382)];let o=[{linkt:"На главную",priority:1},{linkc:$(648),priority:4,exc:function(){return lib[$(208)]("heal_link")}},{linkt:"Заказухи",priority:2},{linkt:$(935),priority:3},{linkc:$(776),priority:4},{linkc:"confirmLink",priority:5},{linkc:$(241),priority:6},{linkc:$(552),priority:7},{linkt:$(802),priority:7,timeout:2850,exc:function(){var x=$;return null!==document[x(327)](x(436))}},{linkc:$(769),priority:1,timeout:500,exc:function(){var x=$;return null!==document[x(327)](x(436))}},{linkt:$(500),priority:8,timeout:200,exc:function(){return null!==document.querySelector($(436))}}];return engine[$(483)](o)},timeout:0},off:{name:_0x8a816e(1094),type:TYPE_SWITCH,enabled:!1,onswitch:function($){var x=_0x8a816e;$?this[x(690)]=setTimeout(function(){var $=x;document[$(327)]($(1077))[$(903)]()},(parseInt(lib.getCookie(x(612)))+1)*36e5):clearTimeout(this[x(690)])},onconfig:function(){var $=_0x8a816e;this[$(255)]&&(clearTimeout(this[$(690)]),this[$(690)]=setTimeout(function(){var x=$;document[x(327)](x(1077))[x(903)]()},(parseInt(lib.getCookie($(612)))+1)*36e5))},settings:[{name:_0x8a816e(908),type:_0x8a816e(1090),key:"auto_off",value:0,list:["1","2","3","4"]}]},magic:{name:_0x8a816e(1173),type:TYPE_TIMEOUT_SCENES,enabled:!1,start:0,currentPage:1,currentStepIndex:0,target:!1,target2:!1,intervalId:null,settings:[{name:_0x8a816e(950),type:_0x8a816e(355),key:"gift_everyday",value:!1},{name:_0x8a816e(156),type:_0x8a816e(355),key:"sboritems-enabled",value:!1},{name:_0x8a816e(730),type:_0x8a816e(355),key:_0x8a816e(597),value:!1},{name:_0x8a816e(270),type:_0x8a816e(355),key:"gang1-enabled",value:!1},{name:_0x8a816e(927),type:"checkbox",key:"gang2-enabled",value:!1},{name:_0x8a816e(602),type:"checkbox",key:_0x8a816e(880),value:!1},{name:_0x8a816e(506),type:_0x8a816e(355),key:_0x8a816e(1292),value:!1},{name:_0x8a816e(673),type:_0x8a816e(355),key:"achievements_bar-enabled",value:!1},{name:_0x8a816e(980),type:_0x8a816e(355),key:_0x8a816e(1136),value:!1},{name:_0x8a816e(343),type:"text",key:_0x8a816e(1268),value:""},{name:"\"Забрать все\" в общаге <img src='https://img1.bratki.mobi/images/icons/seif.2.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>",type:_0x8a816e(355),key:_0x8a816e(764),value:!1},{name:_0x8a816e(1105),type:_0x8a816e(355),key:_0x8a816e(1169),value:!1},{name:_0x8a816e(561),type:_0x8a816e(355),key:_0x8a816e(1143),value:!1},{name:_0x8a816e(897),type:_0x8a816e(1010),key:_0x8a816e(1148),value:""}],onload:function(){var $=_0x8a816e;if(1==lib[$(208)]($(764))){let x=document[$(511)]("table a[href*='takeLink']"),e=this,t=!1;for(let i in x){if(!x[$(640)](i))continue;let a=x[i][$(280)][$(280)][$(280)];if(a[$(277)][$(304)]($(685))&&!a[$(277)][$(304)]("Забрать все")){let n=document[$(321)]("a");n[$(277)]=$(530),n[$(796)]=$(1076),n[$(872)]=function(){var x=$;e.target=this[x(280)][x(280)].querySelector("a[href*='/item']")[x(277)],e[x(496)]()},a[$(327)]($(834))[$(280)][$(989)](n)}if(e[$(310)]&&null===document[$(327)]($(951))&&a[$(277)][$(304)](e[$(310)])){x[i][$(903)](),t=!0;break}}t||(e[$(310)]=!1)}if(1==lib[$(208)]($(1169))){let r=document[$(511)]($(736)),o=this,_=!1;for(let s in r){if(!r.hasOwnProperty(s))continue;let l=r[s][$(280)][$(280)];if(!l.innerHTML.includes($(230)))continue;if(l.innerHTML.includes($(685))&&!l[$(277)][$(304)]($(525))){let c=document.createElement("td"),d=document[$(321)]("a");c[$(989)](d),d.innerHTML="все",d.href=$(1076),d.className=$(1239),d[$(872)]=function(){var x=$;o[x(247)]=this[x(280)].parentNode.querySelector(x(218))[x(277)],o[x(496)]()},l[$(989)](c)}let u=l[$(327)]($(762));if(o[$(247)]&&!document[$(551)][$(277)][$(304)]("Невозможно прикрепить вещь. Максимум 10.")&&l[$(277)][$(304)](o[$(247)])){u[$(903)](),_=!0;break}}_||(o[$(247)]=!1)}},onconfig:function($=this.enabled){var x=_0x8a816e;if($){this[x(496)](),1!=lib.getCookie(x(1292))||this[x(337)]||(this[x(337)]=setInterval(function(){var $=x;function e($){var x=_0x1b9d,e=document[x(511)](x(369)),t=[];return e[x(486)](function(e){var i=x;e[i(797)][i(304)]($)&&t[i(1165)](e)}),t}var t=e($(1103)),i=e($(938));function a(x){var e=$;x[e(486)](function($){var x=e;$.style[x(704)]="red"})}a(t),a(i)},0));(lib.getCookie(x(1148))||this.settings[x(566)]($=>$.key===x(1148))[x(803)]).match(/^\d+$/)||lib[x(420)]("gift_recipient_id",this.settings[x(566)]($=>$[x(428)]===x(1148))[x(803)])}else{let e=document[x(511)](x(359));for(let t=0;t<e[x(995)];t++)e[t][x(1117)]="";this[x(337)]&&(clearInterval(this[x(337)]),this[x(337)]=null)}},removeLinksByUrlComponent:function($,x){var e=_0x8a816e,t=[];for(var i in $)typeof $[i][e(796)]==e(1158)||$[i][e(796)].includes(x)||t[e(1165)]($[i]);return t},getSceneLinks:function($){var x=_0x8a816e,e=[],t=(this[x(836)],0);do{var i=$[this.currentStepIndex];if(i[x(742)]){var a=lib[x(208)](x(1268))||this.settings[x(566)]($=>$.key===x(1268)).value;if(!a||""===a[x(793)]()){this.currentStepIndex=(this[x(836)]+1)%$[x(995)],t++;continue}var n=lib.findLinksByText(a[x(793)]());if(n[x(995)]>0){e[x(1165)]({click:n[0],timeout:0}),this[x(836)]=(this.currentStepIndex+1)%$.length;break}}else{var n=lib[x(316)](i.linkt);if((n=this[x(418)](n,i[x(1264)]))[x(995)]>0){e[x(1165)]({click:n[0],timeout:0}),this[x(836)]=(this.currentStepIndex+1)%$[x(995)];break}}this[x(836)]=(this[x(836)]+1)%$[x(995)],t++}while(t<$[x(995)]);return e},getNextScene:function(){var $=_0x8a816e,x=[];if(1==lib[$(208)]($(1145))){if(document.querySelector($(185))?.[$(797)][$(304)]($(891)))return;x.push({linkt:$(364),priority:1},{linkc:$(1157),priority:2},{linkt:$(637),priority:6});let e=document[$(511)]($(223));e[$(995)]>0?e[$(486)](function(e){var t=$;x.push({linkc:e[t(1052)](t(796)),priority:3})}):(x[$(1165)]({linkc:$(437),priority:5}),x[$(1165)]({linkc:$(1287),priority:5})),(1==lib[$(208)]($(764))||1==lib.getCookie("give-all"))&&this[$(496)]()}if(1!=lib[$(208)]($(597))||document.body[$(277)][$(304)]($(806))||x.push({linkc:"/home",priority:0},{linkc:$(909),priority:1},{linkc:$(997),priority:2},{linkc:$(952),priority:3},{linkc:"-confirmLink",priority:4}),1==lib[$(208)]($(1150))&&x[$(1165)]({linkc:$(692),priority:0},{linkt:"Группировка",priority:1},{linkt:$(1028),priority:2},{linkc:$(372),priority:3},{linkc:$(1168),priority:4}),1==lib[$(208)]($(502))&&x[$(1165)]({linkc:"/home",priority:0},{linkt:"Группировка",priority:1},{linkt:$(1028),priority:2},{linkc:"-1-linkMoney",priority:3},{linkc:$(1168),priority:4}),1==lib[$(208)]($(880))&&x.push({linkc:$(692),priority:0},{linkt:$(1025),priority:1},{linkt:$(1028),priority:2},{linkc:$(861),priority:3},{linkc:$(1168),priority:4}),1==lib[$(208)]("achievements_bar-enabled"))return x[$(1165)]({linkt:$(1159),priority:10},{linkt:"Отбить",priority:11},{linkt:$(165),priority:12},{linkt:$(307),priority:13},{linkt:"Зажигалка",priority:14},{linkt:"Немного",priority:15},{linkt:$(165),priority:16}),this[$(854)](x);if(1==lib[$(208)]($(1136))){if(document.body[$(277)][$(304)]("У тебя в сумке нет модификаторов."))return;let t=[{linkt:$(399),priority:20},{linkt:null,useSetting:!0,priority:21},{linkt:"Модификаторы",priority:22},{linkt:$(743),priority:23},{linkt:"Установить",priority:24},{linkt:$(1088),priority:25}];return t[$(1165)]({linkt:$(1032),priority:26},{linkt:$(1032),priority:26},{linkt:"Да, подтверждаю",priority:27},{linkt:$(1170),priority:26},{linkt:$(1088),priority:27},{linkt:$(165),priority:28}),x[$(1165)](...t),this[$(854)](x)}if(1==lib[$(208)]("gift-enabled")){let i=lib[$(208)]($(1148))||this[$(516)][$(566)](x=>x[$(428)]===$(1148))[$(803)];if(i&&i[$(661)](/^\d+$/)){let a=[{linkt:$(364),priority:30},{linkt:"Друзья",priority:31},{linkc:i,priority:32},{linkc:$(775),priority:33},{linkc:"-last",priority:34},{linkc:$(593),priority:35},{linkc:$(537),priority:36},{linkt:$(1088),priority:37}];x[$(1165)](...a)}}return 1==lib[$(208)]($(1246))&&document.querySelectorAll($(1135)).length>0&&x[$(1165)]({linkc:$(925),priority:1}),engine.getSceneLink(x)},timeout:0},races:{name:"Быстрые гонки <img src='https://img2.bratki.mobi/images/cars/icons/race_29x29.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>",description:_0x8a816e(494),type:TYPE_SCENES,enabled:!0,settings:[{name:_0x8a816e(932),type:"range",key:_0x8a816e(276),maxvalue:3e3,value:2700},{name:_0x8a816e(1134),type:_0x8a816e(1114),key:_0x8a816e(438),maxvalue:300,value:20}],getNextScene:function(){var $=_0x8a816e;if(null!==document[$(327)]("div.road-line")){if(document[$(551)].innerHTML.includes("Ставка")){var x=[{linkc:$(769),priority:1,timeout:1e3}];return engine[$(483)](x)}if(document[$(551)][$(277)][$(304)]($(499))){var x=[{linkc:"refreshLink",priority:1,timeout:0}];return engine[$(483)](x)}if(document[$(551)][$(277)][$(304)]($(976))){var x=[{linkt:"Газануть",priority:1,timeout:0}];return engine[$(483)](x)}if(document.querySelector("a.btn-a.ml3")){var x=[{linkt:"Нитро",priority:3,timeout:lib[$(208)]($(438))}];return engine[$(483)](x)}if(!document.body[$(277)][$(304)]("СТАРТ!!!")){var x=[{linkt:$(802),priority:0,timeout:lib[$(208)]("gas_timeout")}];return engine.getSceneLink(x)}}}},autoobjak:{name:_0x8a816e(405),type:TYPE_TIMEOUT_SCENES,enabled:!0,start:0,startItemsCount:null,transferMode:!1,currentItemIndex:0,itemSelectionCompleted:!1,currentCategoryIndex:0,selectedItemCount:0,settings:[{name:_0x8a816e(1255),type:"text",key:"transfer_recipient_id",value:""},{name:_0x8a816e(160),type:_0x8a816e(1010),key:"item_categories_csv",value:_0x8a816e(935)}],getNextScene:function(){var $=_0x8a816e;let x=lib[$(208)]($(977))||this.settings.find(x=>x[$(428)]===$(977))[$(803)];if(!x[$(661)](/^\d+$/))return[];let e=(lib[$(208)]($(1132))||this[$(516)].find(x=>"item_categories_csv"===x[$(428)])[$(803)]).split(",")[$(299)]($=>$.trim())[$(1194)]($=>$);if(0===e[$(995)])return[];let t=[{linkc:$(692),priority:0},{linkt:$(364),priority:1},{linkc:$(201),priority:2},{linkc:x,priority:3},{linkc:$(297),priority:4},{linkc:$(955),priority:5},{linkc:$(1055)+this[$(1189)]+"-selectItemLink",priority:5,onComplete:()=>{var x=$;if(document[x(327)]('a[href*="items-'+this[x(1189)]+x(695)+this[x(1189)]+x(228))&&(this.itemSelectionCompleted=!0,this[x(1189)]++,this[x(1189)]>=11)){let e=document[x(327)](x(180));e&&e[x(903)](),setTimeout(()=>{var $=x;if(document[$(511)]($(1182))[$(995)]>=10){let e=document.querySelector("input.btn-a.form-submit");return e&&e[$(903)](),this[$(1189)]=0,this[$(1254)]=!1,this[$(392)]=null,this[$(179)]=!1,this[$(1131)]()}},500)}}}];if(this.transferMode)return engine[$(483)](t);if(!document[$(327)]('a.btn-a.narrow.mt5[href*="gang/donate"]'))return engine[$(483)]([{linkc:$(692),priority:0},{linkt:$(1025),priority:1},{linkt:"Общак",priority:2}]);let i=e[this[$(1096)]];if(!i&&(this[$(1096)]=0,!(i=e[this[$(1096)]])))return[];let a=Array[$(267)](document[$(511)]($(1251))),n=a[$(566)](x=>x[$(912)]===$(1098));if((n?n[$(797)][$(793)]():null)!==i){let r=a[$(566)](x=>"A"===x[$(912)]&&x[$(797)][$(793)]()===i);return r?(r[$(903)](),this[$(1189)]=0,this[$(179)]=!1,setTimeout(()=>this[$(1131)](),300),[]):(this[$(1096)]++,this[$(1131)]())}let o=document[$(327)]($(1119));if(o&&o.textContent[$(304)]($(221))){let _=o[$(511)]("span");if(_[$(995)]>=3){let s=parseInt(_[0][$(797)])||0;null===this[$(392)]&&(this[$(392)]=s);if(this.startItemsCount-s>=10)return this[$(1254)]=!0,this.currentItemIndex=0,this.itemSelectionCompleted=!1,engine[$(483)](t)}}return 0===document[$(511)]($(605))[$(995)]?(this[$(1096)]++,this.startItemsCount=null,this[$(1131)]()):engine[$(483)]([{linkc:$(541),priority:3}])},timeout:0},off:{name:_0x8a816e(672),description:_0x8a816e(634),type:TYPE_TIMEOUT_SCENES,enabled:!0,currentUser:0,settings:[{name:_0x8a816e(1058),type:_0x8a816e(1114),key:_0x8a816e(755),minvalue:1,maxvalue:30,step:1,value:5}],getNextScene:function(){var $=_0x8a816e;let x=parseInt(lib[$(208)]($(755)))||5;x<1&&(x=1),x>15&&(x=15);if(document[$(511)]($(206)).length>0)return[{click:lib[$(1181)]($(393))[0]}];let e=lib[$(1181)]($(452)+this.currentUser);if(e[$(995)]>0)return[{click:e[0]}];this[$(402)]=(this[$(402)]+1)%x},timeout:0},menuCustomizer:{name:_0x8a816e(777),description:"Настройка фона, цвета текста и затемнения меню скрипта с помощью RGB-ползунков, выбора изображения и ползунка затемнения",type:TYPE_SWITCH,enabled:!1,settings:[{name:_0x8a816e(333),type:"range",key:"menu_color_r",maxvalue:255,value:96},{name:"Зеленый (G)",type:_0x8a816e(1114),key:"menu_color_g",maxvalue:255,value:255},{name:"Синий (B)",type:_0x8a816e(1114),key:_0x8a816e(159),maxvalue:255,value:0},{name:_0x8a816e(723),type:"range",key:"menu_dim",maxvalue:100,value:10},{name:_0x8a816e(1282),type:_0x8a816e(355),key:_0x8a816e(543),value:!0},{name:_0x8a816e(301),type:_0x8a816e(355),key:"bg_gorki",value:!1},{name:"Фон: Порт",type:_0x8a816e(355),key:_0x8a816e(263),value:!1},{name:_0x8a816e(1249),type:_0x8a816e(355),key:_0x8a816e(378),value:!1},{name:_0x8a816e(886),type:_0x8a816e(355),key:"bg_old_city",value:!1},{name:_0x8a816e(315),type:"checkbox",key:"bg_banda",value:!1},{name:"Фон: Федеральный Центр",type:_0x8a816e(355),key:_0x8a816e(562),value:!1},{name:_0x8a816e(248),type:_0x8a816e(355),key:_0x8a816e(217),value:!1}],onswitch:function($){this[_0x8a816e(957)]($)},onconfig:function($=this.enabled){var x=_0x8a816e;let e={bg_city:x(1269),bg_gorki:x(253),bg_doki:x(189),bg_zuza:"https://img0.bratki.mobi/images/cities/zuza_480.jpg",bg_old_city:"https://img1.bratki.mobi/images/cities/old_city_480.jpg",bg_cop:x(521),bg_banda:"https://img1.bratki.mobi/images/cities/ghetto_480.jpg",bg_potrox:"https://img0.bratki.mobi/images/tournaments/ripper_tournaments_480.gif"},t=e[x(217)],i=document.querySelector(x(377))||document.createElement(x(1117));if(i.id=x(1171),$){let a=parseInt(lib[x(208)](x(188)))||this[x(516)][0][x(803)],n=parseInt(lib[x(208)](x(564)))||this[x(516)][1][x(803)],r=parseInt(lib[x(208)](x(159)))||this.settings[2][x(803)],o=parseInt(lib[x(208)](x(162)))||this.settings[3][x(803)];for(let _=4;_<this[x(516)][x(995)];_++)if(1==lib[x(208)](this[x(516)][_].key)){t=e[this[x(516)][_][x(428)]];for(let s=4;s<this[x(516)][x(995)];s++)if(s!==_){lib[x(420)](this.settings[s].key,0);let l=document[x(327)]("#"+this[x(516)][s][x(428)]);l&&(l[x(491)]=!1)}break}i[x(277)]='\n                    .custom-menu::before {\n                        content: "";\n                        position: absolute;\n                        top: 0; left: 0; right: 0; bottom: 0;\n                        background: url(\''+t+x(1178)+(1-o/100)+x(971)+o/100+");\n                        z-index: -1;\n                    }\n                    .custom-menu, .custom-menu * {\n                        color: rgb("+a+", "+n+", "+r+x(919)}else i[x(277)]=x(981);document[x(1045)].appendChild(i)}}};let GUI={createMenu:function(){var $=_0x8a816e;let x=document[$(321)]($(1117));x[$(277)]=switchStyle,document.head[$(989)](x);let e=window[$(974)]<600,t=document[$(321)]($(1117));t.id=$(1171),t[$(277)]="\n            .custom-menu::before {\n                content: \"\";\n                position: absolute;\n                top: 0; left: 0; right: 0; bottom: 0;\n                background: url('https://raw.githubusercontent.com/JenichG/nx/main/Endless Falls 1.gif') no-repeat center center;\n                background-size: cover;\n                opacity: 0.9;\n                z-index: -1;\n            }\n            .custom-menu {\n                color: #c8ff00ff;\n            }\n        ",document[$(1045)][$(989)](t),modules[$(1192)]&&modules[$(1192)].enabled&&modules[$(1192)][$(957)]();let i=lib.ce($(449),{className:"custom-menu",id:$(607),style:$(616),onmousemove:function(){var x=$;this[x(1117)][x(1151)]="1"},onmouseout:function(){var x=$;this[x(1117)][x(1151)]=x(1247)}});if(e)i.style[$(348)]="0",i[$(1117)].right="0";else if(typeof lib.getCookie($(298))==$(1158))i[$(1117)][$(348)]="0px",i[$(1117)][$(167)]=$(998);else{let a=lib[$(208)]("menu_position")[$(268)](".");i.style.top=a[1],i[$(1117)][$(167)]=a[0]}let n=lib.ce("div",{style:$(940),innerHTML:$(967)},i),r=lib.ce($(449),{style:$(284)}),o=lib.ce($(449),{style:"display: inline-block; font-size: 12px; transition: 500ms;"},r),_=!1;e||(n[$(785)]=function(x){var e=$;i[e(1117)][e(326)]="0s";let t=x.offsetX,a=x[e(865)];function r($){var x=e;i[x(1117)][x(167)]=$[x(1153)]-t+"px",i[x(1117)][x(348)]=$[x(565)]-a+"px",lib[x(420)]("menu_position",i[x(1117)][x(167)]+"."+i[x(1117)][x(348)])}r(x),document[e(675)]=function($){var x=e;Math.sqrt(Math[x(1208)](t-$[x(288)],2)+Math.pow(a-$[x(865)],2))>2&&(_=!0),r($)},n.onmouseup=function(){var $=e;document[$(675)]=null,i[$(1117)].transition=$(497),n[$(1141)]=null}});let s=lib.ce($(449),{style:$(455)},i),l=!1;n[$(872)]=function(){var x=$;if(_){_=!1;return}l=!l,GUI[x(840)]=l,l?(GUI.showBottom(),s[x(1117)][x(1250)]="1000px",s[x(1117)][x(740)]="500px",s[x(1117)][x(584)]=x(771),s[x(1117)].borderTop="1px solid #fff",r[x(1117)][x(1151)]="0",r[x(1117)][x(1250)]="0"):(GUI[x(763)](),GUI.hideBottom(),s[x(1117)].maxHeight="0",s[x(1117)][x(740)]="0",s[x(1117)][x(584)]="0",s[x(1117)].borderTop="0",r[x(1117)][x(1151)]="1",r[x(1117)][x(1250)]=x(810))};let c=engine[$(175)],d,u,p=lib.ce($(709),{style:$(1237)},r);p.src=c?icPlayUrl:icPauseUrl,p[$(872)]=function(){var x=$;c=!c,engine[x(175)]=c,u[x(277)]=x(c?596:1035),this[x(972)]=c?icPlayUrl:icPauseUrl,d[x(972)]=this[x(972)],c||engine[x(1123)](engine.handleScene),lib[x(420)](x(175),c?1:0)},i[$(989)](r);let g=lib.ce($(449),{id:"playpause",style:"overflow:hidden; transition: 250ms; cursor: pointer;"},i),f=lib.ce($(449),{style:$(400)},g);GUI.bottomProgress=new ProgressBar(f,$(992)),f[$(1117)].position=$(621),f[$(989)](GUI[$(752)][$(575)]()),d=lib.ce($(709),{src:c?icPlayUrl:icPauseUrl},g),u=lib.ce($(449),{style:$(962),innerHTML:c?$(596):"Остановить"},g),g[$(872)]=function(){var x=$;c=!c,engine[x(175)]=c,d.src=c?icPlayUrl:icPauseUrl,u[x(277)]=x(c?596:1035),p[x(972)]=d.src,c||engine[x(1123)](engine[x(982)]),lib[x(420)](x(175),c?1:0)},GUI.showBottom=function(){var x=$;g[x(1117)][x(584)]=x(771),g[x(1117)][x(1250)]=x(810),g[x(1117)][x(1151)]="1"},GUI[$(1024)]=function(){var x=$;g.style[x(584)]="0",g.style[x(1250)]="0",g[x(1117)][x(1151)]="0"},GUI.hideBottom();let h=lib.ce($(449),{id:$(823),style:$(398)},i);GUI[$(1126)]=function(x){var e=$;h.style[e(584)]="5px",h[e(1117)][e(1250)]=e(810),h[e(1117)][e(1151)]="1",h.innerHTML=x},GUI[$(700)]=function(){var x=$;h.style.padding="0",h[x(1117)][x(1250)]="0",h[x(1117)][x(1151)]="0"},GUI[$(1022)]=i,GUI[$(1163)]=s,GUI[$(344)]=o},closeAllPopup:function(){var $=_0x8a816e;for(let x in modules)modules[x][$(1257)]&&modules[x][$(1257)][$(475)]()}};class EnhancedBratkiEngine{constructor(){var $=_0x8a816e;this[$(380)]=!1,this[$(1164)]=null,this[$(224)]=null,this[$(1256)]=null,this[$(1288)]=null,this[$(953)]=null,this[$(848)]()}async [_0x8a816e(848)](){var $=_0x8a816e;try{console[$(1097)]($(513)),this.backgroundManager=new BackgroundManager,this.wakeLockManager=new WakeLockManager,this[$(1256)]=new WorkerManager,this[$(1288)]=new NetworkManager,this[$(953)]=new MobileManager,await this.backgroundManager.init(),await this[$(224)].init(),await this[$(1256)][$(848)](),await this[$(1288)][$(848)](),await this.mobileManager[$(848)](),await this.loadOriginalModules(),this.isInitialized=!0,console[$(1097)]($(583)),this.startMainLoop()}catch(x){console[$(910)]($(176),x),this[$(406)]()}}async [_0x8a816e(572)](){console[_0x8a816e(1097)]("[Bratki Engine] Загрузка оригинальных модулей...")}startMainLoop(){var $=_0x8a816e;console.log("[Bratki Engine] Запуск основного цикла..."),this.workerManager[$(656)]()?this[$(1256)][$(243)]():this[$(1290)]()}[_0x8a816e(1290)](){var $=_0x8a816e;console.log($(918)),setInterval(()=>{var x=$;this[x(1164)][x(1003)]()||this.processGameLogic()},1e3)}[_0x8a816e(1214)](){console[_0x8a816e(1097)]("[Bratki Engine] Обработка игровой логики...")}fallbackToOriginal(){var $=_0x8a816e;console[$(1014)]($(505))}}document.addEventListener(_0x8a816e(325),()=>{new EnhancedBratkiEngine}),window.BratkiEngine=EnhancedBratkiEngine;var engine={auto:!1,paused:!0,cache:new Map,popupManager:null,isPageLocked:!1,initPopupManager:function(){var $=_0x8a816e;this[$(888)]||(this.popupManager={popups:new Map,register:function(x,e){var t=$;this[t(858)][t(168)](x,e)},isOpen:function(x){var e=$,t=this.popups[e(225)](x);return!!t&&t[e(187)]()},hide:function(x){var e=$,t=this[e(858)][e(225)](x);t&&t[e(475)]()},closeAll:function(){var x=$;this[x(858)][x(486)](function($){var e=x;$[e(187)]()&&$[e(475)]()})}})},lockPage:function(){var $=_0x8a816e;this[$(261)]||(window[$(1197)]($(1144),this[$(665)]),this[$(261)]=!0)},unlockPage:function(){var $=_0x8a816e;this[$(261)]&&(window[$(991)]("beforeunload",this[$(665)]),this.isPageLocked=!1)},preventPageUnload:function($){var x=_0x8a816e;$[x(745)](),$[x(466)]=""},init:function(){var $=_0x8a816e;this[$(798)](),this[$(370)](),this[$(800)]&&this.lockPage(),lib[$(496)]=function(){var x=$;engine[x(800)]=!1,lib.handlePage(),document[x(551)][x(989)](GUI.menu),engine[x(1123)](engine[x(982)])},engine.paused=!0,lib.handlePage(),engine[$(366)]()},startScript:function(){this.auto=!0,this.lockPage()},stopScript:function(){var $=_0x8a816e;this[$(800)]=!1,this[$(600)]()},initWakeLock:function(){var $=_0x8a816e;$(1002) in navigator&&navigator[$(1002)].request($(362)).then(function(x){x[$(1197)]("release",function(){})}).catch(function($){})},initPopupManager:function(){var $=_0x8a816e;this[$(888)]||(this.popupManager={popups:new Map,register:function(x,e){var t=$;this[t(858)][t(168)](x,e)},isOpen:function(x){var e=$,t=this[e(858)][e(225)](x);return!!t&&t[e(187)]()},hide:function(x){var e=$,t=this[e(858)].get(x);t&&t[e(475)]()},closeAll:function(){var x=$;this.popups[x(486)](function($){var e=x;$[e(187)]()&&$[e(475)]()})}})},callback:function($){var x=_0x8a816e;if(bratki[x(735)]){if(delete bratki[x(735)],0===$){confirm(x(713))||document[x(570)][x(347)]();return}if(-1!==$){$*=1e3;var e=Math[x(410)]($/864e5),t=Math[x(410)]($%864e5/36e5),i="⏳ Осталось: "+e+x(271)+t+x(1229);GUI[x(1126)](i),setTimeout(function(){GUI[x(700)]()},1e4),0===e&&t<24&&setTimeout(function(){var $=x;confirm($(713))||document[$(570)][$(347)]()},$)}else GUI[x(1126)](x(560)),setTimeout(function(){GUI.hideMsg()},5e3);engine[x(848)]()}},getSceneLink:function($){var x=_0x8a816e,e=[],t=-1;for(var i in $){var a=$[i],n=null;if(a[x(1264)]?n=lib.findLinksByText(a.linkt):a[x(336)]&&(n=lib[x(1181)](a[x(336)])),n&&n[x(995)]>0){if(a[x(635)]&&!a.exc())continue;a[x(864)]>t&&(e=n,void 0!==a[x(646)]&&e[0].setAttribute(x(646),a[x(646)]),t=a[x(864)],a[x(411)]&&setTimeout(()=>{a[x(411)]()},50))}}if(e[x(995)]>0)return[{click:e[0]}]},handleScene:function($){var x=_0x8a816e;engine[x(175)]||typeof $[0][x(903)]===x(1158)||(engine[x(800)]=!0,$[0][x(903)].setAttribute("auto",!0),$[0][x(903)][x(903)](),setTimeout(function(){var $=x;!engine.paused&&modules[$(239)][$(255)]&&(modules[$(239)][$(577)]=Date[$(787)]())},1e3))},waitScene:function($){var x=_0x8a816e;if(!engine.paused||modules[x(239)][x(255)]){if(typeof engine[x(514)]!==x(1158)){var e=modules[engine[x(514)]];if(e[x(569)]!==TYPE_TIMEOUT_SCENES||Date[x(787)]()-lib[x(1066)]>3e3){var t=e[x(1131)]();if(typeof t!==x(1158)){$(t);return}e[x(569)]===TYPE_TIMEOUT_SCENES&&typeof e[x(646)]!==x(1158)&&(e[x(577)]=Math.min(Date[x(787)]()+e[x(646)],Date[x(787)]()+6e4))}delete engine.currentModule}var i=!1,a=Object[x(469)](modules);if(modules[x(239)][x(255)]){var n=modules[x(239)].getNextScene();if(typeof n!==x(1158)){engine.currentModule="licenseCheck",GUI[x(1126)](x(1199)+modules[x(239)].name),setTimeout(function(){GUI[x(700)]()},2e3),$(n);return}modules[x(239)][x(577)]=Math[x(424)](Date.now()+modules[x(239)][x(646)],Date[x(787)]()+6e4)}if(!engine[x(175)])for(var r=0;r<a[x(995)];r++){var o=a[r],_=modules[o];if(void 0!==engine[x(514)])break;if(_[x(569)]!==TYPE_SWITCH&&_.enabled){if(i=i||!!_.timeout,!(_[x(569)]===TYPE_TIMEOUT_SCENES&&Date[x(787)]()-lib.lastAction<1e3)&&!(typeof _[x(577)]!==x(1158)&&_[x(577)]>Date[x(787)]())){var t=_[x(1131)]();if(void 0!==t){engine[x(514)]=o,GUI[x(1126)](x(1199)+modules[engine[x(514)]][x(324)]),setTimeout(function(){GUI[x(700)]()},2e3),$(t);break}_.type===TYPE_TIMEOUT_SCENES&&void 0!==_[x(646)]&&(_[x(577)]=Math[x(424)](Date[x(787)]()+_[x(646)],Date[x(787)]()+6e4))}}}typeof engine.currentModule===x(1158)&&(modules[x(239)][x(255)]?(modules.licenseCheck[x(577)]=Math[x(424)](Date[x(787)]()+modules[x(239)][x(646)],Date[x(787)]()+6e4),engine[x(899)](function(){var e=x,t=modules[e(239)].getNextScene();void 0!==t?(engine[e(514)]=e(239),GUI[e(1126)]("выполнение "+modules[e(239)].name),setTimeout(function(){GUI.hideMsg()},2e3),$(t)):setTimeout(function(){engine[e(1123)]($)},1e3)})):i?engine[x(899)]($):setTimeout(function(){engine[x(1123)]($)},1e3))}},setupRandomTimeout:function($){var x=_0x8a816e;void 0!==engine[x(830)]&&clearInterval(engine[x(830)]);let e=parseInt(lib[x(208)](x(770)))||15e3,t=parseInt(lib[x(208)](x(246)))||25e3;e>t&&(t=e,lib.setCookie("wait_timeout_max",t));var i=Math[x(410)](Math[x(750)]()*(t-e+1))+e,a=Date[x(787)]()+i;GUI[x(344)][x(1117)].opacity="0",engine.timerId=setInterval(function(){var $=x;if(engine[$(175)]||typeof engine.timeoutId===$(1158)){GUI[$(344)][$(1117)].opacity="0",clearInterval(engine[$(830)]),typeof engine[$(690)]!==$(1158)&&clearTimeout(engine[$(690)]);return}var e=Math[$(410)]((a-Date[$(787)]())/1e3);"0"===GUI[$(344)][$(1117)].opacity&&(GUI[$(344)][$(1117)][$(1151)]="1"),GUI[$(344)].innerHTML=e,GUI[$(752)][$(893)](100-Math[$(410)](e/(i/1e3)*100))},1e3),GUI.showMsg("ожидание"),setTimeout(function(){GUI[x(700)]()},2e3),engine[x(690)]=setTimeout(function(){var e=x;GUI[e(344)][e(1117)][e(1151)]="0",clearInterval(engine[e(830)]),delete engine[e(830)],delete engine.timeoutId;var t=engine[e(1005)]();typeof t!==e(1158)?$([{click:t}]):engine[e(1123)]($)},i)},findHomeLink:function(){var $=_0x8a816e,x=lib.findLinksByUrlComponent($(1008));if(x[$(995)]>0&&!x[0][$(796)][$(304)]($(824)))return x[0];var e=lib[$(1181)]("//"+document[$(1116)]),t=lib[$(418)](e,"?");if(t[$(995)]>0)return t[Math.floor(Math[$(750)]()*t.length)]},init:function(){var $=_0x8a816e;this[$(798)](),this[$(370)](),lib.onload=function(){var x=$;engine[x(800)]=!1,lib[x(274)](),document[x(551)][x(989)](GUI[x(1022)]),engine.waitScene(engine[x(982)])},engine[$(175)]=!0,lib[$(274)](),engine[$(366)]()},initWakeLock:function(){var $=_0x8a816e;$(1002) in navigator&&navigator.wakeLock[$(678)]("screen").then(function(x){x[$(1197)]("release",function(){})})[$(846)](function($){})},getModuleState:function($,x){var e=_0x8a816e;if(this[e(592)].has($))return this[e(592)][e(225)]($);var t=lib.getCookie($),i=typeof t===e(1158)?x.enabled:1==t;return this[e(592)].set($,i),i},createToggleHandler:function($,x){var e=this;return function(){var t=_0x1b9d;if($===t(239)){this[t(491)]=!0;return}var i=this[t(491)];x[t(569)]===TYPE_SWITCH&&modules[this.id][t(181)](i),modules[this.id][t(255)]=i,e[t(592)][t(168)](this.id,i),i||engine.currentModule!==this.id||delete engine.currentModule,i&&void 0===engine[t(514)]&&(typeof engine[t(690)]!==t(1158)&&(clearTimeout(engine[t(690)]),delete engine[t(690)]),engine[t(1123)](engine[t(982)])),lib[t(420)](this.id,i?1:0)}},createHelpPopupHandler:function($){var x=this;return function(){var $=_0x1b9d,e=this.id.split("_")[1],t=modules[e],i=$(795)+e;if(x[$(888)][$(1180)](i))x[$(888)].hide(i);else if(typeof t.descPopup===$(1158)){var a=new PopupWindow(this[$(280)]);a.addChild(lib.ce($(449),{style:"font-size: 12px; color: #ffffff; max-width: 300px; line-height: 1.4;",innerHTML:t[$(1188)]})),GUI.closeAllPopup(),a[$(674)](),t[$(1257)]=a,x[$(888)][$(422)](i,a)}else t[$(1257)][$(187)]()?t[$(1257)][$(475)]():(GUI.closeAllPopup(),t.descPopup[$(674)]())}},createSettingsPopupHandler:function($){var x=this;return function(){var $=_0x1b9d,e=this.id[$(268)]("_")[1],t=modules[e];if(typeof t[$(749)]===$(1158)){var i=new PopupWindow(this[$(280)],!1),a=lib.ce("div",{style:"font-size: 12px; color: #ffffff; min-width: 200px;"});for(var n in i[$(856)](a),t[$(516)]){var r=x[$(790)](e,t.settings[n],t);a[$(989)](r)}GUI[$(763)](),i[$(674)](),t.setPopup=i}else t[$(749)][$(187)]()?t.setPopup[$(475)]():(GUI[$(763)](),t[$(749)][$(674)]())}},createSettingElement:function($,x,e){var t=_0x8a816e,i=document[t(321)](t(449)),a=lib.ce("div",{style:t(944),innerHTML:x[t(324)]});if(x.type===t(355)){var n=new ToggleButton(x[t(428)]),r=n.getCheckbox();r.id=x[t(428)],typeof lib.getCookie(x[t(428)])===t(1158)&&lib[t(420)](x.key,x[t(803)]?1:0),r.onclick=function(){var $=t;lib[$(420)](this.id,this.checked?1:0),typeof e.onconfig!==$(1158)&&e[$(957)]()},r[t(491)]=1==lib[t(208)](x.key),i[t(989)](n.getElement())}if(x[t(569)]===t(1090)){var o=new SelectBox(x[t(428)],x[t(303)]);typeof lib[t(208)](x[t(428)])===t(1158)&&lib[t(420)](x[t(428)],x[t(803)]),o.setSelection(lib[t(208)](x[t(428)])),o[t(309)]=function($,x){var i=t;lib[i(420)]($,x),typeof e[i(957)]!==i(1158)&&e[i(957)]()},x.sb=o,i[t(989)](o[t(575)]())}if(i[t(989)](a),"range"===x[t(569)]){var _=lib.ce(t(334),{type:t(1114),style:"display: inline-block",id:x[t(428)],max:x[t(617)]});typeof lib[t(208)](x.key)===t(1158)&&lib[t(420)](x.key,x.value),_.id=x.key;var s=lib.ce(t(449),{style:t(407),innerHTML:lib[t(208)](x[t(428)])});s.id=t(1033)+x.key,_[t(214)]=function(){var $=t;lib.setCookie(this.id,this[$(803)]),document[$(327)]($(1228)+this.id)[$(277)]=this[$(803)],void 0!==e[$(957)]&&e[$(957)]()},_[t(803)]=lib[t(208)](x[t(428)]),i[t(989)](_),i[t(989)](s)}if(x[t(569)]===t(1010)){void 0===lib.getCookie(x.key)&&lib.setCookie(x[t(428)],x.value);var l=new EditText(x[t(428)],lib[t(208)](x.key));l[t(309)]=function($,x){lib[t(420)]($,x)},i.appendChild(l.getElement())}return i},createCheckboxControl:function($,x,e){var t=_0x8a816e,i=new ToggleButton(x[t(428)]),a=i[t(312)]();return a.id=x.key,typeof lib[t(208)](x.key)===t(1158)&&lib[t(420)](x[t(428)],x[t(803)]?1:0),a.checked=1==lib[t(208)](x[t(428)]),a[t(872)]=function(){var $=t;lib[$(420)](this.id,this[$(491)]?1:0),void 0!==e[$(957)]&&e.onconfig()},i[t(575)]()},createSelectControl:function($,x,e){var t=_0x8a816e,i=new SelectBox(x[t(428)],x[t(303)]);return typeof lib[t(208)](x.key)===t(1158)&&lib[t(420)](x[t(428)],x[t(803)]),i[t(852)](lib[t(208)](x[t(428)])),i.onchange=function($,x){var i=t;lib[i(420)]($,x),void 0!==e[i(957)]&&e[i(957)]()},x.sb=i,i[t(575)]()},createRangeControl:function($,x,e){var t=_0x8a816e,i=lib.ce(t(449),{style:"display: flex; align-items: center; gap: 5px;"});typeof lib.getCookie(x[t(428)])===t(1158)&&lib[t(420)](x[t(428)],x[t(803)]);var a=lib.ce(t(334),{type:t(1114),id:x[t(428)],max:x[t(617)],value:lib[t(208)](x.key),style:t(761)}),n=lib.ce("div",{id:t(1033)+x.key,style:t(1100),innerHTML:lib[t(208)](x[t(428)])});return a.oninput=function(){var $=t;lib[$(420)](this.id,this[$(803)]),document[$(327)]($(1228)+this.id)[$(277)]=this[$(803)],void 0!==e[$(957)]&&e[$(957)]()},i.appendChild(a),i.appendChild(n),i},createTextControl:function($,x,e){var t=_0x8a816e;void 0===lib[t(208)](x[t(428)])&&lib[t(420)](x.key,x[t(803)]);var i=new EditText(x.key,lib[t(208)](x[t(428)]));return i.onchange=function($,x){var i=t;lib[i(420)]($,x),typeof e[i(957)]!==i(1158)&&e.onconfig()},i[t(575)]()},initMenu:function(){var $=_0x8a816e;this[$(370)]();for(var x=GUI[$(1163)],e=document[$(1102)](),t=Object.keys(modules),i=0;i<t.length;i++){var a=t[i],n=modules[a];if(a!==$(239)){var r=this[$(423)](a,n);e[$(989)](r)}}x[$(989)](e)},createMenuItem:function($,x){var e=_0x8a816e,t=document[e(321)]("div"),i=new ToggleButton($),a=i[e(312)]();a.id=$,a[e(491)]=this.getModuleState($,x),x[e(255)]=a[e(491)],x[e(569)]===TYPE_SWITCH&&x[e(181)](a[e(491)]),a.onclick=this[e(653)]($,x);var n=lib.ce(e(449),{style:e(944),innerHTML:x[e(324)]}),r=lib.ce("div",{style:"padding: 3px; display: inline-block; color: #2196F3; cursor: pointer",id:e(966)+$,innerHTML:"?",onclick:this[e(595)]($)});if(t.appendChild(i.getElement()),t[e(989)](n),t[e(989)](r),x.settings){var o=lib.ce(e(709),{style:"padding: 3px; display: inline-block; color: #2196F3; cursor: pointer",id:e(582)+$,src:e(346),onclick:this[e(1187)]($)});t.appendChild(o)}return t},updateModuleState:function($,x){var e=_0x8a816e,t=modules[$];t&&(t.enabled=x,this[e(592)][e(168)]($,x),lib[e(420)]($,x?1:0),t[e(569)]===TYPE_SWITCH&&void 0!==t.onswitch&&t[e(181)](x),this[e(805)]($,x))},handleEngineState:function($,x){var e=_0x8a816e;x||engine.currentModule!==$||delete engine[e(514)],x&&typeof engine[e(514)]===e(1158)&&(typeof engine.timeoutId!==e(1158)&&(clearTimeout(engine[e(690)]),delete engine.timeoutId),"function"==typeof engine.waitScene&&engine[e(1123)](engine.handleScene))},cleanup:function(){var $=_0x8a816e;this.cache&&this[$(592)][$(1040)](),this[$(888)]&&this[$(888)][$(1036)](),void 0!==this[$(830)]&&(clearInterval(this[$(830)]),delete this.timerId),typeof this[$(690)]!==$(1158)&&(clearTimeout(this.timeoutId),delete this[$(690)])}},ModuleUtils={debounce:function($,x){var e;return function(){var t=this,i=arguments,a=function(){var x=_0x1b9d;e=null,$[x(591)](t,i)};clearTimeout(e),e=setTimeout(a,x)}},batchUpdateCookies:function($){for(var x=_0x8a816e,e=Object.keys($),t=0;t<e[x(995)];t++){var i=e[t];lib[x(420)](i,$[i])}},getActiveModules:function(){for(var $=_0x8a816e,x=[],e=Object[$(469)](modules),t=0;t<e[$(995)];t++){var i=e[t];modules[i].enabled&&x[$(1165)](i)}return x},toggleModules:function($,x){for(var e=_0x8a816e,t={},i=0;i<$[e(995)];i++){var a=$[i];modules[a]&&(modules[a].enabled=x,t[a]=x?1:0,modules[a].type===TYPE_SWITCH&&typeof modules[a][e(181)]!==e(1158)&&modules[a][e(181)](x))}this[e(1175)](t),engine.cache[e(1040)]()}},bratki={getMissionsLinks:function(){var $=_0x8a816e,x=[],e=document.body[$(277)].indexOf($(164)),t=document.body[$(277)].indexOf($(769),document[$(551)][$(277)][$(958)]($(935)));return -1!=e&&lib[$(1181)]($(194))[$(486)](function(i,a,n){var r=$,o=document[r(551)].innerHTML.indexOf(i[r(719)]);o>e&&o<t&&!i[r(799)].includes("inactive")&&x.push(i)}),x},getCombatLinks:function($=!1){var x=_0x8a816e,e=lib[x(1181)](x(305)),t=[];for(var i in e)typeof e[i]==x(1085)&&(!e[i][x(898)]||!e[i].classList[x(302)](x(1259))&&!e[i][x(898)].contains("minor")||$&&e[i][x(898)][x(302)](x(1259)))&&t.push(e[i]);return t},getPackagePrice:function(){var $,x=_0x8a816e,e=document.querySelector(x(718))[x(280)][x(327)]("span")[x(719)],t=e[x(661)](/[^><]+(?=<)/g);return 1==t[x(995)]?e[x(304)](x(639))?100*t[0]:parseInt(t[0]):100*t[0]+parseInt(t[1])},getPackageItems:function(){var $=_0x8a816e,x=document.querySelectorAll($(1118)),e=[];for(var t in x)if(typeof x[t]==$(1085)){var i=x[t][$(327)]("a").href,a=x[t][$(460)][$(268)](" x")[0],n=x[t][$(277)][$(304)]($(701))?">>":x[t][$(277)][$(304)]("item_difficulty_30")?">":"",r=x[t].innerText[$(268)](" x")[1];e.push({name:a,diff:n,href:i,count:parseInt(void 0===r?1:r)})}return e},getEnemyHp:function(){var $=_0x8a816e;try{var x=document[$(327)]($(383));if(null!=x)return x.innerHTML;var e=document[$(327)]($(603))[$(327)]("li")[$(511)]($(834))[1];if(typeof e!=$(1158)){var t=e[$(277)];return t[$(905)](2,t.length-3)}}catch(i){}},getLastDamage:function(){var $=_0x8a816e;try{if(bratki[$(1253)]())return document[$(327)]($(571))[$(511)]($(1174))[0][$(277)];return document[$(327)]($(231))[$(511)]($(834))[2].innerHTML}catch(x){}},getEnemyName:function(){var $=_0x8a816e;try{if(bratki[$(1253)]())return document[$(327)]($(1291))[$(277)];var x=document[$(327)]("ul.block").querySelector($(834));if(x[$(280)][$(277)][$(304)]($(1124)))return x[$(277)]}catch(e){}},getMyHp:function(){var $,x=_0x8a816e;try{if($=bratki[x(1253)]()?document[x(327)](x(571))[x(327)](x(834)):document[x(327)]("div.header")[x(327)](x(834)),null!==$)return{count:$.innerHTML,type:[x(887),"warn","info"][x(958)]($.className)}}catch(e){}},getTeamHp:function(){var $=_0x8a816e;try{var x=[$(485),"span.warn",$(198)],e=2;for(var t in x){var i=document.querySelectorAll("a[href*='user']:not([class])");for(var a in i)null!==i[a].parentNode.querySelector(x[t])&&e<t&&(e=t)}return t}catch(n){}},hasNewInterface:function(){var $=_0x8a816e;return null!==document[$(327)]($(571))},getUid:function(){var $=_0x8a816e;try{var x=document[$(327)]($(1183))[$(812)].querySelector($(834))[$(460)];if(document[$(570)].href[$(304)](x))return;return x}catch(e){return}},getRackItems:function(){var $=_0x8a816e,x=lib[$(1181)]($(782)),e=[];for(var t in x)typeof x[t]==$(1085)&&e.push(x[t][$(280)][$(280)]);return e}};let lib={safeMode:!0,loadTime:0,lastAction:Date[_0x8a816e(787)](),onload:function(){},handlePage(){var $=_0x8a816e;let x=document.querySelectorAll("a");x.forEach($=>{var x=_0x1b9d;(!$[x(872)]||$.href[x(304)](x(232)))&&($[x(872)]=e=>{var t=x;e[t(745)](),typeof engine[t(690)]!==t(1158)&&clearTimeout(engine[t(690)]),typeof engine[t(830)]!==t(1158)&&clearInterval(engine[t(830)]),lib[t(678)]($)})});let e=document[$(511)]($(1155));for(let t of e)for(let i of(t.onsubmit=x=>{var e=$;x[e(745)]();let i=new XMLHttpRequest;i[e(633)](t[e(930)],t[e(906)],!1),i[e(1142)](e(1226),e(889));let a=lib[e(354)](t);i.send(a),document[e(551)].innerHTML=i[e(350)],void 0!==engine[e(690)]&&clearTimeout(engine[e(690)]),void 0!==engine[e(830)]&&clearInterval(engine[e(830)]),lib[e(496)]()},t.querySelectorAll($(330))))i.onclick=x=>{var e=$;i.id=e(765)};Object.entries(modules)[$(486)](([x,e])=>{var t=$;e.enabled&&typeof e[t(496)]===t(1233)&&e[t(496)]()})},urlData:function($){var x=_0x8a816e;let e=[];for(let t in $.elements)($[x(1241)][t][x(569)]!=x(425)||$[x(1241)][t].id==x(765))&&e.push($[x(1241)][t][x(324)]+"="+encodeURIComponent($[x(1241)][t].value));return e[x(358)]("&")},request:function($,x=lib[_0x8a816e(496)],e=lib[_0x8a816e(1031)]?Math[_0x8a816e(410)](Math[_0x8a816e(750)]()*(lib[_0x8a816e(1156)]-lib[_0x8a816e(712)]+1))+lib[_0x8a816e(712)]:0){var t=_0x8a816e;$[t(920)](t(646))&&(e=$[t(1052)](t(646))),$[t(920)]("auto")||(e=0,lib[t(1066)]=Date[t(787)]());var i=Date[t(787)](),a=new XMLHttpRequest;a[t(1218)]=function(){var n=t;4==a.readyState&&(200==a[n(158)]?(lib[n(608)]=Date.now()-i,document[n(551)][n(277)]=a[n(350)],history[n(606)]({html:a[n(350)]},n(959),a.responseURL),engine[n(800)]||scrollTo(0,0),x()):0===a[n(158)]&&-1==url[n(958)](document[n(1116)])?document[n(570)]=$.href:(bratki[n(567)]--,lib[n(678)]($,x,e)))},a[t(633)](t(821),$[t(796)],!0);var n=new ProgressBar($);$.appendChild(n[t(575)]());var r=setInterval(function(){var $=t;if(engine[$(800)]&&engine.paused)n[$(893)](0);else{var x=Date[$(787)]()-i,a=Math[$(410)](x/e*100);n[$(893)](a)}},0,100);typeof lib[t(481)]!=t(1158)&&clearTimeout(lib[t(481)]),lib.rTimeout=setTimeout(function(){var x=t;if(delete lib[x(481)],clearInterval(r),engine[x(800)]&&engine[x(175)]){engine[x(800)]=!1;return}$.style.color=x(553),a[x(826)]()},e)},removeLinksByUrlComponent:function($,x){var e=_0x8a816e;let t=[];for(let i in $)typeof $[i][e(796)]==e(1158)||$[i][e(796)][e(304)](x)||t[e(1165)]($[i]);return t},findLinksByUrlComponent:function($){var x=_0x8a816e;return document[x(511)](x(601)+$+"']")},findLinksByText:function($,x=!0,e=0){var t=_0x8a816e;let i=[];return document[t(511)]("a").forEach(function(a,n,r){var o=t;(x&&a[o(277)][o(304)]($,e)||a[o(277)]==$)&&i[o(1165)](a)}),i},ce:function($,x,e){var t=document.createElement($);for(var i in x)t[i]=x[i];return"object"==typeof e&&e[_0x8a816e(989)](t),t},getCookie:function($){var x=_0x8a816e,e=document[x(758)][x(661)](RegExp("(?:^|; )"+$.replace(/([\.$?*|{}\(\)\[\]\\/\+^])/g,x(515))+x(1015)));return e?decodeURIComponent(e[1]):void 0},setCookie:function($,x,e){var t=_0x8a816e,i=(e=e||{path:"/",domain:document[t(1116)]}).expires;if(i||(i=31536e3),typeof i==t(363)&&i){var a=new Date;a[t(587)](a[t(1166)]()+1e3*i),i=e.expires=a}i&&i.toUTCString&&(e[t(186)]=i[t(501)]()),x=encodeURIComponent(x);var n=$+"="+x;for(var r in e){n+="; "+r;var o=e[r];!0!==o&&(n+="="+o)}document[t(758)]=n}};class MobileManager{constructor(){var $=_0x8a816e;this[$(811)]=null,this[$(1073)]=null,this[$(379)]=null,this[$(155)]=null,this[$(1224)]=null,this[$(729)]=null,this[$(590)]={isLowPowerMode:!1,batteryLevel:null,connectionType:$(581),memoryPressure:!1,orientation:"portrait",isCharging:null},console[$(1097)]($(1072),PLATFORM)}async [_0x8a816e(848)](){var $=_0x8a816e;try{this[$(242)](),this[$(140)](),this[$(1266)](),await this.initPerformanceMonitoring(),await this.initBatteryManager(),await this[$(1001)](),this.initMemoryManagement(),PLATFORM[$(969)]&&this[$(768)](),PLATFORM[$(193)]&&this.setupAndroidOptimizations(),console[$(1097)]($(148))}catch(x){console[$(910)]($(1078),x)}}[_0x8a816e(242)](){var $=_0x8a816e;this.touchHandler=$=>{var x=_0x1b9d;window[x(535)]&&window[x(535)].isActive},document[$(1197)]("touchstart",this[$(811)],{passive:!0,capture:!1}),document[$(1197)]($(937),x=>{var e=$;window[e(535)]&&window[e(535)][e(264)]&&x[e(745)]()},{passive:!1}),PLATFORM[$(969)]&&(document[$(551)][$(1117)][$(1139)]=$(945),document.documentElement[$(1117)][$(1139)]=$(945))}[_0x8a816e(140)](){var $=_0x8a816e;this[$(1073)]=()=>{var x=$;let e=x(window[x(490)]>window[x(974)]?1063:728);e!==this[x(590)][x(650)]&&(console.log(x(182)+this[x(590)].orientation+" → "+e),this[x(590)][x(650)]=e,this[x(1012)](e))},window[$(1197)]("orientationchange",this[$(1073)]),window[$(1197)]($(1092),this[$(1073)]),this[$(1073)]()}[_0x8a816e(1012)]($){var x=_0x8a816e;window.GUI&&typeof window[x(1041)][x(519)]===x(1233)&&setTimeout(()=>window[x(1041)][x(519)](),500);let e=document.querySelector(x(917));e&&($===x(728)&&PLATFORM[x(585)]?e[x(1117)][x(211)]="12px":e[x(1117)][x(211)]="14px")}[_0x8a816e(1266)](){var $=_0x8a816e;let x=document[$(327)]($(1042));if(x||((x=document.createElement($(965)))[$(324)]=$(641),document.head[$(989)](x)),x[$(1163)]=$(1101),PLATFORM[$(969)]){let e=document[$(511)]($(527));e[$(486)](x=>{var e=$;x[e(1117)][e(211)]=e(727)})}}async [_0x8a816e(694)](){var $=_0x8a816e;try{$(895) in window&&(this[$(729)]=new PerformanceObserver(x=>{var e=$;let t=x.getEntries();t[e(486)]($=>{var x=e;$.entryType===x(353)&&$[x(463)]>100&&(console.warn(x(627)+$.name+" ("+$[x(463)][x(192)](2)+x(558)),this.handleSlowPerformance($))})}),this.performanceObserver[$(725)]({entryTypes:[$(353),$(1167)]})),this[$(792)]()}catch(x){console.error($(664),x)}}startFPSMonitoring(){var $=_0x8a816e;let x=performance.now(),e=0,t=60,i=()=>{var $=_0x1b9d;e++;let a=performance[$(787)]();a-x>=1e3&&(t=Math[$(488)](1e3*e/(a-x)),e=0,x=a,t<20&&!this[$(590)].isLowPowerMode&&(console[$(1014)]($(999)+t+$(954)),this[$(1043)]())),document[$(945)]||requestAnimationFrame(i)};document.hidden||requestAnimationFrame(i),document[$(1197)]($(985),()=>{document[$(945)]||requestAnimationFrame(i)})}async initBatteryManager(){var $=_0x8a816e;try{$(625) in navigator&&(this[$(155)]=await navigator.getBattery(),this[$(687)](),this.batteryManager[$(1197)]($(907),()=>this[$(687)]()),this[$(155)][$(1197)]($(219),()=>this[$(687)]()),console[$(1097)]($(662)))}catch(x){console[$(1097)]($(349),x[$(1137)])}}[_0x8a816e(687)](){var $=_0x8a816e;this[$(155)]&&(this[$(590)].batteryLevel=Math[$(488)](100*this[$(155)][$(783)]),this[$(590)][$(556)]=this[$(155)][$(614)],this[$(590)].batteryLevel<=20&&!this[$(590)][$(556)]?(console[$(1097)]($(531)+this[$(590)][$(875)]+"%"),this[$(1043)]()):(this[$(590)].batteryLevel>50||this[$(590)][$(556)])&&this[$(688)](),SCRIPT_CONFIG[$(1075)]&&console.log($(190)+this[$(590)].batteryLevel+$(450)+(this[$(590)][$(556)]?"заряжается":$(833))+")"))}async [_0x8a816e(1001)](){var $=_0x8a816e;try{if($(446) in navigator||"mozConnection"in navigator||$(476) in navigator){let x=navigator[$(446)]||navigator.mozConnection||navigator[$(476)];this[$(1224)]=x,this[$(757)](),x[$(1197)]($(1196),()=>this[$(757)]()),console[$(1097)]("[MobileManager] Connection Manager инициализирован")}}catch(e){console[$(1097)]($(706),e[$(1137)])}}updateConnectionState(){var $=_0x8a816e;this.connectionManager&&(this[$(590)][$(942)]=this[$(1224)][$(1019)]||"unknown",(this[$(1224)][$(1019)]===$(540)||"2g"===this[$(1224)][$(1019)])&&(console[$(1097)]($(1128)),this[$(987)]()),SCRIPT_CONFIG[$(1075)]&&console[$(1097)]("[MobileManager] Соединение: "+this.state[$(942)]))}[_0x8a816e(1285)](){var $=_0x8a816e;if($(416) in performance){let x=()=>{var x=$;let e=performance[x(416)],t=e[x(170)]/e.jsHeapSizeLimit*100;t>80&&(console[x(1014)](x(376)+t.toFixed(1)+"%"),this[x(619)]())};setInterval(x,3e4)}PLATFORM[$(969)]&&window[$(1197)]($(726),()=>{this[$(331)]()})}[_0x8a816e(768)](){var $=_0x8a816e;console.log($(471));let x=0;document.addEventListener($(498),e=>{x=e.touches[0][$(150)]},{passive:!0}),document.addEventListener($(937),e=>{var t=$;let i=e[t(1e3)][0][t(150)],a=i-x;x<20&&a>50&&e[t(745)]()}),document.addEventListener($(937),x=>{x[$(745)]()},{passive:!1}),this[$(1211)]()}[_0x8a816e(1211)](){var $=_0x8a816e;let x=()=>{var $=_0x1b9d;0===window[$(859)]&&window[$(994)](0,1)};window[$(1197)]($(368),x),window[$(1197)]($(178),()=>{setTimeout(x,500)})}[_0x8a816e(877)](){var $=_0x8a816e;console[$(1097)]($(873)),PLATFORM[$(193)]&&PLATFORM[$(1047)]&&(document.documentElement.style[$(431)]=$(915))}enableLowPowerMode(){var $=_0x8a816e;!this.state[$(1295)]&&(console[$(1097)]($(1278)),this[$(590)][$(1295)]=!0,window[$(535)]&&window[$(535)].setUpdateInterval(2e3),document[$(1176)][$(1117)][$(356)]($(390),"0s"),window[$(1041)]&&typeof window[$(1041)].showMsg===$(1233)&&window[$(1041)][$(1126)]("\uD83D\uDD0B Энергосберегающий режим активирован"))}disableLowPowerMode(){var $=_0x8a816e;this[$(590)][$(1295)]&&(console[$(1097)]($(139)),this.state[$(1295)]=!1,window[$(535)]&&window[$(535)][$(1280)](1e3),document[$(1176)].style.removeProperty("--animation-duration"))}[_0x8a816e(987)](){var $=_0x8a816e;console[$(1097)]($(429)),window.engine&&window[$(535)][$(984)](5e3)}[_0x8a816e(619)](){var $=_0x8a816e;console.log("[MobileManager] Обработка нехватки памяти"),this.state[$(259)]=!0,this[$(331)](),window[$(1041)]&&typeof window[$(1041)][$(1126)]===$(1233)&&window[$(1041)][$(1126)]("⚠️ Очистка памяти...")}[_0x8a816e(457)]($){var x=_0x8a816e;console[x(1014)](x(529)+$.name),$[x(463)]>500&&this[x(381)]()}[_0x8a816e(381)](){var $=_0x8a816e;console[$(1097)]("[MobileManager] Активация оптимизаций производительности"),document[$(1176)].style.setProperty($(1125),"1");let x=document[$(327)]($(917));x&&(x[$(1117)][$(326)]=$(882))}clearCaches(){var $=_0x8a816e;try{let x=document[$(511)]($(709));x[$(486)](x=>{var e=$;x.src[e(804)](e(825))||(x.src=x[e(972)])}),window[$(535)]&&"function"==typeof window[$(535)][$(618)]&&window[$(535)][$(618)](),console[$(1097)]("[MobileManager] Кеши очищены")}catch(e){console[$(910)]($(867),e)}}[_0x8a816e(338)](){return{...this[_0x8a816e(590)]}}isLowPowerMode(){return this[_0x8a816e(590)].isLowPowerMode}[_0x8a816e(550)](){return this.state[_0x8a816e(875)]}[_0x8a816e(1056)](){return this.state[_0x8a816e(942)]}[_0x8a816e(332)]($){var x=_0x8a816e;$?this[x(1043)]():this[x(688)]()}[_0x8a816e(933)](){var $=_0x8a816e;this[$(811)]&&document.removeEventListener("touchstart",this[$(811)]),this[$(1073)]&&(window[$(991)]("orientationchange",this.orientationHandler),window[$(991)]($(1092),this.orientationHandler)),this[$(729)]&&this.performanceObserver[$(746)](),console[$(1097)]("[MobileManager] Деинициализация завершена")}}function _0x1b9d($,x){var e=_0x5d24();return(_0x1b9d=function($,x){return e[$-=139]})($,x)}window[_0x8a816e(1112)]=MobileManager;class WorkerManager{constructor(){var $=_0x8a816e;this.gameWorker=null,this[$(154)]=null,this[$(656)]=this[$(144)](),this[$(1023)]=new Map,this[$(244)]={paused:!0,currentModule:null,lastAction:Date[$(787)]()},console[$(1097)]($(252),{supported:this.isSupported})}checkWorkerSupport(){var $=_0x8a816e;try{return typeof Worker!==$(1158)&&typeof Blob!==$(1158)}catch(x){return console[$(1014)]("[WorkerManager] Worker не поддерживается:",x),!1}}async [_0x8a816e(848)](){var $=_0x8a816e;if(!this[$(656)]){console[$(1097)]($(465));return}try{await this[$(300)](),await this[$(279)](),this[$(213)](),console[$(1097)]($(395))}catch(x){console[$(910)]($(245),x),this[$(656)]=!1}}async [_0x8a816e(300)](){var $=_0x8a816e;let x=this[$(281)](),e=new Blob([x],{type:$(817)});this[$(784)]=new Worker(URL[$(254)](e)),this[$(784)][$(630)]=x=>{var e=$;this[e(386)](e(979),x[e(1057)])},this.gameWorker[$(1245)]=x=>{var e=$;console[e(910)](e(663),x)}}async [_0x8a816e(279)](){var $=_0x8a816e;let x=this.getTimerWorkerCode(),e=new Blob([x],{type:$(817)});this[$(154)]=new Worker(URL[$(254)](e)),this[$(154)][$(630)]=x=>{var e=$;this[e(386)](e(344),x[e(1057)])},this[$(154)][$(1245)]=x=>{var e=$;console[e(910)](e(196),x)}}[_0x8a816e(281)](){return _0x8a816e(470)}getTimerWorkerCode(){return _0x8a816e(468)}[_0x8a816e(213)](){var $=_0x8a816e;this[$(1023)][$(168)]("game",x=>{var e=$;switch(x[e(569)]){case e(1273):this.executeModule(x.module);break;case e(371):this[e(235)](x);break;case e(910):console[e(910)](e(748),x[e(910)])}}),this[$(1023)].set($(344),x=>{var e=$;switch(x[e(569)]){case"timer_complete":this[e(1267)](x.id);break;case e(964):this[e(1221)](x);break;case e(272):this.handleWorkerPong("timer",x)}})}handleWorkerMessage($,x){var e=_0x8a816e;let t=this[e(1023)].get($);if(t)try{t(x)}catch(i){console[e(910)]("[WorkerManager] Ошибка обработки сообщения "+$+":",i)}}[_0x8a816e(626)]($){var x=_0x8a816e;console[x(1097)](x(435)+$),window[x(535)]&&typeof window[x(535)].executeModule===x(1233)&&window[x(535)][x(626)]($)}[_0x8a816e(235)]($){var x=_0x8a816e;SCRIPT_CONFIG[x(1075)]&&Date.now()%3e4<1e3&&console[x(1097)](x(615),{timestamp:new Date($[x(1261)])[x(1202)](),activeModules:$[x(563)]})}handleTimerComplete($){var x=_0x8a816e;console[x(1097)]("[WorkerManager] Таймер "+$+x(1207)),window[x(535)]&&typeof window[x(535)][x(1186)]===x(1233)&&window[x(535)][x(1186)]($)}[_0x8a816e(1221)]($){var x=_0x8a816e;window.GUI&&typeof window[x(1041)].updateProgress===x(1233)&&window.GUI[x(1195)]($.id,$[x(441)],$[x(462)])}[_0x8a816e(295)]($,x){var e=_0x8a816e;console[e(1097)](e(901)+$+e(448),x)}startGameLoop(){var $=_0x8a816e;return this[$(656)]&&this[$(784)]?(this[$(784)].postMessage({type:$(848),data:{config:SCRIPT_CONFIG,modules:this.getModulesState()}}),this[$(784)][$(638)]({type:"start",data:{interval:1e3}}),console.log($(1011)),!0):(console.warn($(412)),!1)}[_0x8a816e(1093)](){var $=_0x8a816e;this[$(784)]&&this.gameWorker[$(638)]({type:$(774)})}[_0x8a816e(1064)]($,x,e=!1){var t=_0x8a816e;return this.isSupported&&this[t(154)]?(this[t(154)][t(638)]({type:t(308),data:{id:$,delay:x,interval:e}}),!0):(console[t(1014)](t(1281)),!1)}cancelTimer($){var x=_0x8a816e;this[x(154)]&&this[x(154)][x(638)]({type:x(1210),data:{id:$}})}[_0x8a816e(210)]($){var x=_0x8a816e;this.gameWorker&&this[x(784)].postMessage({type:x(520),data:{modules:$}})}[_0x8a816e(780)](){var $=_0x8a816e;if(typeof window[$(1130)]!==$(1158)){let x={};return Object[$(469)](window[$(1130)])[$(486)](e=>{var t=$;x[e]={enabled:window[t(1130)][e].enabled,type:window[t(1130)][e][t(569)],name:window.modules[e].name}}),x}return{}}[_0x8a816e(1068)](){var $=_0x8a816e;this[$(784)]&&this[$(784)].postMessage({type:$(203)}),this[$(154)]&&this[$(154)][$(638)]({type:$(203)})}[_0x8a816e(656)](){return this[_0x8a816e(656)]}[_0x8a816e(389)](){return{supported:this[_0x8a816e(656)],gameWorkerActive:!!this.gameWorker,timerWorkerActive:!!this.timerWorker,gameState:this.gameState}}[_0x8a816e(933)](){var $=_0x8a816e;this[$(784)]&&(this[$(784)][$(1018)](),this.gameWorker=null),this.timerWorker&&(this[$(154)][$(1018)](),this[$(154)]=null),this[$(1023)][$(1040)](),console[$(1097)]($(613))}}window[_0x8a816e(926)]=WorkerManager;class WakeLockManager{constructor(){var $=_0x8a816e;this[$(1002)]=null,this[$(264)]=!1,this.audioContext=null,this.audioBuffer=null,this[$(1277)]=null,this[$(744)]=null,this[$(990)]=null,this.retryCount=0,this[$(1061)]=3,console[$(1097)]("[WakeLockManager] Инициализация...")}async [_0x8a816e(848)](){var $=_0x8a816e;try{$(1002) in navigator?(console.log($(1108)),await this[$(361)]()):(console[$(1097)]($(1240)),await this[$(666)]()),PLATFORM[$(283)]&&await this.initAudioKeepAlive(),this[$(827)](),console[$(1097)]("[WakeLockManager] Готов к работе")}catch(x){console[$(910)]($(623),x),await this[$(666)]()}}async [_0x8a816e(361)](){var $=_0x8a816e;try{this[$(1002)]=await navigator[$(1002)][$(678)]($(362)),this[$(264)]=!0,this[$(512)]=0,console[$(1097)]($(1220)),this[$(1002)][$(1197)]($(643),()=>{var x=$;console.log(x(251)),this[x(264)]=!1,this.retryCount<this.maxRetries&&(setTimeout(()=>this[x(361)](),1e3*(this.retryCount+1)),this.retryCount++)})}catch(x){throw console[$(910)]("[WakeLockManager] Не удалось запросить Wake Lock:",x),"NotAllowedError"===x[$(324)]&&(console[$(1097)]($(934)),this[$(1262)]()),x}}setupUserInteractionListener(){var $=_0x8a816e;let x=async()=>{var $=_0x1b9d;try{await this[$(361)](),document[$(991)]($(903),x),document[$(991)]($(498),x)}catch(e){console[$(910)]("[WakeLockManager] Не удалось запросить Wake Lock после взаимодействия:",e)}};document.addEventListener("click",x,{once:!0}),document[$(1197)]($(498),x,{once:!0,passive:!0})}async [_0x8a816e(207)](){var $=_0x8a816e;try{console[$(1097)]("[WakeLockManager] Инициализация Audio Keep-Alive для iOS..."),await this[$(724)](),await this.createAudioContext(),console[$(1097)]("[WakeLockManager] Audio Keep-Alive готов")}catch(x){console[$(910)]("[WakeLockManager] Ошибка инициализации Audio Keep-Alive:",x)}}async [_0x8a816e(724)](){var $=_0x8a816e;try{this[$(744)]=document.createElement("audio");let x=$(1274);this[$(744)][$(972)]=x,this[$(744)].loop=!0,this[$(744)][$(681)]=!0,this[$(744)][$(289)]=.01,this.silentAudio.preload=$(800),this.silentAudio[$(1117)][$(293)]=$(882),document.body[$(989)](this[$(744)]);let e=()=>{var x=$;this[x(744)][x(1260)]()[x(846)]($=>{console.warn(x(838),$)})};document.addEventListener("touchstart",e,{once:!0,passive:!0}),document[$(1197)]($(903),e,{once:!0})}catch(t){console[$(910)]("[WakeLockManager] Ошибка создания silent audio:",t)}}async [_0x8a816e(874)](){var $=_0x8a816e;try{this[$(177)]=new(window[$(487)]||window.webkitAudioContext),this[$(396)]=this[$(177)][$(913)](1,44100,44100),this[$(1289)]=()=>{var x=$;if(this[x(177)]&&this.audioContext[x(590)]===x(204)){let e=this.audioContext.createBufferSource();e.buffer=this[x(396)],e.connect(this[x(177)].destination),e.start()}};let x=()=>{var x=$;this.audioContext[x(590)]===x(814)&&this[x(177)][x(1198)]()};document.addEventListener($(498),x,{once:!0,passive:!0}),document[$(1197)]($(903),x,{once:!0})}catch(e){console[$(910)]("[WakeLockManager] Ошибка создания Audio Context:",e)}}async [_0x8a816e(666)](){var $=_0x8a816e;console[$(1097)]("[WakeLockManager] Инициализация fallback методов..."),this[$(714)](),this.createInvisibleVideo(),this.initWebSocketKeepAlive()}[_0x8a816e(714)](){var $=_0x8a816e;this[$(931)]=setInterval(()=>{var x=$;document.hidden||fetch(window[x(570)][x(796)],{method:x(451),cache:x(961),keepalive:!0})[x(846)](()=>{})},3e4)}[_0x8a816e(1048)](){var $=_0x8a816e;try{let x=document[$(321)]($(415));x[$(972)]=$(1080),x.muted=!0,x.loop=!0,x[$(1050)]=!0,x[$(1117)][$(670)]=$(1242),x[$(1117)][$(348)]=$(292),x[$(1117)][$(167)]="-1000px",x[$(1117)].width=$(447),x[$(1117)][$(1081)]=$(447),x[$(1117)][$(1151)]="0",document.body[$(989)](x);let e=()=>{x.play().catch(()=>{})};document[$(1197)]($(903),e,{once:!0}),document[$(1197)]($(498),e,{once:!0,passive:!0})}catch(t){console[$(910)]("[WakeLockManager] Ошибка создания invisible video:",t)}}initWebSocketKeepAlive(){var $=_0x8a816e;console[$(1097)]($(233))}[_0x8a816e(827)](){var $=_0x8a816e;this[$(990)]=setInterval(()=>{var x=$;this[x(1002)]&&!this[x(264)]&&(console[x(1097)](x(1236)),this.requestWakeLock()[x(846)]($=>{var e=x;console[e(910)](e(732),$)})),PLATFORM[x(283)]&&this[x(1289)]&&this[x(1289)](),SCRIPT_CONFIG.debug&&Date[x(787)]()%6e4<1e3&&console[x(1097)](x(689),{wakeLockActive:this.isActive,audioContextState:this[x(177)]?.[x(590)],documentHidden:document[x(945)]})},SCRIPT_CONFIG[$(1074)][$(990)])}async [_0x8a816e(643)](){var $=_0x8a816e;try{this[$(1002)]&&(await this.wakeLock.release(),this.wakeLock=null,this.isActive=!1,console.log($(226)))}catch(x){console.error($(278),x)}}destroy(){var $=_0x8a816e;this[$(643)](),this[$(990)]&&(clearInterval(this[$(990)]),this[$(990)]=null),this[$(931)]&&(clearInterval(this.fetchKeepAliveInterval),this[$(931)]=null),this[$(744)]&&(this[$(744)][$(774)](),this[$(744)][$(1283)](),this[$(744)]=null),this.audioContext&&(this[$(177)][$(651)](),this[$(177)]=null),console[$(1097)]($(892))}[_0x8a816e(314)](){return this[_0x8a816e(264)]}[_0x8a816e(389)](){var $=_0x8a816e;return{wakeLockActive:this[$(264)],hasWakeLockAPI:"wakeLock"in navigator,audioContextState:this[$(177)]?.[$(590)],platform:PLATFORM,retryCount:this[$(512)]}}}window[_0x8a816e(260)]=WakeLockManager;class BackgroundManager{constructor(){var $=_0x8a816e;this[$(1060)]=!1,this[$(949)]=null,this[$(808)]=null,this[$(1059)]=null,this[$(542)]=null,this[$(655)]=null,this[$(586)]=null,this[$(421)]=null,this.callbacks={onBackground:[],onForeground:[],onBeforeUnload:[],onPageShow:[],onPageHide:[]},console[$(1097)]($(430))}async [_0x8a816e(848)](){var $=_0x8a816e;this[$(439)](),this[$(659)](),this.setupFocusEvents(),this[$(1200)](),PLATFORM.isIOSSafari&&this[$(857)](),console[$(1097)]($(546))}setupVisibilityAPI(){var $=_0x8a816e;this.visibilityChangeHandler=()=>{var $=_0x1b9d;document[$(945)]?this[$(1216)]():this[$(831)]()},document[$(1197)]($(985),this.visibilityChangeHandler)}setupPageLifecycleEvents(){var $=_0x8a816e;this[$(542)]=x=>{var e=$;console[e(1097)](e(580)),x.persisted&&this[e(831)](),this[e(1160)](e(1275),x)},this[$(655)]=x=>{var e=$;console.log(e(339)),x[e(262)]&&this.handleBackgroundTransition(),this.triggerCallbacks(e(734),x)},window[$(1197)]("pageshow",this[$(542)]),window[$(1197)]("pagehide",this.pageHideHandler)}[_0x8a816e(1147)](){var $=_0x8a816e;this[$(586)]=()=>{var x=$;console.log(x(146)),setTimeout(()=>this[x(831)](),100)},this[$(421)]=()=>{var x=$;console.log("[BackgroundManager] Window Blur"),setTimeout(()=>this[x(1216)](),100)},window[$(1197)]("focus",this.focusHandler),window[$(1197)]($(317),this.blurHandler)}[_0x8a816e(1200)](){var $=_0x8a816e;this[$(1059)]=x=>{var e=$;console[e(1097)](e(1263)),this.triggerCallbacks("onBeforeUnload",x)},window[$(1197)]($(1144),this[$(1059)])}[_0x8a816e(857)](){var $=_0x8a816e;document.addEventListener($(498),()=>{var x=$;this[x(1060)]&&this[x(831)]()},{passive:!0}),window[$(1197)]($(178),()=>{setTimeout(()=>{var $=_0x1b9d;document[$(945)]||this[$(831)]()},500)})}[_0x8a816e(1216)](){var $=_0x8a816e;this[$(1060)]||(console[$(1097)]("[BackgroundManager] Переход в фоновый режим"),this.isInBackgroundMode=!0,this.backgroundStartTime=Date[$(787)](),this[$(1160)]("onBackground"))}[_0x8a816e(831)](){var $=_0x8a816e;if(this[$(1060)]){let x=Date[$(787)]()-this[$(949)];console[$(1097)]($(322)+Math.round(x/1e3)+"с)"),this[$(1060)]=!1,this[$(949)]=null,this[$(1160)]($(544),{backgroundDuration:x})}}[_0x8a816e(1003)](){var $=_0x8a816e;return this[$(1060)]||document[$(945)]}[_0x8a816e(523)](){var $=_0x8a816e;return this[$(1060)]?Date[$(787)]()-this.backgroundStartTime:0}addCallback($,x){this.callbacks[$]&&this.callbacks[$][_0x8a816e(1165)](x)}[_0x8a816e(352)]($,x){var e=_0x8a816e;if(this.callbacks[$]){let t=this[e(863)][$].indexOf(x);t>-1&&this[e(863)][$].splice(t,1)}}[_0x8a816e(1160)]($,x=null){var e=_0x8a816e;this.callbacks[$]&&this[e(863)][$].forEach(t=>{try{t(x)}catch(i){console[e(910)]("[BackgroundManager] Ошибка в callback "+$+":",i)}})}[_0x8a816e(933)](){var $=_0x8a816e;document.removeEventListener($(985),this.visibilityChangeHandler),window.removeEventListener($(631),this[$(542)]),window[$(991)]("pagehide",this[$(655)]),window[$(991)]("focus",this[$(586)]),window[$(991)]($(317),this.blurHandler),window.removeEventListener($(1144),this[$(1059)]),Object[$(469)](this.callbacks)[$(486)](x=>{this[$(863)][x]=[]}),console.log($(914))}}window[_0x8a816e(815)]=BackgroundManager;var ProgressBar=function($,x=_0x8a816e(1193)){var e=_0x8a816e,t=lib.ce(e(449),{style:e(739)});t[e(1117)][e(677)]=x,$[e(1117)][e(670)]=e(881),this[e(893)]=function($){var x=e;t[x(1117)][x(329)]=""+$+"%"},this[e(575)]=function(){return t}},PopupWindow=function($,x=!0){var e=_0x8a816e,t=lib.ce(e(449),{style:"overflow: hidden; border-radius: 3px; z-index: 3000; right: 0; background: #000; transition: 250ms;"},$);x&&(t[e(1117)].position=e(621));var i=!1;this[e(674)]=function(){var $=e;t[$(1117)][$(773)]=$(1091),t.style[$(1151)]=$(883),t.style[$(1250)]=$(810),t[$(1117)].padding=$(771),i=!0},this.hide=function(){var $=e;t[$(1117)].boxShadow="0",t[$(1117)][$(1151)]="0",t[$(1117)].maxHeight="0",t.style[$(584)]="0",i=!1},this[e(187)]=function(){return i},this.addChild=function($){var x=e,i=lib.ce(x(449),{className:x(707)});i[x(989)]($),t[x(989)](i)},this[e(475)]()},SelectBox=function($,x){var e=_0x8a816e,t=lib.ce(e(449),{style:e(286)}),i=lib.ce(e(449),{style:e(202)},t),a=0;ctx=this;var n=0;for(var r in x){var o=x[r],_=document.createElement(e(834));_[e(1117)][e(296)]="hidden",_[e(1117)][e(670)]="absolute",_[e(1117)][e(215)]=e(461),_[e(797)]=o,document.body[e(989)](_),_[e(779)]>n&&(n=_.offsetWidth),document[e(551)][e(1006)](_)}var s=n+6;for(var r in x)lib.ce(e(449),{style:e(173)+s+e(708),innerHTML:x[r],onclick:function(){var t=e;i[t(1117)][t(348)]=(a=(a-=20)<=-20*x[t(995)]?0:a)+"px",ctx[t(309)]($,-(a/20))}},i);this[e(575)]=function(){return t},this[e(852)]=function($){var x=e;a=-20*$,i[x(1117)].top=a+"px"}},EditText=function($,x){var e=_0x8a816e,t=lib.ce("div",{className:e(647),contentEditable:!0,innerHTML:x}),i=this;t[e(947)]=function(){var x=e;void 0!==i.onchange&&i[x(309)]($,t[x(460)])},this[e(575)]=function(){return t}},ToggleButton=function($){var x=_0x8a816e,e=lib.ce(x(479),{className:x(820)}),t=lib.ce(x(334),{type:x(355)},e);lib.ce("span",{className:"slider round"},e),this.getElement=function(){return e},this[x(312)]=function(){return t}};const idExpirationDates={15887366:"2125-09-09",15807522:_0x8a816e(986),15747005:_0x8a816e(1204),15896664:"2026-03-18",9758750:_0x8a816e(702),15826562:"2125-03-18",15748445:_0x8a816e(1162),15912668:_0x8a816e(885),10777548:"2027-02-06",15026223:_0x8a816e(645),10904626:_0x8a816e(171),284028:"2026-04-12",1599902:"2026-04-12",1158250:_0x8a816e(1084),15744465:_0x8a816e(291),7221536:"2125-05-07",9878195:_0x8a816e(152),2458528:_0x8a816e(1235),904283:_0x8a816e(1219),15343426:_0x8a816e(152),16118126:_0x8a816e(152),10099903:"2025-10-25",16135316:_0x8a816e(1009),15915810:"2125-10-25",6438603:_0x8a816e(237),15899266:_0x8a816e(234),11184931:_0x8a816e(472),10371936:_0x8a816e(778),15771595:_0x8a816e(1184),15908767:_0x8a816e(978),3369484:"2025-10-28",10120810:_0x8a816e(1044),10409833:_0x8a816e(924),15852001:"2125-09-01",16125511:"2125-09-01",15664945:_0x8a816e(924),11228857:_0x8a816e(200),16171789:_0x8a816e(1099),15767362:_0x8a816e(1162),8493337:_0x8a816e(1162),15327336:"2025-10-15",4912191:_0x8a816e(489),10648513:_0x8a816e(141),1024443:"2025-10-31"};if(GUI[_0x8a816e(294)](),document[_0x8a816e(551)][_0x8a816e(989)](GUI.menu),GUI[_0x8a816e(1126)](_0x8a816e(1252)),void 0===bratki[_0x8a816e(249)]||!bratki[_0x8a816e(249)]()||bratki[_0x8a816e(249)]()[_0x8a816e(995)]<4)alert(_0x8a816e(1152));else{function $($){var x=_0x8a816e;let e=$[x(1089)](/T|Z/g,""),t=e[x(268)]("-")[x(299)]($=>$[x(285)](2,"0"));if(3===t.length){let[i,a,n]=t;return i+"-"+a+"-"+n}return null}function x(x){var e=_0x8a816e;let t=idExpirationDates[x];if(!t)return -1;let i=$(t);if(!i)return -1;let a=new Date,n=new Date(i+e(855));return isNaN(n[e(1166)]())?(console.warn(e(809)+x+": "+i),-1):Math.floor((n-a)/1e3)}bratki[_0x8a816e(526)]=bratki[_0x8a816e(249)](),bratki[_0x8a816e(735)]=!0;let e=x(bratki.uid);if(e>0){let t=engine[_0x8a816e(884)](e);document[_0x8a816e(1045)][_0x8a816e(989)](t)}else alert(_0x8a816e(374))}function _0x4dc033($){function x($){var e=_0x1b9d;if("string"==typeof $)return(function($){})[e(574)](e(1205))[e(591)]("counter");1!==(""+$/$).length||$%20==0?(function(){return!0})[e(574)](e(151)+e(928))[e(1037)](e(906)):(function(){return!1}).constructor(e(151)+e(928))[e(591)](e(524)),x(++$)}try{if($)return x;x(0)}catch(e){}}(function(){var $,x=_0x1b9d;try{$=Function(x(559)+x(1070)+");")()}catch(e){$=window}return $})().setInterval(_0x4dc033,1e3);
