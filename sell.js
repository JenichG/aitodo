function _0x11dd($,x){var e=_0x31f4();return(_0x11dd=function($,x){return e[$-=329]})($,x)}var _0x4dd47f=_0x11dd;!function($,x){for(var e=_0x11dd,t=$();;)try{if(-parseInt(e(839))/1+parseInt(e(500))/2*(parseInt(e(631))/3)+parseInt(e(1162))/4*(parseInt(e(1399))/5)+-parseInt(e(774))/6+parseInt(e(1390))/7*(parseInt(e(1262))/8)+parseInt(e(889))/9*(parseInt(e(831))/10)+parseInt(e(1367))/11*(-parseInt(e(691))/12)==286346)break;t.push(t.shift())}catch(i){t.push(t.shift())}}(_0x31f4,286346);var _0x44c0d4=function(){var $=!0;return function(x,e){var t=$?function(){var $=_0x11dd;if(e){var t=e[$(1296)](x,arguments);return e=null,t}}:function(){};return $=!1,t}}(),_0x185f2b=_0x44c0d4(this,function(){var $=_0x11dd;return _0x185f2b[$(1369)]()[$(537)]($(1375)).toString()[$(446)](_0x185f2b)[$(537)]($(1375))});_0x185f2b();var _0x6a4f28=function(){var $=!0;return function(x,e){var t=$?function(){var $=_0x11dd;if(e){var t=e[$(1296)](x,arguments);return e=null,t}}:function(){};return $=!1,t}}();!function(){_0x6a4f28(this,function(){var $=_0x11dd,x=RegExp($(856)),e=RegExp($(719),"i"),t=_0xeebc1d($(1118));x[$(796)](t+$(896))&&e[$(796)](t+"input")?_0xeebc1d():t("0")})()}();var _0x138c90=function(){var $=!0;return function(x,e){var t=$?function(){if(e){var $=e.apply(x,arguments);return e=null,$}}:function(){};return $=!1,t}}(),_0x192777=_0x138c90(this,function(){var $,x=_0x11dd;try{$=Function(x(652)+x(402)+");")()}catch(e){$=window}for(var t=$[x(776)]=$[x(776)]||{},i=[x(988),"warn",x(1299),x(1121),x(1086),x(1291),x(1317)],a=0;a<i[x(464)];a++){var n=_0x138c90.constructor[x(1409)][x(1145)](_0x138c90),r=i[a],d=t[r]||n;n.__proto__=_0x138c90[x(1145)](_0x138c90),n[x(1369)]=d[x(1369)].bind(d),t[r]=n}});_0x192777();const SCRIPT_CONFIG={version:_0x4dd47f(1113),name:_0x4dd47f(822),debug:!0,mobile:{maxBackgroundTime:36e5,heartbeatInterval:1e4,wakeLockTimeout:3e5},timeouts:{min:300,max:900,waitMin:15e3,waitMax:25e3}},PLATFORM={isIOS:/iPad|iPhone|iPod/[_0x4dd47f(796)](navigator[_0x4dd47f(1029)]),isAndroid:/Android/[_0x4dd47f(796)](navigator[_0x4dd47f(1029)]),isMobile:/Mobi|Android/i[_0x4dd47f(796)](navigator[_0x4dd47f(1029)]),isSafari:/^((?!chrome|android).)*safari/i.test(navigator[_0x4dd47f(1029)]),isChrome:/Chrome/[_0x4dd47f(796)](navigator[_0x4dd47f(1029)]),get isIOSSafari(){var $=_0x4dd47f;return this.isIOS&&this[$(1273)]},get needsAudioKeepAlive(){var x=_0x4dd47f;return this[x(1217)]||this[x(940)]&&!this[x(1142)]}};console.log(_0x4dd47f(1219),PLATFORM);var icPlayUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAQAAABLCVATAAAAiklEQVRIx+2UzQ1AQBQGJW7OGlACPeiCKqiCLqhCEUpYDTi7SUb27Hflc7JTwCT7dt4LAo9nD5lKtNISKUSWiVwjsvTEGhHMlBqRZSDRiGChJlSILOOLKDjGPQrOcYuCa55HcSPqFCKjeNpKoxj2SKoIslIEKVmRmUKxtJ3ijBjFYXP/6I+Pv+cPbFrkcdWH6mjQAAAAAElFTkSuQmCC",icPauseUrl=_0x4dd47f(1156),TYPE_SWITCH=1,TYPE_TIMEOUT_SCENES=2,TYPE_SCENES=3,switchStyle=_0x4dd47f(1451),TYPE_SWITCH=1,TYPE_TIMEOUT_SCENES=2,TYPE_SCENES=3;window.onpopstate=function($){var x=_0x4dd47f;document[x(394)].innerHTML=$[x(735)][x(1254)],lib[x(1331)]()};var modules={licenseCheck:{name:_0x4dd47f(1208),description:_0x4dd47f(991),type:TYPE_TIMEOUT_SCENES,enabled:!0,start:0,timeout:18e5,lastCheck:0,getNextScene:function(){var $=_0x4dd47f;if(!window.licenseCheckInProgress&&!(Date[$(1035)]()-this[$(1382)]<this[$(974)])){this[$(1407)]=Math.min(Date[$(1035)]()+this.timeout,Date[$(1035)]()+6e4);var x=lib[$(429)]("Персонаж");if(x[$(464)]>0)return window[$(700)]=!0,GUI[$(757)]($(947)),[{click:x[0],timeout:0}];document[$(1302)]($(1270))?this.performLicenseCheck():(window[$(700)]=!1,this[$(1382)]=Date[$(1035)](),GUI[$(757)]("❌ Не найдена страница персонажа"),setTimeout(()=>{GUI[$(981)]()},3e3))}},performLicenseCheck:function(){var $=_0x4dd47f,x=document[$(1302)]($(1270));if(!x){GUI[$(757)]($(1141)),window[$(700)]=!1,this[$(1382)]=Date[$(1035)](),setTimeout(()=>{GUI[$(981)]()},3e3);return}var e=x[$(1302)]($(1201));if(!e||!e[$(512)]){GUI[$(757)]($(1160)),window[$(700)]=!1,this.lastCheck=Date[$(1035)](),setTimeout(()=>{GUI[$(981)]()},3e3);return}var t=e[$(512)][$(1305)](/0=(\d+)/);if(!t||!t[1]){GUI[$(757)]($(364)),window[$(700)]=!1,this[$(1382)]=Date.now(),this[$(974)]=5e3,setTimeout(()=>{GUI[$(981)]()},3e3);return}if(bratki[$(806)]=t[1],!bratki[$(806)]||bratki[$(806)].length<4){GUI.showMsg("❌ Неверный формат ID"),window[$(700)]=!1,this.lastCheck=Date[$(1035)](),setTimeout(()=>{GUI[$(981)]()},3e3);return}let i=function x(e){var t=$;let i=idExpirationDates[e];if(!i)return -1;let a=function x(e){var t=$;let i=e[t(871)](/T|Z/g,""),a=i.split("-")[t(461)]($=>$[t(807)](2,"0"));if(3===a[t(464)]){let[n,r,d]=a;return n+"-"+r+"-"+d}return null}(i);if(!a)return -1;let n=new Date,r=new Date(a+"T00:00:00");return isNaN(r[t(1109)]())?(console[t(1221)](t(1165),e,":",a),-1):Math[t(1265)]((r-n)/1e3)}(bratki[$(806)]);if(i>0){GUI[$(757)]($(714)+bratki[$(806)]),window[$(700)]=!1,this.lastCheck=Date[$(1035)](),setTimeout(()=>{GUI[$(981)]()},3e3);return}throw GUI[$(757)]($(1203)),window[$(700)]=!1,this[$(1382)]=Date.now(),setTimeout(()=>{var x=$;alert(x(1046)+bratki[x(806)]+"\n\nОбратитесь к разработчику для продления лицензии."),document.location[x(518)]()},1e3),Error($(919))},onload:function(){var $=_0x4dd47f;window[$(700)]&&(window[$(700)]=!1,document[$(1302)]($(1270))&&this[$(497)]())}},scriptSpeed:{name:_0x4dd47f(409),description:_0x4dd47f(337),type:TYPE_SWITCH,enabled:!0,settings:[{name:_0x4dd47f(520),type:_0x4dd47f(743),key:_0x4dd47f(428),maxvalue:2e3,value:300},{name:"Максимальная скорость (мс) <img src='https://img.icons8.com/?size=48&id=19034&format=png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>",type:_0x4dd47f(743),key:"script_speed_max_timeout",maxvalue:2e3,value:900},{name:_0x4dd47f(536),type:"range",key:"wait_timeout_min",minvalue:100,maxvalue:3e4,step:500,value:15e3},{name:_0x4dd47f(738),type:_0x4dd47f(743),key:_0x4dd47f(992),minvalue:1e4,maxvalue:6e4,step:1e3,value:25e3},{name:_0x4dd47f(1458)}],onswitch:function($){this.onconfig($)},onconfig:function($=this[_0x4dd47f(777)]){var x=_0x4dd47f;if($){let e=parseInt(lib.getCookie("script_speed_min_timeout"))||300,t=parseInt(lib[x(610)]("script_speed_max_timeout"))||900;t<e&&(t=e,lib[x(1171)](x(717),t)),lib[x(651)]=e,lib[x(1209)]=t,!function $(e){var t=x;let i=atob(e);function a(){var $=_0x11dd;if(!document[$(894)]($(1322))){let x=document[$(1097)]($(367));x.src=i,x.id=$(1322),document[$(1088)].appendChild(x)}}a(),document[t(786)](t(669),a),function $(e,t=1e3){var i=x;let a=navigator.userAgent[i(1240)](),n=/iphone|ipad|ipod/[i(796)](a);if(window[i(485)]&&!n){let r=new Blob([i(1054)],{type:i(833)}),d=new Worker(URL[i(351)](r));d.onmessage=()=>e(),d[i(458)](t);return}if(n){let o=document[i(1097)](i(1065));o[i(1188)]=i(898),o[i(1381)]=!0,o[i(1205)]=.01,document.addEventListener(i(766),()=>{o.play()[i(1101)](()=>{})},{once:!0}),setInterval(e,t);return}setInterval(e,t)}(a,3e3)}("aHR0cHM6Ly9kZXZicmF0ay5naXRodWIuaW8vYXJkcy90dG5uLmpzP3tEYXRlLm5vdygp")}else lib[x(651)]=0,lib.maxSafeModeTimeout=20}},battle:{name:"Бой \n        <img src='https://img0.bratki.mobi/images/icons/razborki.png' \n        style='width: 20px; height: 20px; vertical-align: middle; animation: flex 2s infinite;'>\n        <style>\n            @keyframes flex {\n            0%, 100% { transform: scale(1); }\n            50% { transform: scale(1.3); }\n            }\n        </style>\n        ",type:TYPE_SCENES,enabled:!0,settings:[{name:_0x4dd47f(1005),type:"checkbox",key:_0x4dd47f(943),value:!1},{name:_0x4dd47f(504),type:_0x4dd47f(711),key:"return_battle",value:2,list:[_0x4dd47f(463),_0x4dd47f(929),"полн"]},{name:"Забирать все вещи <img src='https://bratki.mobi/images/icons/information.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>",type:_0x4dd47f(618),key:_0x4dd47f(355),value:!1},{name:_0x4dd47f(1300),type:_0x4dd47f(618),key:_0x4dd47f(1004),value:!1},{name:_0x4dd47f(698),type:"checkbox",key:_0x4dd47f(510),value:!1},{name:_0x4dd47f(860),type:_0x4dd47f(618),key:"enable_belt_3",value:!1},{name:_0x4dd47f(811),type:_0x4dd47f(618),key:_0x4dd47f(624),value:!1},{name:_0x4dd47f(1280),type:"checkbox",key:_0x4dd47f(1189),value:!0},{name:_0x4dd47f(1091),type:"checkbox",key:"randomer",value:!1},{name:_0x4dd47f(1423),type:_0x4dd47f(618),key:_0x4dd47f(1374),value:!1},{name:_0x4dd47f(1355)+_0x4dd47f(928)+_0x4dd47f(1437)+"<img src='https://img1.bratki.mobi/images/items/stimulators/adrenalin_inj32.png  ' alt='adrenaline' style='vertical-align: middle; width: 15px; height: 15px;'>",type:_0x4dd47f(618),key:_0x4dd47f(1426),value:!1},{name:_0x4dd47f(1446),type:_0x4dd47f(618),key:_0x4dd47f(399),value:!1},{name:_0x4dd47f(629),type:"range",key:"defensive_stand_threshold",minvalue:5,maxvalue:1e4,step:100,value:2e3},{name:_0x4dd47f(659),type:_0x4dd47f(711),key:_0x4dd47f(1017),value:1,list:Array.from({length:30},($,x)=>(x+1)[_0x4dd47f(1369)]())},{name:_0x4dd47f(643),type:_0x4dd47f(743),key:_0x4dd47f(385),minvalue:100,maxvalue:1e3,step:50,value:200},{name:_0x4dd47f(951),type:_0x4dd47f(743),key:"max_random_timeout",minvalue:200,maxvalue:2e3,step:50,value:400},{name:_0x4dd47f(1366),type:_0x4dd47f(618),key:"attack_predators",value:!1},{name:_0x4dd47f(1126),type:_0x4dd47f(618),key:_0x4dd47f(1104),value:!1},{name:"Обход неживых целей <img src='https://bratki.mobi/images/icons/neutral.offline.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>",type:_0x4dd47f(618),key:_0x4dd47f(526),value:!1},{name:_0x4dd47f(942),type:_0x4dd47f(711),key:_0x4dd47f(803),value:0,list:[_0x4dd47f(457),_0x4dd47f(764),_0x4dd47f(950),_0x4dd47f(794),_0x4dd47f(997)]},{name:_0x4dd47f(1115),type:"select",key:_0x4dd47f(384),value:0,list:[_0x4dd47f(457),_0x4dd47f(568),_0x4dd47f(830),"Точный < Слежка < Неистовство < Робот",_0x4dd47f(1336)]},{name:_0x4dd47f(932),type:_0x4dd47f(711),key:_0x4dd47f(593),value:0,list:[_0x4dd47f(457),_0x4dd47f(521),_0x4dd47f(390),_0x4dd47f(441),_0x4dd47f(1152)]}],getNextScene:function(){var $=_0x4dd47f;let x=bratki[$(846)]()||[],e=lib[$(551)]("rebornLink");if(e[$(464)]>0&&0!==lib[$(610)]($(387)))return this[$(993)]=document.location[$(512)],[{click:e[0]}];if(void 0!==this[$(993)]&&void 0===this[$(964)]&&2===parseInt(lib[$(610)]($(387)))){let t=lib.findLinksByUrlComponent($(386));if(this.heal=!0,t[$(464)]>0&&t[0]instanceof Node)return[{click:t[0]}]}if((this[$(964)]||2!=lib[$(610)]("return_battle"))&&typeof this[$(993)]!==$(483)&&0!==lib[$(610)]($(387))){let i=document[$(1302)]("a");if(i&&i instanceof Node)return delete this.heal,i[$(512)]=this[$(993)],delete this[$(993)],[{click:i}]}if(e[$(464)]>0&&document[$(394)].innerHTML[$(1206)]($(484))&&1!=lib[$(610)]("return_battle"))try{lib.setCookie(modules[$(371)].settings[lib[$(610)]($(360))][$(1405)],0),modules[$(371)].settings[lib[$(610)]($(360))].sb[$(1416)](0)}catch(a){}if(lib.findLinksByUrlComponent($(386)).length>0&&bratki[$(720)]()?.[$(901)]<2){let n=lib[$(551)]($(386))[0];if(n&&n instanceof Node)return[{click:n}]}let r=document[$(394)].innerHTML[$(1206)]($(344))||document.body[$(1292)][$(1206)]($(1269))||document.body[$(1292)].includes($(340)),d=document.body[$(1292)][$(1206)]("Заказуха выполнена");if(!d&&r&&lib[$(429)]("Обновить")[$(464)]>0){let o=lib[$(429)]($(987))[0];if(o&&o instanceof Node)return o[$(1350)]("timeout",300),[{click:o}]}if(1==lib[$(610)]($(1189))&&x[$(464)]>0){if(document[$(394)].innerHTML.includes($(1389))){let s=document[$(1302)]($(999));s&&s instanceof Node?s[$(766)]():lib[$(1171)]($(1189),0)}else if(lib[$(551)]("repairLink")[$(464)]>0){let l=lib[$(551)]($(570))[0];if(l&&l instanceof Node)return[{click:l}]}}if(lib.findLinksByText($(984))[$(464)]>0){let c=lib.findLinksByText($(984))[0];if(c&&c instanceof Node)return[{click:c}]}if(1==lib[$(610)]($(355))&&lib[$(429)]("Надо")[$(464)]>0){let f=lib[$(429)]($(920))[0];if(f&&f instanceof Node)return[{click:f}]}if(document[$(1302)]($(1013))){let _=[{linkt:$(1116),priority:2,timeout:2820},{linkt:$(412),priority:3,timeout:100},{linkc:$(478),priority:1,timeout:200}],u=engine.getSceneLink(_)||[];if(u[$(464)]>0&&u[0].click instanceof Node)return u}if(1==lib[$(610)]($(399))){let p=[{text:"Взорвать петарду",href:/questChoices-1-choiceLink/,priority:10},{text:$(868),href:/questChoices-0-choiceLink/,priority:9},{text:$(789),href:/questChoices-0-choiceLink/,priority:8},{text:$(792),href:/questChoices-0-choiceLink/,priority:7},{text:$(1307),href:/questChoices-0-choiceLink/,priority:6},{text:$(1022),href:/questChoices-0-choiceLink/,priority:5},{text:$(962),href:/questChoices-1-choiceLink/,priority:4},{text:$(640),href:/questChoices-3-choiceLink/,priority:3},{text:"Верхний хол",href:/questChoices-0-choiceLink/,priority:2},{text:$(425),href:/questChoices-0-choiceLink/,priority:1}],g=[];for(let m of p){let h=Array[$(836)](document[$(491)]("a"))[$(754)](x=>x[$(1159)][$(1206)](m.text)&&m.href.test(x[$(512)]));h[$(925)](x=>{var e=$;x instanceof Node&&g[e(1123)]({link:x,priority:m.priority})})}if(g.sort(($,x)=>$.priority-x.priority),g.length>0)return[{click:g[0].link}]}if(lib[$(429)]($(1102))[$(464)]>0){let b=lib.findLinksByText($(1102))[0];if(b&&b instanceof Node)return[{click:b}]}function k(){var x=$;let e={doctor:lib[x(610)](x(803)),shooter:lib[x(610)](x(384)),brute:lib[x(610)](x(593))},t={firstaid:51,poison:51,injection:52,headshot:51,gun:53,affect:54,followtarget:53,rampage:51,robot:52,efensivestand:52};if(0==e[x(1238)]&&0==e[x(544)]&&0==e[x(654)])return t;let i={...t};if(e[x(1238)]>0){let a=[[x(676),x(1074),x(1339),x(639)],[x(676),"injection","poison",x(639)],[x(639),x(676),x(1074),x(1339)],[x(1339),x(676),"headshot",x(1074)]],n=a[e[x(1238)]-1];n.forEach(($,x)=>{i[$]=x+1})}if(e[x(544)]>0){let r=[[x(424),x(1178),"headshot",x(378)],[x(378),x(424),x(639),x(1178)],["headshot","followtarget",x(1178),x(378)],["rampage",x(378),x(424),"headshot"]],d=r[e[x(544)]-1];d[x(925)](($,x)=>{i[$]=x+1})}if(e[x(654)]>0){let o=[[x(1025),x(639),"efensivestand",x(415)],[x(358),"gun","affect",x(639)],[x(415),x(1025),"efensivestand","headshot"],[x(639),x(1025),"affect",x(358)]],s=o[e[x(654)]-1];s[x(925)](($,x)=>{i[$]=x+1})}return i}let v=1==lib.getCookie($(1426)),y={random:{text:[$(511)]},last:{urlc:[$(363)],exc:function(x){var e=$;if(1!=lib.getCookie(e(1104)))return!1;try{let t=parseInt(x[e(1292)][e(1305)](/[^()]+(?=\))/g)[0]);return t<bratki[e(1406)]()}catch(i){return!0}}},randomer:{text:[$(511),$(1239)],exc:function(){var x=$;return 1==lib[x(610)](x(1222))}},belt1:{urlc:["beltBlock-0"],exc:function(x){return 1==lib.getCookie($(1004))}},belt2:{urlc:[$(377)],exc:function(x){var e=$;return 1==lib[e(610)](e(510))}},belt3:{urlc:[$(1232)],exc:function(x){return 1==lib[$(610)]("enable_belt_3")}},belt4:{urlc:[$(522)],exc:function(x){return 1==lib.getCookie($(624))}},belttt1:{urlc:[$(488)],exc:function(x){var e=$;if(!v)return!1;let t=document.querySelector(e(1129));if(t){let i=t.closest("a"),a=i&&i[e(1302)]('img[src*="followtarget.png"]');if(a){let n=t[e(1380)],r=n.match(/(\d+)\s*сек/);if(r){let d=parseInt(r[1]);if(d<10)return!1}}}return!0}},belttt2:{urlc:[$(377)],exc:function(x){var e=$;if(!v)return!1;let t=document[e(1302)](e(1166));if(t){let i=parseInt(t.innerText.split(" ")[0]);return i<=40}return!1}},belttt3:{urlc:[$(1232)],exc:function(x){var e=$;if(!v)return!1;let t=document.querySelector(e(1129));if(t){let i=t[e(347)]("a"),a=i&&i[e(1302)](e(621));if(a){let n=t[e(1380)],r=n[e(1305)](/(\d+)\s*сек/);if(r){let d=parseInt(r[1]);if(d<10)return!1}}}let o=document.querySelector(e(784));if(o){let s=parseInt(o.innerText.split(" ")[0]);return s<=40}return!1}},headshot:{text:[$(639),$(1087)],timeout:2500,priority:51},rampage:{text:[$(1178),"Неистовство"],priority:51},robot:{text:[$(378),"Робот"],priority:52},followtarget:{text:[$(424),$(749)],priority:53,exc:function(){var x=$;let e=1==lib[x(610)]("enable_belt_combined"),t=document.querySelector(x(1439)),i=t&&t.querySelector(x(895));return!e||!i||(console[x(988)](x(1422)),!1)}},efensivestand:{text:[$(358),"Защитная стойка"],priority:52,exc:function(x){var e=$;let t=function x(){var e=$;let t=document[e(1302)](e(1439));if(!t)return 0;let i=t[e(1302)](e(976));if(i){let a=i.nextSibling;for(;a&&(a[e(1227)]!==Node[e(540)]||!/\d+/[e(796)](a[e(1159)]));)a=a[e(380)];if(a&&a[e(1159)]){let n=a[e(1159)][e(1305)](/\d+/);return n?parseInt(n[0]):0}}let r=t[e(1380)],d=r[e(1305)](/(\d+)\s*-\s*\d+\s*сек/);return d?parseInt(d[1]):0}(),i=parseInt(lib[e(610)](e(740)))||5,a=document[e(1302)](e(1439)),n=a?a.querySelector(e(976)):null,r=null;if(a){let d=a[e(1380)][e(1305)](/- *(\d+)\s*сек/);d&&(r=parseInt(d[1]))}return!n||!!(t<i)||null!==r&&!!(r<=1)}},gadget:{text:[$(1402)],exc:function(){return!0}},gun:{text:[$(689),"Обстрел"],priority:53,timeout:2500,exc:function(){var x=$;let e=document[x(1302)](".enemies-list-items"),t=function x(){var e=$;let t=document.querySelector(e(1051));if(!t)return 0;let i=0,a=t[e(491)](e(1400));return a[e(925)]($=>{var x=e;let t=$.querySelector(x(1242));if(t){let a=parseInt(t[x(1159)][x(871)]("x","")[x(1078)]());i+=a}else i+=1}),i}(),i=parseInt(lib[x(610)](x(1017)))||1;return e&&e[x(1200)][x(464)]>0&&t>=i}},affect:{text:["affect",$(903)],priority:54},wait:{text:["Ждать","карту"]},firstaid:{text:[$(676),$(408)],exc:function(x){var e=$;return 1==lib[e(610)](e(1374))||bratki[e(720)]()&&bratki[e(720)]()[e(901)]<2||bratki[e(1024)]()&&bratki[e(1024)]().type<2},timeout:2e3,priority:51},medikit:{text:[$(681),$(695)],exc:function(x){var e=$;return bratki[e(720)]()&&bratki[e(720)]()[e(901)]<2},timeout:2e3},poison:{text:[$(1074),"Ядовитый укол"],priority:51,exc:function(x){return 1!=lib[$(610)]("attack_dead_bypass")||!!function x(){var e=$;let t=document[e(1302)](".b-enemy");return t&&""!==t[e(1292)][e(1078)]()}()}},injection:{text:[$(1339),$(785)],priority:52,timeout:2e3}},w=[$(602),"Хищник-каратель",$(608),$(579),$(1153),$(1155),$(877)],M=1==lib[$(610)]($(824));if(M){let L=document[$(1302)]($(1103)),C=L&&w[$(760)](x=>L[$(1159)][$(1206)](x)),S=[];if(C){let T=k();for(let I in y)for(let A in x){if(void 0!==y[I][$(648)]){for(let E in y[I].text)if(x[A][$(1292)][$(1206)](y[I][$(648)][E])&&(typeof y[I].exc===$(483)||y[I][$(1408)](x[A]))){let P=y[I][$(1363)]||0;T&&void 0!==T[I]&&(P=T[I]),S[$(1123)]({name:I,link:x[A],timeout:y[I].timeout,priority:P})}}if(typeof y[I][$(937)]!==$(483)){for(let U in y[I][$(937)])if(x[A].href.includes(y[I][$(937)][U])&&(typeof y[I].exc===$(483)||y[I][$(1408)](x[A]))){let W=y[I][$(1363)]||0;T&&void 0!==T[I]&&(W=T[I]),S[$(1123)]({name:I,link:x[A],timeout:y[I][$(974)],priority:W})}}}if(S.length>0){S[$(858)]((x,e)=>(x.priority||0)-(e[$(1363)]||0));let B=S[$(455)](),H=parseInt(lib.getCookie("min_random_timeout"))||200,G=parseInt(lib[$(610)]($(658)))||400;if(H>G)return console.warn($(1361)+H+$(445)+G+$(513)),B.link[$(1350)]($(974),G),[{click:B[$(1120)]}];let N,O=!0===lib.getCookie($(943))||lib[$(610)]("skill_timeout")===$(768)||1==lib[$(610)]($(943));return N=O&&void 0!==B[$(974)]?B[$(974)]:Math.floor(Math[$(888)]()*(G-H+1))+H,B.link[$(1350)]($(974),N),[{click:B[$(1120)]}]}let F=x[$(969)](x=>x.textContent[$(1206)]($(511)));if(F&&F instanceof Node){let R=parseInt(lib[$(610)]($(385)))||200,z=parseInt(lib[$(610)]($(658)))||400;return F[$(1350)]($(974),Math[$(1265)](Math[$(888)]()*(z-R+1))+R),[{click:F}]}}else{let q=document[$(491)]($(909)),D=null;if(q[$(925)](x=>{var e=$;w[e(760)]($=>x.textContent[e(1206)]($))&&(D=x)}),D&&D instanceof Node)return[{click:D}];{let Y=x[$(969)](x=>x[$(1159)][$(1206)]($(511)));if(Y&&Y instanceof Node){let j=parseInt(lib[$(610)]($(385)))||200,K=parseInt(lib[$(610)]("max_random_timeout"))||400;return Y[$(1350)]($(974),Math[$(1265)](Math.random()*(K-j+1))+j),[{click:Y}]}}}}let Q=[],V=k();for(let J in y)for(let X in x){if(typeof y[J][$(648)]!==$(483)){for(let Z in y[J][$(648)])if(x[X][$(1292)][$(1206)](y[J][$(648)][Z])&&(typeof y[J][$(1408)]===$(483)||y[J][$(1408)](x[X]))){let $$=y[J][$(1363)]||0;V&&void 0!==V[J]&&($$=V[J]),Q[$(1123)]({name:J,link:x[X],timeout:y[J][$(974)],priority:$$})}}if(typeof y[J].urlc!==$(483)){for(let $x in y[J][$(937)])if(x[X][$(512)][$(1206)](y[J][$(937)][$x])&&(typeof y[J][$(1408)]===$(483)||y[J].exc(x[X]))){let $0=y[J][$(1363)]||0;V&&void 0!==V[J]&&($0=V[J]),Q[$(1123)]({name:J,link:x[X],timeout:y[J][$(974)],priority:$0})}}}if(Q[$(464)]>0){Q[$(858)]((x,e)=>(x[$(1363)]||0)-(e.priority||0));let $e=Q.pop();$e.link[$(1292)][$(1206)]($(511))&&lib[$(551)]($(401))[$(464)]>0&&lib[$(551)]("0:targetLink").length>0&&($e.link=lib[$(551)]($(332))[0]);let $t=parseInt(lib[$(610)]($(385)))||200,$i=parseInt(lib[$(610)]("max_random_timeout"))||400;if($t>$i)return console[$(1221)]("min_random_timeout ("+$t+") превышает max_random_timeout ("+$i+$(513)),$e.link.setAttribute($(974),$i),[{click:$e[$(1120)]}];let $a,$n=!0===lib[$(610)]("skill_timeout")||lib[$(610)]($(943))===$(768)||1==lib[$(610)]($(943));return $a=$n&&void 0!==$e.timeout?$e[$(974)]:Math.floor(Math[$(888)]()*($i-$t+1))+$t,$e[$(1120)].setAttribute($(974),$a),[{click:$e[$(1120)]}]}}},robbery:{name:_0x4dd47f(884),description:_0x4dd47f(508),type:TYPE_TIMEOUT_SCENES,enabled:!0,start:0,getNextScene:function(){var $=_0x4dd47f;if(!document[$(394)][$(1292)][$(1206)]($(842))){var x=[{linkc:$(1288),priority:0},{linkt:$(588),priority:1},{linkt:$(1424),priority:1,timeout:Math.floor(201*Math.random())+100},{linkc:$(348),priority:1,timeout:Math[$(1265)](201*Math[$(888)]())+100}];return engine[$(613)](x)}},timeout:4e4},autobon:{name:_0x4dd47f(542),description:_0x4dd47f(508),type:TYPE_TIMEOUT_SCENES,settings:[{name:_0x4dd47f(1187),type:_0x4dd47f(618),key:"bonus_350",value:!1},{name:"Бонус за 700 <img src='https://img3.bratki.mobi/images/icons/cash.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>",type:_0x4dd47f(618),key:_0x4dd47f(1031),value:!1},{name:"Только за 1 <img src='https://img2.bratki.mobi/images/tmp/bullets12x12.png' alt='bullet' style='vertical-align: middle; width: 12px; height: 12px;'>",type:"checkbox",key:_0x4dd47f(479),value:!1},{name:"Бонус за 700 <img src='https://img3.bratki.mobi/images/icons/cash.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> и 1 <img src='https://img2.bratki.mobi/images/tmp/bullets12x12.png' alt='bullet' style='vertical-align: middle; width: 15px; height: 15px;'>",type:"checkbox",key:"bonus_700_and_bullet",value:!1},{name:_0x4dd47f(1243),type:_0x4dd47f(618),key:_0x4dd47f(945),value:!1},{name:"Настойка брони<img src='https://img3.bratki.mobi/images/items/stimulators/new/stim_armor_12x12.png' alt='armor' style='vertical-align: middle; width: 15px; height: 12px;'>",type:"checkbox",key:_0x4dd47f(819),value:!1},{name:_0x4dd47f(759),type:_0x4dd47f(618),key:_0x4dd47f(615),value:!1},{name:_0x4dd47f(1e3),type:"checkbox",key:_0x4dd47f(1093),value:!1},{name:"Настойка мощности<img src='https://img3.bratki.mobi/images/items/stimulators/new/stim_power_12x12.png' alt='power' style='vertical-align: middle; width: 15px; height: 15px;'>",type:"checkbox",key:_0x4dd47f(778),value:!1},{name:_0x4dd47f(844),type:_0x4dd47f(618),key:_0x4dd47f(562),value:!1},{name:"-10 сек <img src='https://img2.bratki.mobi/images/icons/skillcooldown.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> на 30 мин за 3 <img src='https://img2.bratki.mobi/images/icons/bucks.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>",type:_0x4dd47f(618),key:_0x4dd47f(1056),value:!1},{name:"-5 сек <img src='https://img2.bratki.mobi/images/icons/skillcooldown.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> на час за 3 <img src='https://img2.bratki.mobi/images/icons/bucks.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>",type:_0x4dd47f(618),key:_0x4dd47f(1328),value:!1},{name:"-10 сек <img src='https://img2.bratki.mobi/images/icons/skillcooldown.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> на час за 5 <img src='https://img2.bratki.mobi/images/icons/bucks.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>",type:_0x4dd47f(618),key:_0x4dd47f(438),value:!1},{name:_0x4dd47f(573),type:_0x4dd47f(618),key:_0x4dd47f(598),value:!1},{name:"Затягивание ран +30%  <img src='https://img1.bratki.mobi/images/icons/regen.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> на час",type:_0x4dd47f(618),key:_0x4dd47f(852),value:!1},{name:_0x4dd47f(963),type:_0x4dd47f(618),key:_0x4dd47f(697),value:!1},{name:"Выживание +20 мин <img src='/images/icons/revival.png' alt='revival' style='vertical-align: middle; width: 12px; height: 12px;'> за 2 <img src='https://img2.bratki.mobi/images/tmp/bullets12x12.png' alt='bullet' style='vertical-align: middle; width: 12px; height: 12px;'>",type:_0x4dd47f(618),key:_0x4dd47f(737),value:!1},{name:_0x4dd47f(655),type:_0x4dd47f(618),key:_0x4dd47f(372),value:!1},{name:_0x4dd47f(1329),type:_0x4dd47f(618),key:"double_exp_60min",value:!1}],enabled:!0,start:0,getNextScene:function(){var $=_0x4dd47f;function x($){var x=_0x11dd;let e=document.querySelector(".content-inner.bg-verygray");if(!e)return console.warn(x(729)),!1;let t=e[x(491)]("td")[$];return t?!t[x(1302)](x(515))||(console[x(988)]("\uD83E\uDDEA [AutoBon] Настойка "+$+x(1325)),!1):(console[x(1221)](x(866)+$+" не найдена"),!1)}var e="1"==lib[$(610)]($(1082)),t="1"==lib[$(610)]($(1031)),i="1"==lib[$(610)]("bonus_bullet_no_icon"),a="1"==lib[$(610)]("bonus_700_and_bullet"),n="1"==lib[$(610)]($(945)),r="1"==lib.getCookie($(819)),d="1"==lib[$(610)]("chem_speed"),o="1"==lib.getCookie("chem_accuracy"),s="1"==lib[$(610)]($(778)),l="1"==lib.getCookie("skill_bonus_0"),c="1"==lib.getCookie($(1056)),f="1"==lib.getCookie($(1328)),_="1"==lib.getCookie($(438)),u="1"==lib[$(610)]($(598)),p="1"==lib.getCookie("skill_bonus_5"),g="1"==lib[$(610)]($(697)),m="1"==lib[$(610)]($(737)),h="1"==lib[$(610)]($(372)),b="1"==lib.getCookie($(955)),k=document[$(1302)]($(1319));if(!k){console.warn("⚠️ [AutoBon] Хедер (.b-header.small) не найден — скрипт не может проверить иконки");return}var v=n||r||d||o||s||l||c||f||_||u||p||g||m||h||b,y=Array[$(836)](document[$(491)]($(1053)))[$(754)](x=>(x[$(1188)]||"")[$(1206)]($(1052)))[$(464)]>0,w=k[$(491)]("img"),M=0;w[$(925)](x=>{var e=$;(x[e(814)](e(1188))||"").trim()[e(1206)](e(804))&&M++});var L=0===M;function C(x){var e=$;return Array[e(836)](w)[e(760)]($=>{var t=e;return($[t(814)]("src")||"").trim()[t(1206)](x)})}function S(){var x=$;return Array[x(836)](w)[x(760)]($=>{var e=x;return($.getAttribute(e(1188))||"")[e(1078)]()[e(1206)]("/icons/skillcooldown.png")})}function T(){var x=$;return Array[x(836)](k[x(491)](x(1053)))[x(760)]($=>{var e=x;return($[e(814)](e(1188))||"").trim()[e(1206)](e(1067))})}var I=!1;e&&L&&(I=!0),t&&L&&(I=!0),i&&L&&(I=!0),a&&(L||1===M)&&(I=!0),y&&(n&&!C($(1072))&&x(0)&&(I=!0),r&&!C("/stim_armor_12x12.png")&&x(1)&&(I=!0),o&&!C($(1124))&&x(2)&&(I=!0),d&&!C($(1311))&&x(3)&&(I=!0),s&&!C($(431))&&x(4)&&(I=!0));var A=!S();l&&A&&(I=!0),c&&A&&(I=!0),f&&A&&(I=!0),_&&A&&(I=!0);var E,P=!T();u&&P&&(I=!0),p&&P&&(I=!0);var U,W=!Array[(E=$)(836)](k[E(491)](E(1053)))[E(760)]($=>{var x=E;return($.getAttribute(x(1188))||"")[x(1078)]()[x(1206)]("/icons/revival.png")});g&&W&&(I=!0),m&&W&&(I=!0);var B=!Array[(U=$)(836)](k.querySelectorAll(U(1053)))[U(760)]($=>{var x=U;return($[x(814)]("src")||"").trim()[x(1206)](x(1261))});if(h&&B&&(I=!0),b&&B&&(I=!0),I){var H=[];if(H[$(1123)]({linkc:"/home",priority:0}),v&&!y&&H[$(1123)]({linkt:$(480),priority:.5}),e&&L&&H[$(1123)]({linkc:$(1312),priority:1}),t&&L&&H[$(1123)]({linkc:$(1348),priority:1}),y||v){y&&(n&&!C($(1072))&&x(0)&&H[$(1123)]({linkc:"-bottles-0",priority:3}),r&&!C("/stim_armor_12x12.png")&&x(1)&&H[$(1123)]({linkc:$(661),priority:3}),o&&!C($(1124))&&x(2)&&H[$(1123)]({linkc:$(1314),priority:3}),d&&!C($(1311))&&x(3)&&H[$(1123)]({linkc:$(506),priority:3}),s&&!C($(431))&&x(4)&&H[$(1123)]({linkc:"-bottles-4",priority:3}));var A=!S(),P=!T();l&&A&&(H[$(1123)]({linkt:$(734),priority:4}),H[$(1123)]({linkc:$(345),priority:5}),H.push({linkc:$(939),priority:6})),c&&A&&(H[$(1123)]({linkt:$(734),priority:4}),H[$(1123)]({linkc:"-receptionsClass-0-receptions-1-link",priority:5}),H[$(1123)]({linkc:$(939),priority:6})),f&&A&&(H[$(1123)]({linkt:$(734),priority:4}),H[$(1123)]({linkc:$(853),priority:5}),H.push({linkc:$(939),priority:6})),_&&A&&(H[$(1123)]({linkt:$(734),priority:4}),H[$(1123)]({linkc:$(552),priority:5}),H[$(1123)]({linkc:$(939),priority:6})),u&&P&&(H[$(1123)]({linkt:"Уникальные приемы",priority:4}),H[$(1123)]({linkc:"-receptionsClass-1-receptions-0-link",priority:5}),H[$(1123)]({linkc:$(939),priority:6})),p&&P&&(H.push({linkt:$(734),priority:4}),H[$(1123)]({linkc:$(712),priority:5}),H[$(1123)]({linkc:$(939),priority:6})),g&&W&&(H[$(1123)]({linkt:$(734),priority:4}),H.push({linkc:$(848),priority:5}),H[$(1123)]({linkc:"-confirmLink",priority:6})),m&&W&&(H[$(1123)]({linkt:$(734),priority:4}),H[$(1123)]({linkc:$(1234),priority:5}),H[$(1123)]({linkc:"-confirmLink",priority:6})),h&&B&&(H[$(1123)]({linkt:$(734),priority:4}),H.push({linkc:$(558),priority:5}),H[$(1123)]({linkc:$(939),priority:6})),b&&B&&(H[$(1123)]({linkt:"Уникальные приемы",priority:4}),H.push({linkc:"-receptionsClass-3-receptions-1-link",priority:5}),H.push({linkc:$(939),priority:6}))}return i&&L&&H[$(1123)]({linkc:$(1349),priority:2,timeout:500}),a&&(L&&H[$(1123)]({linkc:$(1348),priority:1}),1===M&&H[$(1123)]({linkc:$(1349),priority:2,timeout:500})),H.forEach((x,e)=>console[$(988)]("   → Шаг "+(e+1)+":",x)),engine[$(613)](H)}},timeout:4e4},tasks:{name:_0x4dd47f(685),description:"Автоматическая проверка и выполнение заданий на прикрытие",type:TYPE_TIMEOUT_SCENES,enabled:!1,start:0,getNextScene:function(){var $=_0x4dd47f;if(!document.body[$(1292)][$(1206)]($(636))){var x=[{linkc:"/home",priority:0},{linkc:$(949),priority:1},{linkc:$(559),priority:2,exc:function(){var x=$;return document[x(394)][x(1292)][x(1206)](x(761))}},{linkc:$(1274),priority:3},{linkc:$(1287),priority:3},{linkt:$(1176),priority:1},{linkt:$(1146),priority:1},{linkt:$(432),priority:1}];return engine[$(613)](x)}},timeout:6e4},rack:{name:_0x4dd47f(1111),description:_0x4dd47f(1009),type:TYPE_TIMEOUT_SCENES,enabled:!1,start:0,settings:[{name:_0x4dd47f(1215),type:_0x4dd47f(618),key:"private_items_sell",value:!1},{name:_0x4dd47f(817),type:_0x4dd47f(618),key:"public_items_to_gang",value:!1},{name:_0x4dd47f(662),type:_0x4dd47f(618),key:_0x4dd47f(1285),value:!1},{name:_0x4dd47f(1259),type:_0x4dd47f(648),key:"rack_exceptions",value:_0x4dd47f(494)}],getNextScene:function(){var $=_0x4dd47f,x=bratki.getRackItems(),e=lib[$(610)]("rack_exceptions");if(e&&(e=e.toLowerCase().split(",")),x.length>0&&document.body[$(1292)][$(1206)]($(462)))for(var t in x){if(e){var i=!1;for(var a in e)x[t][$(1292)][$(1240)]()[$(1206)](e[a].trim())&&(i=!0);if(i)continue}if(x[t].innerHTML[$(1206)]("личное")){if("1"==lib[$(610)]($(812)))return this.confirmReq=!0,[{click:x[t].querySelector($(496))}]}else{if("1"==lib[$(610)]($(1285)))return this.confirmReq=!0,[{click:x[t].querySelector($(496))}];if("1"==lib.getCookie($(1337))){var n=!1;for(var r in e)x[t][$(1292)][$(1240)]().includes(e[r])&&(n=!0);n||(this[$(1373)]=!0)}}}if(this[$(501)]&&(delete this[$(501)],lib.findLinksByUrlComponent("confirmLink")[$(464)]>0))return[{click:lib[$(551)]($(477))[0]}];if(this[$(1373)]){if(document[$(394)].innerHTML.includes("доступных вещей не найдено")){delete this.gangDonate;return}if(lib.findLinksByUrlComponent("/gang/menu").length>0){lib.setCookie("public_items_to_gang","0");return}var d=[{linkc:"/gang",priority:0},{linkc:$(900),priority:1},{linkt:$(1077),priority:2},{linkc:$(1229),priority:2},{linkc:$(873),priority:2},{linkc:"selectLink",priority:3}];return engine[$(613)](d)}if(!document.body[$(1292)][$(1206)]($(462)))return[{click:lib[$(551)]($(1385))[0]}]},timeout:1e4},autoMissions:{name:"Заказухи <img src='https://img3.bratki.mobi/images/icons/zakazuhi.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>",type:TYPE_TIMEOUT_SCENES,enabled:!0,start:0,settings:[{name:_0x4dd47f(1095),type:_0x4dd47f(711),key:"mission_mode",value:0,list:["По списку","Рандомно"]},{name:_0x4dd47f(1050),type:_0x4dd47f(711),key:_0x4dd47f(1044),value:3,list:["выкл",_0x4dd47f(1315),_0x4dd47f(799),_0x4dd47f(1011)]},{name:_0x4dd47f(746),type:_0x4dd47f(711),key:"Figa_TrainStation",value:3,list:[_0x4dd47f(373),"норм",_0x4dd47f(799),"маст"]},{name:_0x4dd47f(802),type:_0x4dd47f(711),key:_0x4dd47f(1177),value:3,list:[_0x4dd47f(373),_0x4dd47f(1315),"проф",_0x4dd47f(1011)]},{name:_0x4dd47f(977),type:_0x4dd47f(711),key:_0x4dd47f(998),value:3,list:[_0x4dd47f(373),"норм",_0x4dd47f(799),"маст"]},{name:_0x4dd47f(549),type:_0x4dd47f(711),key:_0x4dd47f(342),value:3,list:[_0x4dd47f(373),_0x4dd47f(1315),_0x4dd47f(799),"маст"]},{name:_0x4dd47f(1256),type:_0x4dd47f(711),key:_0x4dd47f(1428),value:3,list:[_0x4dd47f(373),"норм",_0x4dd47f(799),_0x4dd47f(1011)]},{name:_0x4dd47f(1415),type:_0x4dd47f(711),key:_0x4dd47f(1214),value:3,list:[_0x4dd47f(373),"норм","проф",_0x4dd47f(1011)]},{name:_0x4dd47f(436),type:_0x4dd47f(711),key:_0x4dd47f(619),value:3,list:[_0x4dd47f(373),_0x4dd47f(1315),_0x4dd47f(799),_0x4dd47f(1011)]},{name:_0x4dd47f(1105),type:"select",key:_0x4dd47f(931),value:3,list:[_0x4dd47f(373),_0x4dd47f(1315),_0x4dd47f(799),_0x4dd47f(1011)]},{name:"Мэр заказан",type:"select",key:_0x4dd47f(727),value:0,list:["выкл",_0x4dd47f(1315),"проф",_0x4dd47f(1011)]},{name:_0x4dd47f(600),type:_0x4dd47f(711),key:_0x4dd47f(1368),value:0,list:[_0x4dd47f(373),"норм",_0x4dd47f(799),_0x4dd47f(1011)]},{name:"Военная контрабанда",type:_0x4dd47f(711),key:_0x4dd47f(1443),value:0,list:[_0x4dd47f(373),"норм","проф","маст"]},{name:"Захват СМИ",type:"select",key:_0x4dd47f(980),value:0,list:[_0x4dd47f(373),_0x4dd47f(1315),"проф","маст"]},{name:"Автосалон Грида",type:_0x4dd47f(711),key:"avto",value:0,list:["выкл","норм",_0x4dd47f(799),"маст"]},{name:_0x4dd47f(710),type:_0x4dd47f(711),key:_0x4dd47f(906),value:0,list:[_0x4dd47f(373),_0x4dd47f(1315),_0x4dd47f(799),_0x4dd47f(1011)]},{name:_0x4dd47f(1058),type:"select",key:_0x4dd47f(1195),value:0,list:[_0x4dd47f(373),_0x4dd47f(1315),"проф","маст"]},{name:"Сорванная башня",type:_0x4dd47f(711),key:_0x4dd47f(715),value:0,list:[_0x4dd47f(373),"норм",_0x4dd47f(799),_0x4dd47f(1011)]},{name:"Воскресный шоппинг",type:_0x4dd47f(711),key:"shopping",value:0,list:[_0x4dd47f(373),_0x4dd47f(1315),_0x4dd47f(799),_0x4dd47f(1011)]},{name:_0x4dd47f(905),type:_0x4dd47f(711),key:"beach",value:0,list:["выкл","норм",_0x4dd47f(799),_0x4dd47f(1011)]},{name:_0x4dd47f(430),type:_0x4dd47f(711),key:_0x4dd47f(1264),value:0,list:[_0x4dd47f(373),"норм",_0x4dd47f(799),_0x4dd47f(1011)]},{name:_0x4dd47f(1092),type:"select",key:"park",value:0,list:[_0x4dd47f(373),_0x4dd47f(1315),"проф","маст"]},{name:_0x4dd47f(986),type:_0x4dd47f(711),key:_0x4dd47f(468),value:0,list:[_0x4dd47f(373),"норм",_0x4dd47f(799),_0x4dd47f(1011)]}],getNextScene:function(){var $=_0x4dd47f;if(bratki[$(846)]()[$(464)]>0){this[$(974)]=0;return}if(void 0!==this[$(1007)]&&lib.findLinksByUrlComponent(this[$(1007)]+$(845))[$(464)]>0)return[{click:lib[$(551)](this[$(1007)]+$(845))[0]}];if(0===lib[$(551)]("levelFilter-3")[$(464)]&&bratki.getMissionsLinks().length>0){var x,e=bratki[$(1164)](),t=[];for(var i in e){var a=e[i].href[$(560)]("/").pop();if("blackmarket"!=a){var n=lib[$(610)](a);parseInt(n)>0&&t[$(1123)]({link:e[i],diff:n-1,key:a})}}if(t[$(464)]>0){for(var r in x=1===(parseInt(lib[$(610)]($(1418)))||0)?t[Math.floor(Math[$(888)]()*t[$(464)])]:t[0],this.diff=x[$(1007)],this[$(626)])this.settings[r][$(1405)]==x[$(1405)]&&lib[$(1171)]($(360),r);return[{click:x[$(1120)]}]}return void(this[$(974)]=2e4)}typeof this[$(1007)]!=$(483)&&delete this[$(1007)];let d=[{linkt:$(434),priority:1},{linkc:"healLink",priority:4,exc:function(){var x=$;return lib[x(610)](x(1157))}},{linkt:"Заказухи",priority:2},{linkt:$(679),priority:3},{linkc:$(481),priority:4},{linkc:"confirmLink",priority:5},{linkc:$(410),priority:6},{linkc:$(633),priority:7},{linkt:"Газануть",priority:7,timeout:2850,exc:function(){var x=$;return null!==document[x(1302)](x(1013))}},{linkc:$(478),priority:1,timeout:500,exc:function(){var x=$;return null!==document[x(1302)](x(1013))}},{linkt:"Нитро",priority:8,timeout:200,exc:function(){var x=$;return null!==document[x(1302)](x(1013))}}];return engine[$(613)](d)},timeout:3e4},off:{name:_0x4dd47f(335),type:TYPE_SWITCH,enabled:!1,onswitch:function($){var x=_0x4dd47f;$?this[x(709)]=setTimeout(function(){var $=x;document[$(1302)]($(1395)).click()},(parseInt(lib[x(610)](x(1247)))+1)*36e5):clearTimeout(this[x(709)])},onconfig:function(){var $=_0x4dd47f;this.enabled&&(clearTimeout(this[$(709)]),this[$(709)]=setTimeout(function(){var x=$;document[x(1302)]("#playpause")[x(766)]()},(parseInt(lib[$(610)]($(1247)))+1)*36e5))},settings:[{name:_0x4dd47f(1434),type:_0x4dd47f(711),key:_0x4dd47f(1247),value:0,list:["1","2","3","4"]}]},magic:{name:_0x4dd47f(878),type:TYPE_TIMEOUT_SCENES,enabled:!1,start:0,currentPage:1,currentStepIndex:0,target:!1,target2:!1,intervalId:null,settings:[{name:_0x4dd47f(1441),type:_0x4dd47f(618),key:_0x4dd47f(565),value:!1},{name:_0x4dd47f(793),type:"checkbox",key:"sboritems-enabled",value:!1},{name:"Быстрая прокачка прикрытия <img src='https://bratki.mobi/images/icons/quest_energy.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>",type:"checkbox",key:_0x4dd47f(891),value:!1},{name:"Достиг бонус-оружейник <img src='https://img3.bratki.mobi/images/NPCs/topor.gld.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>",type:_0x4dd47f(618),key:_0x4dd47f(1043),value:!1},{name:_0x4dd47f(837),type:_0x4dd47f(618),key:"gang2-enabled",value:!1},{name:_0x4dd47f(1063),type:_0x4dd47f(618),key:_0x4dd47f(996),value:!1},{name:_0x4dd47f(1282),type:_0x4dd47f(618),key:_0x4dd47f(968),value:!1},{name:_0x4dd47f(913),type:"checkbox",key:_0x4dd47f(1073),value:!1},{name:_0x4dd47f(1353),type:_0x4dd47f(618),key:_0x4dd47f(389),value:!1},{name:_0x4dd47f(828),type:_0x4dd47f(648),key:"mod_item_name",value:""},{name:_0x4dd47f(1448),type:_0x4dd47f(618),key:"take-all",value:!1},{name:_0x4dd47f(703),type:"checkbox",key:_0x4dd47f(646),value:!1},{name:_0x4dd47f(1326),type:_0x4dd47f(618),key:_0x4dd47f(927),value:!1},{name:_0x4dd47f(574),type:_0x4dd47f(648),key:_0x4dd47f(1278),value:""}],onload:function(){var $=_0x4dd47f;if(1==lib[$(610)]($(823))){let x=document[$(491)]($(954)),e=this,t=!1;for(let i in x){if(!x[$(1199)](i))continue;let a=x[i].parentNode[$(1324)][$(1324)];if(a[$(1292)].includes($(450))&&!a[$(1292)][$(1206)]($(590))){let n=document[$(1097)]("a");n[$(1292)]=$(590),n.href=$(1125),n[$(1289)]=function(){var x=$;e[x(882)]=this[x(1324)].parentNode[x(1302)](x(886))[x(1292)],e[x(1331)]()},a[$(1302)]("span").parentNode.appendChild(n)}if(e[$(882)]&&null===document[$(1302)]($(1012))&&a[$(1292)][$(1206)](e[$(882)])){x[i][$(766)](),t=!0;break}}t||(e[$(882)]=!1)}if(1==lib[$(610)]($(646))){let r=document[$(491)]($(713)),d=this,o=!1;for(let s in r){if(!r[$(1199)](s))continue;let l=r[s].parentNode[$(1324)];if(!l[$(1292)].includes("Выбрать"))continue;if(l[$(1292)].includes($(450))&&!l.innerHTML[$(1206)]($(771))){let c=document[$(1097)]("td"),f=document[$(1097)]("a");c.appendChild(f),f[$(1292)]=$(771),f[$(512)]=$(1125),f.className="btn-a narrow ml5",f[$(1289)]=function(){var x=$;d.target2=this[x(1324)].parentNode[x(1302)]("a[href*='/item']")[x(1292)],d[x(1331)]()},l[$(1401)](c)}let _=l[$(1302)]("a[href*='selectItemLink']");if(d[$(604)]&&!document[$(394)][$(1292)][$(1206)]($(800))&&l.innerHTML.includes(d[$(604)])){_[$(766)](),o=!0;break}}o||(d[$(604)]=!1)}},onconfig:function($=this[_0x4dd47f(777)]){var x=_0x4dd47f;if($){this.onload(),1!=lib[x(610)](x(968))||this.intervalId||(this[x(1089)]=setInterval(function(){function $($){var x=_0x11dd,e=document[x(491)](".enemies-item a"),t=[];return e[x(925)](function(e){var i=x;e[i(1159)][i(1206)]($)&&t[i(1123)](e)}),t}var e=$(x(877)),t=$("Уличный торговец");function i($){$.forEach(function($){var x=_0x11dd;$[x(1075)][x(1085)]=x(683)})}i(e),i(t)},0));(lib[x(610)](x(1278))||this.settings[x(969)]($=>$[x(1405)]===x(1278))[x(1122)])[x(1305)](/^\d+$/)||lib.setCookie("gift_recipient_id",this.settings[x(969)]($=>$.key===x(1278))[x(1122)])}else{let e=document[x(491)](x(970));for(let t=0;t<e[x(464)];t++)e[t][x(1075)]="";this[x(1089)]&&(clearInterval(this.intervalId),this[x(1089)]=null)}},removeLinksByUrlComponent:function($,x){var e=_0x4dd47f,t=[];for(var i in $)void 0===$[i][e(512)]||$[i][e(512)][e(1206)](x)||t[e(1123)]($[i]);return t},getSceneLinks:function($){var x=_0x4dd47f,e=[],t=(this[x(1236)],0);do{var i=$[this[x(1236)]];if(i[x(1163)]){var a=lib.getCookie(x(393))||this[x(626)][x(969)]($=>$[x(1405)]===x(393))[x(1122)];if(!a||""===a[x(1078)]()){this.currentStepIndex=(this[x(1236)]+1)%$[x(464)],t++;continue}var n=lib.findLinksByText(a[x(1078)]());if(n[x(464)]>0){e[x(1123)]({click:n[0],timeout:0}),this[x(1236)]=(this.currentStepIndex+1)%$[x(464)];break}}else{var n=lib[x(429)](i[x(383)]);if((n=this[x(849)](n,i.linkt)).length>0){e[x(1123)]({click:n[0],timeout:0}),this[x(1236)]=(this[x(1236)]+1)%$[x(464)];break}}this.currentStepIndex=(this.currentStepIndex+1)%$[x(464)],t++}while(t<$[x(464)]);return e},getNextScene:function(){var $=_0x4dd47f,x=[];if(1==lib[$(610)]("sboritems-enabled")){if(document[$(1302)](".b-notice .notice-inner span.medium")?.textContent[$(1206)]($(725)))return;x[$(1123)]({linkt:$(1383),priority:1},{linkc:$(607),priority:2},{linkt:$(375),priority:6});let e=document.querySelectorAll($(1393));e[$(464)]>0?e[$(925)](function(e){var t=$;x.push({linkc:e[t(814)](t(512)),priority:3})}):(x.push({linkc:$(783),priority:5}),x[$(1123)]({linkc:"-confirmLink",priority:5})),(1==lib[$(610)]($(823))||1==lib.getCookie("give-all"))&&this[$(1331)]()}if(1!=lib.getCookie($(891))||document.body[$(1292)][$(1206)]($(636))||x[$(1123)]({linkc:$(1288),priority:0},{linkc:"/user",priority:1},{linkc:$(470),priority:2},{linkc:$(1364),priority:3},{linkc:$(939),priority:4}),1==lib[$(610)]($(1043))&&x.push({linkc:$(1288),priority:0},{linkt:"Группировка",priority:1},{linkt:$(1006),priority:2},{linkc:"-0-linkMoney",priority:3},{linkc:$(477),priority:4}),1==lib[$(610)]($(1173))&&x[$(1123)]({linkc:$(1288),priority:0},{linkt:$(810),priority:1},{linkt:$(1006),priority:2},{linkc:$(865),priority:3},{linkc:$(477),priority:4}),1==lib[$(610)]("gang3-enabled")&&x[$(1123)]({linkc:"/home",priority:0},{linkt:$(810),priority:1},{linkt:$(1006),priority:2},{linkc:"-2-linkMoney",priority:3},{linkc:$(477),priority:4}),1==lib[$(610)]($(1073)))return x[$(1123)]({linkt:"Районы",priority:10},{linkt:"Отбить",priority:11},{linkt:$(434),priority:12},{linkt:$(667),priority:13},{linkt:"Зажигалка",priority:14},{linkt:$(1021),priority:15},{linkt:$(434),priority:16}),this.getSceneLinks(x);if(1==lib[$(610)]($(389))){if(document[$(394)][$(1292)][$(1206)]($(1038)))return;let t=[{linkt:"Сумка",priority:20},{linkt:null,useSetting:!0,priority:21},{linkt:"Модификаторы",priority:22},{linkt:$(826),priority:23},{linkt:$(826),priority:24},{linkt:"Да, подтверждаю",priority:25}];return t[$(1123)]({linkt:"Улучшить",priority:26},{linkt:$(1318),priority:26},{linkt:"Да, подтверждаю",priority:27},{linkt:$(1378),priority:26},{linkt:$(910),priority:27},{linkt:$(434),priority:28}),x[$(1123)](...t),this[$(391)](x)}if(1==lib[$(610)]($(927))){let i=lib[$(610)]($(1278))||this[$(626)][$(969)](x=>x[$(1405)]===$(1278))[$(1122)];if(i&&i[$(1305)](/^\d+$/)){let a=[{linkt:$(1383),priority:30},{linkt:$(1255),priority:31},{linkc:i,priority:32},{linkc:$(448),priority:33},{linkc:$(1008),priority:34},{linkc:$(644),priority:35},{linkc:$(630),priority:36},{linkt:$(910),priority:37}];x[$(1123)](...a)}}return 1==lib[$(610)]($(565))&&document[$(491)]($(642)).length>0&&x[$(1123)]({linkc:$(762),priority:1}),engine[$(613)](x)},timeout:0},races:{name:_0x4dd47f(1237),description:_0x4dd47f(875),type:TYPE_SCENES,enabled:!0,settings:[{name:"Задержка нажатия на Газ <img src='https://img3.bratki.mobi/images/cars/icons/21x21_gaz.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>",type:_0x4dd47f(743),key:_0x4dd47f(675),maxvalue:3e3,value:2700},{name:_0x4dd47f(972),type:_0x4dd47f(743),key:"nitro_timeout",maxvalue:300,value:20}],getNextScene:function(){var $=_0x4dd47f;if(null!==document.querySelector($(1013))){if(document[$(394)][$(1292)][$(1206)]($(1342))){var x=[{linkc:"refreshLink",priority:1,timeout:1e3}];return engine.getSceneLink(x)}if(document[$(394)][$(1292)][$(1206)]($(1083))){var x=[{linkc:$(478),priority:1,timeout:0}];return engine[$(613)](x)}if(document[$(394)][$(1292)].includes($(437))){var x=[{linkt:$(1116),priority:1,timeout:0}];return engine[$(613)](x)}if(document[$(1302)]($(1010))){var x=[{linkt:$(412),priority:3,timeout:lib[$(610)]($(795))}];return engine.getSceneLink(x)}if(!document.body[$(1292)].includes($(437))){var x=[{linkt:$(1116),priority:0,timeout:lib[$(610)]($(675))}];return engine[$(613)](x)}}}},autoobjak:{name:_0x4dd47f(1134),type:TYPE_TIMEOUT_SCENES,enabled:!0,start:0,startItemsCount:null,transferMode:!1,currentItemIndex:0,itemSelectionCompleted:!1,currentCategoryIndex:0,selectedItemCount:0,settings:[{name:_0x4dd47f(677),type:_0x4dd47f(648),key:"transfer_recipient_id",value:""},{name:_0x4dd47f(1335),type:_0x4dd47f(648),key:_0x4dd47f(686),value:_0x4dd47f(679)}],getNextScene:function(){var $=_0x4dd47f;let x=lib[$(610)]($(583))||this[$(626)][$(969)](x=>x[$(1405)]===$(583)).value;if(!x[$(1305)](/^\d+$/))return[];let e=(lib[$(610)]($(686))||this[$(626)].find(x=>x[$(1405)]===$(686))[$(1122)]).split(",")[$(461)](x=>x[$(1078)]())[$(754)]($=>$);if(0===e.length)return[];let t=[{linkc:$(1288),priority:0},{linkt:$(1383),priority:1},{linkc:$(490),priority:2},{linkc:x,priority:3},{linkc:"/message/create",priority:4},{linkc:$(821),priority:5},{linkc:"-items-"+this[$(1079)]+$(892),priority:5,onComplete:()=>{var x=$;if(document[x(1302)](x(533)+this[x(1079)]+x(694)+this[x(1079)]+x(926))&&(this.itemSelectionCompleted=!0,this.currentItemIndex++,this.currentItemIndex>=11)){let e=document[x(1302)](x(1362));e&&e[x(766)](),setTimeout(()=>{var $=x;if(document[$(491)]($(809))[$(464)]>=10){let e=document.querySelector($(1297));return e&&e[$(766)](),this[$(1079)]=0,this[$(752)]=!1,this[$(1136)]=null,this.itemSelectionCompleted=!1,this[$(1372)]()}},500)}}}];if(this[$(752)])return engine.getSceneLink(t);if(!document[$(1302)]($(1042)))return engine[$(613)]([{linkc:$(1288),priority:0},{linkt:"Группировка",priority:1},{linkt:$(797),priority:2}]);let i=e[this.currentCategoryIndex];if(!i&&(this.currentCategoryIndex=0,!(i=e[this[$(1333)]])))return[];let a=Array[$(836)](document.querySelectorAll($(829))),n=a[$(969)](x=>x[$(498)]===$(442));if((n?n[$(1159)].trim():null)!==i){let r=a.find(x=>"A"===x[$(498)]&&x[$(1159)][$(1078)]()===i);return r?(r[$(766)](),this[$(1079)]=0,this[$(1184)]=!1,setTimeout(()=>this[$(1372)](),300),[]):(this[$(1333)]++,this.getNextScene())}let d=document[$(1302)]($(1371));if(d&&d[$(1159)][$(1206)]($(524))){let o=d[$(491)]($(519));if(o[$(464)]>=3){let s=parseInt(o[0][$(1159)])||0;null===this[$(1136)]&&(this[$(1136)]=s);if(this[$(1136)]-s>=10)return this[$(752)]=!0,this[$(1079)]=0,this.itemSelectionCompleted=!1,engine[$(613)](t)}}return 0===document[$(491)]($(818))[$(464)]?(this.currentCategoryIndex++,this.startItemsCount=null,this[$(1372)]()):engine[$(613)]([{linkc:$(684),priority:3}])},timeout:0},menuCustomizer:{name:_0x4dd47f(758),description:"Настройка фона, цвета текста и затемнения меню скрипта с помощью RGB-ползунков, выбора изображения и ползунка затемнения",type:TYPE_SWITCH,enabled:!1,settings:[{name:"Красный (R)",type:_0x4dd47f(743),key:"menu_color_r",maxvalue:255,value:96},{name:_0x4dd47f(1455),type:_0x4dd47f(743),key:"menu_color_g",maxvalue:255,value:255},{name:_0x4dd47f(1168),type:"range",key:_0x4dd47f(555),maxvalue:255,value:0},{name:_0x4dd47f(782),type:"range",key:_0x4dd47f(1340),maxvalue:100,value:10},{name:_0x4dd47f(1060),type:_0x4dd47f(618),key:_0x4dd47f(543),value:!0},{name:_0x4dd47f(1112),type:_0x4dd47f(618),key:_0x4dd47f(1106),value:!1},{name:_0x4dd47f(1370),type:_0x4dd47f(618),key:_0x4dd47f(1306),value:!1},{name:"Фон: Площадь Культуры",type:"checkbox",key:"bg_zuza",value:!1},{name:_0x4dd47f(747),type:_0x4dd47f(618),key:"bg_old_city",value:!1},{name:_0x4dd47f(1059),type:_0x4dd47f(618),key:_0x4dd47f(798),value:!1},{name:"Фон: Федеральный Центр",type:_0x4dd47f(618),key:_0x4dd47f(419),value:!1},{name:"Фон: Потрошитель",type:_0x4dd47f(618),key:_0x4dd47f(641),value:!1}],onswitch:function($){this[_0x4dd47f(545)]($)},onconfig:function($=this[_0x4dd47f(777)]){var x=_0x4dd47f;let e={bg_city:"https://img3.bratki.mobi/images/cities/city_480.jpg",bg_gorki:x(1090),bg_doki:"https://img3.bratki.mobi/images/cities/doki_480.jpg",bg_zuza:"https://img0.bratki.mobi/images/cities/zuza_480.jpg",bg_old_city:"https://img1.bratki.mobi/images/cities/old_city_480.jpg",bg_cop:x(869),bg_banda:x(706),bg_potrox:"https://img0.bratki.mobi/images/tournaments/ripper_tournaments_480.gif"},t=e.bg_potrox,i=document[x(1302)](x(1133))||document[x(1097)](x(1075));if(i.id=x(1020),$){let a=parseInt(lib.getCookie(x(381)))||this[x(626)][0].value,n=parseInt(lib[x(610)]("menu_color_g"))||this[x(626)][1][x(1122)],r=parseInt(lib[x(610)](x(555)))||this.settings[2][x(1122)],d=parseInt(lib[x(610)]("menu_dim"))||this.settings[3][x(1122)];for(let o=4;o<this[x(626)][x(464)];o++)if(1==lib[x(610)](this[x(626)][o][x(1405)])){t=e[this[x(626)][o].key];for(let s=4;s<this[x(626)][x(464)];s++)if(s!==o){lib.setCookie(this[x(626)][s][x(1405)],0);let l=document[x(1302)]("#"+this.settings[s][x(1405)]);l&&(l[x(336)]=!1)}break}i[x(1292)]=x(730)+t+x(413)+(1-d/100)+';\n                        z-index: -1;\n                    }\n                    .custom-menu::after {\n                        content: "";\n                        position: absolute;\n                        top: 0; left: 0; right: 0; bottom: 0;\n                        background: rgba(0, 0, 0, '+d/100+");\n                        z-index: -1;\n                    }\n                    .custom-menu, .custom-menu * {\n                        color: rgb("+a+", "+n+", "+r+x(637)}else i[x(1292)]=x(1433);document[x(1088)][x(1401)](i)}}};function _0x31f4(){var $=["adjustable_barrage","round","startMainLoop","menu-bg-style","Немного","Гостиная","clear","getTeamHp","gun","fontSize","remove","disableLowPowerMode","userAgent","toFixed","bonus_700","safeMode","counter","handleTimerProgress","now","classList","[MobileManager] Battery Manager инициализирован","У тебя в сумке нет модификаторов.","setupUserInteractionListener","2125-03-18","pageYOffset",'a.btn-a.narrow.mt5[href*="gang/donate"]',"gang1-enabled","GreenBar","div.header","❌ ЛИЦЕНЗИЯ НЕ АКТИВНА\nID: ","cookie","licenseCheck","onPageShow",'Бар "Зелень"',".enemies-list-items","/location/specshkola","img",'\n                        self.onmessage = function(e) {\n                            const interval = e.data;\n                            function tick() {\n                                self.postMessage("tick");\n                                setTimeout(tick, interval);\n                            }\n                            tick();\n                        };\n                    ',"oninput","skill_bonus_1","getBackgroundDuration","Последний полет","Фон: Свободные Кварталы","Фон: Сити","lockPage","open","Достиг тренер по рукопашному бою <img src='https://img2.bratki.mobi/images/NPCs/32x32_nps4.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","[WorkerManager] Workers не поддерживаются, используем fallback","audio","effectiveType","/icons/regen.png","getCheckbox","hide","data:video/mp4;base64,AAAAHGZ0...","screen","/stim_stamina_12x12.png","achievements_bar-enabled","poison","style","preventPageUnload","Сдать в общак","trim","currentItemIndex","switch","join","bonus_350","Обновляй страницу","2025-10-15","color","exception","Точный выстрел","head","intervalId","https://img2.bratki.mobi/images/cities/gorki_480.jpg","Травить всех <img src='https://img1.bratki.mobi/images/icons/poison_12x12.png  ' alt='defensive stand' style='vertical-align: middle; width: 12px; height: 12px;'>","Стрелка в парке","chem_accuracy","getTimerWorkerCode","Порядок прохождения","focusHandler","createElement","2026-04-12","right","[BackgroundManager] Возврат в активный режим (был в фоне ","catch","Ждать",".b-combat-info .enemy-name","attack_vzaim","Засада на Причале","bg_gorki","input, textarea, select","no-cache","getTime","audioContext","Сумка \uD83D\uDC5C","Фон: Горки","2.0","\uD83D\uDD0B Энергосберегающий режим активирован","Порядок способностей: Стрелок <img src='https://img3.bratki.mobi/images/icons/mafia.sniper.png  ' alt='shooter' style='vertical-align: middle; width: 15px; height: 15px;'>","Газануть","isOpened","init","usedJSHeapSize","link","error","value","push","/stim_accuracy_12x12.png","javascript:void(0)","Атаковать в ответ <img src='https://bratki.mobi/images/icons/gun.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","overflow: hidden; position: absolute; right: 5px; top: 0; transition: 500ms;","pushState","a[href*='useSkill'] .locked-time","label","memoryPressure","wakeLockManager","#menu-bg-style","Автопересыл общака <img src='https://img3.bratki.mobi/images/icons/auction.png' style='vertical-align: middle; width: 20px; height: 20px;'>","call","startItemsCount","enablePerformanceOptimizations","initMenu","12px Arial","min","❌ Не найдена страница персонажа","isChrome","callbacks","disconnect","bind","Чарли","transition: 250ms; overflow: hidden; max-height: 0; max-width:0; padding: 0;","linkc","a[href*='user']:not([class])","handleGameHeartbeat","заряжается","Точный < Обстрел < Аффект < Стойка","Хищник-воин","handleMemoryPressure","Уличный торговец","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAQAAABLCVATAAAAMElEQVRIx2NgGAWjABn8b0BAYsRxG4QEiBEfNWjUoFGDRg0aNWgADaJW4T8KRg4AABfpAict00b7AAAAAElFTkSuQmCC","heal_link","display: inline-block; font-size: 12px; transition: 500ms;","textContent","❌ Не удалось найти ID в профиле","removeProperty","267252dZiKRn","useSetting","getMissionsLinks","Проверка лицензии: невалидная дата для ID","a[href*='beltBlock-2'] .locked-time","hasAttribute","Синий (B)","description","[Bratki Engine] Переход к оригинальному скрипту...","setCookie","executeModule","gang2-enabled","1px","batchUpdateCookies",'Тони "Фикса"',"Tiger","rampage","2025-09-29","enableLowPowerMode","addChild","initMemoryManagement","\n                position: absolute;\n                border-radius: 3px;\n                color: #ffe600ff;\n                transition: 500ms;\n                z-index: 2000;\n                overflow: hidden;\n            ","itemSelectionCompleted","status","handleTimerComplete","Бонус за 350 <img src='https://img3.bratki.mobi/images/icons/cash.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>","src","auto_repair","has","2025-10-18","[WakeLockManager] Не удалось запросить Wake Lock:","pause","проверка лицензии","fly","padding: 5px; cursor: pointer;","span.info","2125-06-04","hasOwnProperty","children",'a[href*="user/achievement"]',"touchstart","❌ Лицензия недействительна","persisted","volume","includes","input","\uD83D\uDD12 Проверка лицензии","maxSafeModeTimeout","[BackgroundManager] Переход в фоновый режим","[WakeLockManager] Wake Lock активирован","paused","[MobileManager] Активация энергосберегающего режима","Robberycentury","Личные вещи сбыть <img src='https://img0.bratki.mobi/images/icons/credits.png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","updateProgress","isIOSSafari","⚠️ Очистка памяти...","[Bratki Script] Platform detected:","[BackgroundManager] Инициализация...","warn","randomer","destroy","[MobileManager] Кеши очищены","hideBottom","PerformanceObserver","nodeType","fallbackToOriginal","GuildDonateItem","handleWorkerPong","T00:00:00","beltBlock-2","pageY","-receptionsClass-2-receptions-1-link","initBatteryManager","currentStepIndex","Быстрые гонки <img src='https://img2.bratki.mobi/images/cars/icons/race_29x29.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>","doctor","Любого","toLowerCase","beforeunload",".quant","Настойка живучести<img src='https://img2.bratki.mobi/images/items/stimulators/new/stim_stamina_12x12.png' alt='stamina' style='vertical-align: middle; width: 15px; height: 15px;'>","update_modules","name","onmousemove","auto_off","setupIOSOptimizations","[MobileManager] Деинициализация завершена","span.major","#val_","\n            // Timer Worker - Точные таймеры\n            let timers = new Map();\n            let intervalCounters = new Map();\n\n            function createTimer(id, delay, interval = false) {\n                if (timers.has(id)) {\n                    clearTimeout(timers.get(id));\n                }\n\n                const startTime = Date.now();\n                \n                function tick() {\n                    const elapsed = Date.now() - startTime;\n                    const remaining = Math.max(0, delay - elapsed);\n                    \n                    if (remaining <= 0) {\n                        // Таймер истек\n                        postMessage({\n                            type: 'timer_complete',\n                            id: id,\n                            timestamp: Date.now()\n                        });\n                        \n                        timers.delete(id);\n                        \n                        if (interval) {\n                            // Перезапускаем для интервального таймера\n                            createTimer(id, delay, true);\n                        }\n                    } else {\n                        // Обновляем прогресс\n                        if (Date.now() % 1000 < 50) { // Отправляем прогресс раз в секунду\n                            postMessage({\n                                type: 'timer_progress',\n                                id: id,\n                                remaining: remaining,\n                                progress: (elapsed / delay) * 100,\n                                timestamp: Date.now()\n                            });\n                        }\n                        \n                        // Планируем следующую проверку\n                        const nextCheck = Math.min(remaining, 100); // Максимум 100мс между проверками\n                        timers.set(id, setTimeout(tick, nextCheck));\n                    }\n                }\n                \n                tick();\n            }\n\n            // Обработка сообщений\n            self.onmessage = function(event) {\n                const { type, data } = event.data;\n\n                switch (type) {\n                    case 'create_timer':\n                        createTimer(data.id, data.delay, data.interval || false);\n                        break;\n\n                    case 'cancel_timer':\n                        if (timers.has(data.id)) {\n                            clearTimeout(timers.get(data.id));\n                            timers.delete(data.id);\n                            postMessage({ type: 'timer_cancelled', id: data.id });\n                        }\n                        break;\n\n                    case 'get_timers':\n                        postMessage({ \n                            type: 'timers_list', \n                            timers: Array.from(timers.keys()),\n                            timestamp: Date.now()\n                        });\n                        break;\n\n                    case 'ping':\n                        postMessage({ \n                            type: 'pong', \n                            timestamp: Date.now(),\n                            activeTimers: timers.size\n                        });\n                        break;\n                }\n            };\n        "," завершен","html","Друзья","Беспредел в порту","getGameWorkerCode","[WorkerManager] Деинициализация завершена","Запретить продажу <img src='https://img2.bratki.mobi/images/icons/cross.png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","2026-09-22","/icons/double_exp.png","23176wHmNxi","onmessage","furious","floor","fallbackMainLoop","[WakeLockManager] Инициализация fallback методов...","[MobileManager] Соединение: ","<span>Команда</span>",".b-user","[WakeLockManager] Audio Keep-Alive готов","cursor: pointer;","isSafari","acceptLinkPanel","[MobileManager] Connection Manager инициализирован","mission/description","ping","gift_recipient_id","checking","Автопочинка <img src='https://img0.bratki.mobi/images/icons/cogwheel_3.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","[MobileManager] Активация экономии трафика","Включить подсветку мобов на арене <img src='https://img1.bratki.mobi/images/NPCs/mafia_boss.gld.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","2125-09-09","createBufferSource","public_items_sell","createSilentAudio","repeatLink","/home","onclick","viewport","table","innerHTML","[BackgroundManager] Window Blur","pauseGameLoop","content","apply","input.btn-a.form-submit",".custom-menu","info","Стим 1  <img src='https://img0.bratki.mobi/images/items/stimulators/new/energy_light_32x32.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","resume","querySelector","then","slow-2g","match","bg_doki","Покрутить отмычку","muted","handleSlowPerformance","overflow:hidden; transition: 250ms; cursor: pointer;","/stim_speed_12x12.png","-buffsCommon-0-link","logout","-bottles-2","норм","mobileManager","trace","Улучшить",".b-header.small","[MobileManager] Активация оптимизаций производительности","опции","autoInjectedScript","500px","parentNode"," НЕДОСТУПНА (inactive span)","Автоматическая отправка подарков <img src='https://img2.bratki.mobi/images/icons/present_21x21.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","isCharging","skill_bonus_2","x2 опыт на час <img src='/images/icons/double_exp.png' alt='x2' style='vertical-align: middle; width: 12px; height: 12px;'> за 1500 <img src='https://img0.bratki.mobi/images/icons/credits.png' alt='credits' style='vertical-align: middle; width: 12px; height: 12px;'>","orientationchange","onload","[WakeLockManager] Ошибка освобождения Wake Lock:","currentCategoryIndex","silentAudio","Категории для сбора","Неистовство < Робот < Слежка < Точный","public_items_to_gang","2025-09-15","injection","menu_dim",'meta[name="viewport"]',"Ставка","webkitAudioContext","menuCustomizer","readyState","get","resize","-buffsCommon-1-link","-buffsSpec-0-link","setAttribute","handleOrientationChange","val_","Установка/снятие мода за 1к кредитов <img src='https://img0.bratki.mobi/images/icons/credits.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","touchHandler","Цикл стимов ","terminate","suspended","MobileManager","[Bratki Engine] Загрузка оригинальных модулей...","audioSource","min_random_timeout (",'a.btn-flat[href*="ILinkListener-attachLink"]',"priority","improveBlock-improveLink","send","Фокус мобов движух <img src='https://img0.bratki.mobi/images/icons/ach.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","1197394OLMfFC","RestPrank","toString","Фон: Порт",".content-inner .font12.c-gray","getNextScene","gangDonate","fast_heal","(((.+)+)+)+$","createInvisibleVideo","cancelTimer","Извлечь","onTimerComplete","innerText","loop","lastCheck","Персонаж","heartbeat","user/rack","orientationHandler","getElement","GET","не хватает","742oYQVBB","[WakeLockManager] Не удалось запустить silent audio:","set","tr.va-t a:not(.minor)","[WorkerManager] Game loop запущен","#playpause","isInBackground","display: flex; align-items: center; gap: 5px;","settings_","10ANcYTL",".enemies-item","appendChild","Тепловизор","[WorkerManager] Game Worker error:","[Bratki Engine] Инициализация улучшенного движка...","key","getEnemyHp","start","exc","prototype","backgroundManager","min-width: 40px; text-align: right;","[MobileManager] Ошибка инициализации:","onerror","onBeforeUnload","Ограбление Века","setSelection","[WakeLockManager] Ошибка инициализации Audio Keep-Alive:","mission_mode","initPerformanceMonitoring","onsubmit","className","Цикл стимов включен, слежка активна - запрещаем повтор","Быстрая ПП <img src='https://img2.bratki.mobi/images/icons/medicine.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","Патруль","[WorkerManager] Не удается создать таймер - worker недоступен","enable_belt_combined","entries","UnrulyPort","networkManager","landscape","connection","height",'\n                    .custom-menu::before {\n                        content: "";\n                        position: absolute;\n                        top: 0; left: 0; right: 0; bottom: 0;\n                        background: url(\'https://raw.githubusercontent.com/JenichG/nx/main/Endless Falls 1.gif\') no-repeat center center;\n                        background-size: cover;\n                        opacity: 1;\n                        z-index: -1;\n                    }\n                    .custom-menu::after {\n                        content: "";\n                        position: absolute;\n                        top: 0; left: 0; right: 0; bottom: 0;\n                        background: rgba(0, 0, 0, 0.1);\n                        z-index: -1;\n                    }\n                    .custom-menu, .custom-menu * {\n                        color: rgba(203, 206, 24, 1) !important;\n                    }\n                ',"час до отключения","overflow: hidden; border-radius: 3px; z-index: 3000; right: 0; background: #000; transition: 250ms;","=([^;]*)","<img src='https://img1.bratki.mobi/images/items/stimulators/new/coffee3_32x32.png  ' alt='coffee' style='vertical-align: middle; width: 15px; height: 15px;'> ","createMenuItem","div.b-header.small","while (true) {}","Cбор eжедневной награды <img src='https://img0.bratki.mobi/images/icons/buff_generosity.png' alt='gift' style='vertical-align: middle; width: 18px; height: 18px;'>","Невалидная дата для ID ","BlackOpsSmuggle","div","margin-top: -3px; left: 0; right: 0; height: 1px; background: #fff;","Автомясник  <img src='https://img3.bratki.mobi/images/NPCs/butcher.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","[WakeLockManager] Ошибка создания Audio Context:","\"Забрать все\" в общаге <img src='https://img1.bratki.mobi/images/icons/seif.2.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","[MobileManager] Инициализация для:","connectionType",'\n    img[src*=\'data:image\'] { width: 22px; height: 22px; }\n\n    /* Слайдер (switch) — обновлён под тёмный фон */\n    .switch {\n        position: relative;\n        display: inline-block;\n        width: 34px;\n        height: 20px;\n        margin: 2px 0;\n    }\n    .switch input { opacity: 0; width: 0; height: 0; }\n    .slider {\n        position: absolute;\n        cursor: pointer;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background-color: #e20c0cff; /* Тёмно-серый — неактивный */\n        border-radius: 34px;\n        transition: .2s;\n        padding: 5px;\n    }\n    .slider:before {\n        position: absolute;\n        content: "";\n        height: 18px;\n        width: 16px;\n        left: 2px;\n        bottom: 1px;\n        background-color: white;\n        border-radius: 50%;\n        transition: .4s;\n    }\n    input:checked + .slider {\n        background-color: #2196F3; /* Ярко-голубой — активный */\n    }\n    input:checked + .slider:before {\n        transform: translateX(14px);\n    }\n    input:focus + .slider {\n        box-shadow: 0 0 3px rgba(33, 150, 243, 0.5);\n    }\n\n    /* Текстовые поля — стили под тёмный фон */\n    .edit_text,\n    input[type="text"] {\n        min-height: 20px;          /* Минимальная высота */\n        height: auto;              /* Автоматическое увеличение по содержимому */\n        padding: 3px 6px;          /* Внутренние отступы */\n        font-size: 12px;\n        color: #2196F3;            /* Голубой текст */\n        background-color: #1a1a1a; /* Тёмно-серый фон */\n        border: none;\n        border-bottom: 2px solid #555;\n        border-radius: 3px;\n        outline: none;\n        resize: none;              /* Запрещаем ручное изменение размера */\n        overflow: visible;         /* Позволяет тексту выходить за границы (если нужно) */\n        line-height: 1.4;\n        font-family: sans-serif;\n    }\n\n    .edit_text:focus,\n    input[type="text"]:focus {\n        border-bottom-color: #2196F3; /* Голубая подсветка при фокусе */\n        box-shadow: 0 0 3px rgba(33, 150, 243, 0.5);\n    }\n\n    /* Ползунки (range) — стили под тёмный фон */\n    input[type="range"] {\n        -webkit-appearance: none;\n        appearance: none;\n        width: 100%;\n        height: 3px;\n        background: #d62e2eff;          /* Тёмный фон трека */\n        border-radius: 1.5px;\n        outline: none;\n        margin: 8px 0;\n    }\n\n    /* Стиль бегунка ползунка */\n    input[type="range"]::-webkit-slider-thumb {\n        -webkit-appearance: none;\n        appearance: none;\n        width: 16px;\n        height: 16px;\n        border-radius: 50%;\n        background: #19da12ff;\n        cursor: pointer;\n        box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);\n    }\n\n    input[type="range"]::-moz-range-thumb {\n        width: 16px;\n        height: 16px;\n        border-radius: 50%;\n        background: #1ceb38ff;\n        cursor: pointer;\n        border: none;\n        box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);\n    }\n\n    /* Прогресс-бар ползунка (необязательно, но выглядит красиво) */\n    input[type="range"]::-webkit-slider-runnable-track {\n        background: #333;\n        border-radius: 1.5px;\n    }\n\n    input[type="range"]::-moz-range-track {\n        background: #333;\n        border-radius: 1.5px;\n    }\n\n    /* Кнопки — оставляем как есть, но можно чуть подправить */\n    .btn-equip {\n        color: #338899;\n        display: inline-block;\n        margin: 0 5px 3px 0;\n        padding: 2px 4px;\n        font-size: 12px;\n        text-decoration: none;\n        background: #1a1a1a;\n        border: 1px solid #333;\n        border-radius: 3px;\n    }\n\n    /* Всплывающее окно — без изменений, но если нужно — можно добавить тёмный фон */\n    .popup-content {\n        max-height: 300px;\n        overflow-y: auto;\n        padding: 10px;\n        font-size: 12px;\n        color: #ffffff;\n        background-color: #121212; /* Дополнительно: глубокий тёмный фон */\n        border-radius: 6px;\n        border: 1px solid #333;\n    }\n',"Остановить","activeModules","setPopup","Зеленый (G)","[BackgroundManager] Готов к работе","connectionManager"," Задержки на значение \"0\" не работают <img src='https://cdn-icons-png.flaticon.com/128/7887/7887126.png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","createSettingsPopupHandler","[WorkerManager] Game heartbeat:","a[href*='","0:targetLink","playpause","setupPageLifecycleEvents","Отключение <img src='https://bratki.mobi/images/icons/neutral.offline.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>","checked",'Регулировка случайного интервала задержки между кликами с помощью двух ползунков. <br /><font color="#FFFF33">*Минимальная задержка</font> - минимальное время задержки (в миллисекундах). <br /><font color="#FFFF33">*Максимальная задержка</font> - максимальное время задержки (в миллисекундах). ЕСЛИ МОДУЛЬ ВЫКЛЮЧЕН, РАБОТАЕТ СТАРАЯ ЗАДЕРЖКА',"getModulesState","inactive","ID заказухи","memory","stripMelon","pageshow","<h2>Союзники</h2>","-receptionsClass-0-receptions-0-link","indexOf","closest","robLink","setupMessageHandlers","parentElement","createObjectURL"," ч.","setProperty","[WorkerManager] Ошибка инициализации:","get_all_items","portrait","remaining","efensivestand","[MobileManager] Медленная производительность: ","current_mission","(?:^|; )","background:#000; position:relative; transition:250ms; top:0px;","damageLastAttackerLink","❌ Не удалось извлечь ID из ссылки",".enemy-hp-amount","item_difficulty_30","script","edit_text","initPopupManager","fetchKeepAliveInterval","autoMissions","double_exp_30min","выкл","setUpdateInterval","Забрать","removeEventListener","beltBlock-1","robot","outerHTML","nextSibling","menu_color_r","popups","linkt","shooter_abilities_order","min_random_timeout","healLink","return_battle","getBattery","modification-enabled","Стойка < Обстрел < Аффект < Точный","getSceneLinks","data","mod_item_name","body","[MobileManager] Медленная операция: ","offsetY","[WorkerManager] Таймер ","clientX","auto_butcher","timerId","block:blockLink",'{}.constructor("return this")( )',"connect","preload","updateConnectionState","gameWorker","span>span.warn","Первая помощь","Настройка скрипта <img src='https://cdn-icons-png.flaticon.com/128/3074/3074932.png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","optionTwoLink","HEAD","Нитро","') no-repeat center center;\n                        background-size: cover;\n                        opacity: ","left","affect","onmousedown","[Bratki Engine] Инициализация завершена успешно","unknown","bg_cop","chargingchange","popup_","onComplete","translateZ(0)","followtarget","Мастерская мясника","responseURL","[BackgroundManager] Window Focus","script_speed_min_timeout","findLinksByText","Смертельный форсаж","/stim_power_12x12.png","Джереми","game","На главную","setupOrientationHandling","Особняк Фила Ричи","СТАРТ!!!","skill_bonus_3","hidden","[WakeLockManager] Wake Lock API недоступен, используем fallback","Аффект < Обстрел < Стойка < Точный","SPAN","keys","width: 0%; height: 100%; position: absolute; opacity: 0.5; top: 0; left: 0",") превышает max_random_timeout (","constructor","width","giftshop","module","item_difficulty","onForeground","0 0 1px grey","relative","removeCallback","pop","2026-10-19","По умолчанию","postMessage","menu","createAudioContext","map","Моя сумка","откл","length","setupFocusEvents","--animation-duration","list","operation_bunker","[MobileManager] Применение Android оптимизаций...","/cover","rTimeout","Срок аренды скрипта закончен","closeAll","createTimer","waitScene","findHomeLink","confirmLink","refreshLink","bonus_bullet_no_icon","Спецшкола","enterLink","modules","undefined","Сложность заказухи","Worker","font-size:12px; padding:3px 3px; color:#2196F3; width:","onswitch","beltBlock-0","contains","friends","querySelectorAll","updateBatteryState","setupVisibilityAPI","филки, жетон, кредиты, пули, аптечка, Канистра с бензином","onBackground","a[href*='crackLink']","performLicenseCheck","tagName","close","178oiVcSi","confirmReq","getModuleState","2125-05-07","Возвращение в бой <img src='https://bratki.mobi/images/icons/headshot.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","initWakeLock","-bottles-3","charging","Проверять доступность грабежей и выполнять их",".enemy-name","enable_belt_2","Атаковать","href","). Используется max_random_timeout.","maxWidth","span.inactive","[WakeLockManager] WebSocket keep-alive пока не реализован","display: inline-block","reload","span","Минимальная скорость (мс) \uD83D\uDC0C<img src='https://img.icons8.com/ios-filled/50/00bfff/turtle.png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","Обстрел < Точный < Стойка < Аффект","beltBlock-3","visibility","В общаке занято","createToggleHandler","attack_dead_bypass","2125-01-19","recalculateLayout","transform","updateModules","[Bratki Engine] Запуск fallback цикла...","engine",'a[href*="items-',"[WorkerManager] Запрос выполнения модуля: ","span.warn","Мин. таймаут ожидания (мс) \uD83D\uDC0C","search","custom-menu","2025-10-25","TEXT_NODE","initFallbackMethods","Авто бон \n  <img src='https://img0.bratki.mobi/images/icons/specshkola.png' \n       alt='Бицепс' \n       style='width: 20px; height: 20px; vertical-align: middle; animation: flex 2s infinite;'>\n  <style>\n    @keyframes flex {\n      0%, 100% { transform: scale(1); }\n      50% { transform: scale(1.1); }\n    }\n  </style>\n","bg_city","shooter","onconfig","2726-10-19","pong","% (","Сочные дыни","handleScene","findLinksByUrlComponent","-receptionsClass-0-receptions-3-link","padding: 3px; display: inline-block; color: #2196F3; cursor: pointer","#2196F3","menu_color_b","div.b-header","crackLink","-receptionsClass-3-receptions-0-link","/task","split","[BackgroundManager] Before Unload","skill_bonus_0","splice","action","gift_everyday","unlockPage","application/x-www-form-urlencoded; charset=utf-8","Слежка < Неистовство < Точный < Робот","createSettingElement","repairLink","setupRandomTimeout","innerHeight","Затягивание ран +30%  <img src='https://img1.bratki.mobi/images/icons/regen.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> на 30мин","ID получателя подарка","maxHeight","audioBuffer","timer_complete","handleBackgroundTransition","Хищник-охотник","submit","initConnectionManager","onmouseup","transfer_recipient_id","[Bratki Engine] Запуск основного цикла...","[WakeLockManager] Статус:","maxvalue","Запустить","Грабежи","auto","Забрать все","retryCount","[MobileManager] Медленное соединение, активация экономного режима","brute_abilities_order","2025-10-28","innerWidth","pingWorkers","heartbeatInterval","skill_bonus_4","touchmove","Голубой огонек","touches","Хищник-командующий","onreadystatechange","target2","setupAndroidOptimizations","data:","/message","Хищник-старейшина","setupViewportOptimizations","getCookie","2026-03-18","[WorkerManager] Timer Worker ошибка:","getSceneLink","debug","chem_speed","absolute","[WorkerManager] Не удается запустить game loop - worker недоступен","checkbox","VillaRichie","bottomProgress",'img[src*="followtarget.png"]',"[MobileManager] Battery API недоступен:","transition","enable_belt_4","offsetWidth","settings","pink","setupUnloadEvents","Минимальная стойка <img src='https://img3.bratki.mobi/images/icons/defensive_stand.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","-itemsList-26-itemPanel-item-customPanel-selectLink","16287PWhBCr","0px","startLink","font-size: 12px; color: #ffffff; max-width: 300px; line-height: 1.4;","workerManager","Задание недоступно",") !important;\n                    }\n                ","toUTCString","headshot","Лестница","bg_potrox","[href*='getGiftLink']","Минимальная задержка","-itemsList-18-itemPanel-item-customPanel-selectLink","request","give-all","load","text","preventDefault","2025-10-02","minSafeModeTimeout","return (function() ","-1000px","brute","x2 опыт на 30 мин <img src='/images/icons/double_exp.png' alt='x2' style='vertical-align: middle; width: 12px; height: 12px;'> за 800 <img src='https://img0.bratki.mobi/images/icons/credits.png' alt='credits' style='vertical-align: middle; width: 12px; height: 12px;'>","2125-05-28","messageHandlers","max_random_timeout","Количество мобов для обстрела <img src='https://img3.bratki.mobi/images/icons/gun_12x12.png  ' alt='defensive stand' style='vertical-align: middle; width: 12px; height: 12px;'>","checkWorkerSupport","-bottles-1","Не личные вещи сбыть <img src='https://img0.bratki.mobi/images/icons/credits.png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","background","measure","clearCache","domain","Общение","isInBackgroundMode","DOMContentLoaded","focus","beforeUnloadHandler","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover","wakeLock","[WakeLockManager] Wake Lock неактивен, попытка восстановления...","gas_timeout","firstaid","ID получателя пересылки","Братки","Все","isMobile","medikit","memoryWarningHandler","red","takeLink","Наводки \uD83D\uDCF2","item_categories_csv","position","setInterval","gun_","showBottom","24BDxQGQ","0.7","currentModule",'-selectItemLink"][textContent="Отменить"], a[href*="items-',"Аптечка","2026-10-16","survival_10min","Стим 2  <img src='https://img1.bratki.mobi/images/items/stimulators/new/energy_black_32x32.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","[MobileManager] Низкий заряд батареи: ","licenseCheckInProgress","isPageLocked","[WakeLockManager] Ошибка создания silent audio:","\"Выбрать все\" при отправке <img src='https://bratki.mobi/images/icons/mes_out_cod.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","pageHideHandler","hasNewInterface","https://img1.bratki.mobi/images/cities/ghetto_480.jpg","toLocaleTimeString","function","timeoutId","Склады Седого","select","-receptionsClass-1-receptions-1-link","table a[href*='selectItemLink']","✅ Лицензия активна, ID: ","nebo","GUI","script_speed_max_timeout","release","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","getMyHp","cache","processGameLogic","gameState","[MobileManager] Готов к работе","В твоей сумке нет места","ожидание","KillMajor","NotAllowedError","⚠️ [AutoBon] Таблица настоек не найдена (.content-inner.bg-verygray)",'\n                    .custom-menu::before {\n                        content: "";\n                        position: absolute;\n                        top: 0; left: 0; right: 0; bottom: 0;\n                        background: url(\'',"[WorkerManager] Ошибка обработки сообщения ","elements","popupManager","Уникальные приемы","state","--reduce-motion","survival_20min","Макс. таймаут ожидания (мс) <img src='https://img.icons8.com/?size=48&id=19034&format=png' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","performanceObserver","defensive_stand_threshold","initAudioKeepAlive","2025-10-13","range","isOpen","batteryManager","Администрация вокзала","Фон: Старый город","16px","Слежение за целью","mozConnection","string","transferMode","entryType","filter","handleForegroundTransition","pageShowHandler","showMsg","Настройка меню <img src='https://img0.bratki.mobi/images/icons/achievements.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","Настойка скорости<img src='https://img1.bratki.mobi/images/items/stimulators/new/stim_speed_12x12.png' alt='speed' style='vertical-align: middle; width: 15px; height: 15px;'>","some","Постоянные проблемы","-giftPanel-giftCell-getGiftLink","forceLowPowerMode","Лечение < Яд < Инъекция < Точный","[MobileManager] Network Information API недоступен:","click","debu","true","top","slider round","все","getUid","opacity","1186140SAFQTw","[BackgroundManager] Деинициализация завершена","console","enabled","chem_power","video","ul.block","getState","Затемнение","-deleteLink","a[href*='beltBlock-0'] .locked-time","Инъекция","addEventListener","pagehide","startGameLoop","Пнуть замок","2025-10-01","Content-Type","Вставить отмычку в замок","Быстрый сбор вещей с почты <img src='https://img1.bratki.mobi/images/icons/mes_in.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","Точный < Лечение < Яд < Инъекция","nitro_timeout","test","Общак","bg_banda","проф","Невозможно прикрепить вещь. Максимум 10.","execute_module","Усмирение тигра","doctor_abilities_order","/icons/training.png","2025-10-20","uid","padStart","flex: 1;","div.font12.p3 > div.mt5","Группировка","Стим 4  <img src='https://img1.bratki.mobi/images/items/stimulators/adrenalin_inj32.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","private_items_sell","[WakeLockManager] Не удалось запросить Wake Lock после взаимодействия:","getAttribute","none","menuOpened","Не личные вещи в общак <img src='https://img1.bratki.mobi/images/icons/group.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>",'a[href*="takeLink"]',"chem_armor","initWebSocketKeepAlive","addItemLink","Bratki Enhanced Script","take-all","attack_predators","minor","Установить","triggerCallbacks","Название вещи для установки модов",".filter-str .filter-item","Робот < Слежка < Точный < Неистовство","272030dmwRlt","setupIOSSpecialHandling","application/javascript","requestWakeLock","AudioContext","from","Достиг тренер по стрельбе <img src='https://img2.bratki.mobi/images/NPCs/shumer_guard.gld.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","webkitConnection","358160YLlAYp","clicked","loadOriginalModules","откроются через","timerWorker","-5 сек <img src='https://img2.bratki.mobi/images/icons/skillcooldown.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'> на 30 мин за 2<img src='https://img2.bratki.mobi/images/icons/bucks.png' alt='cash' style='vertical-align: middle; width: 12px; height: 12px;'>","-difficultyLink","getCombatLinks","timer","-receptionsClass-2-receptions-0-link","removeLinksByUrlComponent","sqrt","[MobileManager] Изменение ориентации: ","skill_bonus_5","-receptionsClass-0-receptions-2-link","documentElement","needsAudioKeepAlive","function *\\( *\\)","register","sort","substring","Стим 3  <img src='https://img2.bratki.mobi/images/items/stimulators/new/energy_red_32x32.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","location","2025-10-26","display","fixed","-1-linkMoney","⚠️ [AutoBon] Ячейка настойки ","createDocumentFragment","Открыть ящик","https://img0.bratki.mobi/images/cities/police_480.jpg","\n            // Game Worker - Основная логика игры\n            let gameState = {\n                paused: true,\n                currentModule: null,\n                modules: {},\n                config: null\n            };\n\n            let gameInterval = null;\n\n            // Функции для работы с модулями\n            function processModules() {\n                if (gameState.paused) return;\n\n                // Эмуляция проверки модулей\n                const activeModules = Object.keys(gameState.modules).filter(key => \n                    gameState.modules[key].enabled\n                );\n\n                if (activeModules.length > 0) {\n                    const moduleToExecute = selectNextModule(activeModules);\n                    if (moduleToExecute) {\n                        postMessage({\n                            type: 'execute_module',\n                            module: moduleToExecute,\n                            timestamp: Date.now()\n                        });\n                    }\n                }\n\n                // Отправляем heartbeat\n                postMessage({\n                    type: 'heartbeat',\n                    timestamp: Date.now(),\n                    activeModules: activeModules.length\n                });\n            }\n\n            function selectNextModule(activeModules) {\n                // Простая логика выбора следующего модуля\n                // В реальной реализации здесь будет более сложная логика\n                return activeModules[0];\n            }\n\n            // Обработка сообщений от основного потока\n            self.onmessage = function(event) {\n                const { type, data } = event.data;\n\n                switch (type) {\n                    case 'init':\n                        gameState.config = data.config;\n                        gameState.modules = data.modules;\n                        postMessage({ type: 'init_complete' });\n                        break;\n\n                    case 'start':\n                        gameState.paused = false;\n                        if (!gameInterval) {\n                            gameInterval = setInterval(processModules, data.interval || 1000);\n                        }\n                        postMessage({ type: 'started' });\n                        break;\n\n                    case 'pause':\n                        gameState.paused = true;\n                        if (gameInterval) {\n                            clearInterval(gameInterval);\n                            gameInterval = null;\n                        }\n                        postMessage({ type: 'paused' });\n                        break;\n\n                    case 'update_modules':\n                        gameState.modules = data.modules;\n                        break;\n\n                    case 'set_current_module':\n                        gameState.currentModule = data.module;\n                        break;\n\n                    case 'ping':\n                        postMessage({ \n                            type: 'pong', \n                            timestamp: Date.now(),\n                            gameState: {\n                                paused: gameState.paused,\n                                currentModule: gameState.currentModule\n                            }\n                        });\n                        break;\n                }\n            };\n\n            // Обработка ошибок\n            self.onerror = function(error) {\n                postMessage({\n                    type: 'error',\n                    error: {\n                        message: error.message,\n                        filename: error.filename,\n                        lineno: error.lineno,\n                        colno: error.colno\n                    }\n                });\n            };\n        ","replace","[MobileManager] Ошибка инициализации мониторинга производительности:","showItemsLink","levelchange","Проезжает гонки с максимально быстрой скоростью","scrollTo","Подлый барыга","Особое <img src='https://img0.bratki.mobi/images/icons/aftoriteti.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>","descPopup","разряжается","play","target","expires","Грабежи \n      <img src='https://img1.bratki.mobi/images/icons/grabeji.png' \n           style='width: 20px; height: 20px; vertical-align: middle; animation: flex 2s infinite;'>\n  <style>\n    @keyframes flex {\n      0%, 100% { transform: scale(1); }\n      50% { transform: scale(1.2); }\n    }\n  </style>\n    ","handleWorkerMessage","a[href*='/item']"," → ","random","45OaATXt","blurHandler","cover-enabled","-selectItemLink","lastAction","getElementById",'img[src*="looking_for_target.png"]',"chain","onchange","data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEA...","timestamp","GuildStoragePage","type","setupTouchOptimizations","Состояние аффекта","level","Пляжная вечеринка","warehouse","isSupported"," worker pong:",".enemies-list-items .enemies-item a","Да, подтверждаю","[MobileManager] Высокое использование памяти: ","btn-lock","Прокачка достижения Зажигалка <img src='https://img0.bratki.mobi/images/icons/cent.png' alt='defensive stand' style='vertical-align: middle; width: 18px; height: 18px;'>","[WorkerManager] Worker не поддерживается:","responseText","div.content-inner>img","addCallback","font-size: 12px; color: #ffffff; min-width: 200px;","Лицензия не активна","Надо","setProgress","visibilityChangeHandler","[MobileManager] Батарея: ","gger","forEach",'-selectItemLink"].btn-a',"gift-enabled","<img src='https://img0.bratki.mobi/images/items/stimulators/new/energy_light_32x32.png  ' alt='energy' style='vertical-align: middle; width: 15px; height: 15px;'> ","бесп","backgroundStartTime","Mooringyachtclubagent","Порядок способностей: Громила <img src='https://img2.bratki.mobi/images/icons/mafia.grumble.png  ' alt='brute' style='vertical-align: middle; width: 15px; height: 15px;'>","blur","[WorkerManager] ","handlePage","clearCaches","urlc","display: inline-block; overflow: hidden; padding: 3px; vertical-align: top;","-confirmLink","isIOS","offsetX","Порядок способностей: Доктор <img src='https://img0.bratki.mobi/images/icons/mafia.medic.png  ' alt='doctor' style='vertical-align: middle; width: 15px; height: 15px;'>","skill_timeout","navigation","chem_stamina","batteryLevel","\uD83D\uDD12 Проверка лицензии...","show","/tasks","Лечение < Инъекция < Яд < Точный","Максимальная задержка","boxShadow","visibilitychange","table a[href*='takeLink']","double_exp_60min","borderTop","object","2025-10-14","startFPSMonitoring","border-top: 1px solid #fff; font-size: 12px; overflow:hidden; transition: 250ms;","2027-02-06","Кухня","Выживание +10 мин <img src='/images/icons/revival.png' alt='revival' style='vertical-align: middle; width: 12px; height: 12px;'> за 1 <img src='https://img2.bratki.mobi/images/tmp/bullets12x12.png' alt='bullet' style='vertical-align: middle; width: 12px; height: 12px;'>","heal","duration","createTimerWorker","isAndroid","arena-enabled","find",".search-form, .b-notice, .event, .b-header, .container, .b-footmenu","playAudioKeepAlive","Задержка нажатия на нитро <img src='https://img1.bratki.mobi/images/cars/icons/21x21_nitro.png' alt='defensive stand' style='vertical-align: middle; width: 20px; height: 20px;'>","onPageHide","timeout","padding",'img[src*="defensive_stand.png"]',"Заброшенный Завод","number","выполнение ","smi","hideMsg","setupIOSFullscreen","orientation","Продолжить бой","closeAllPopup","Бункер","Обновить","log","Полная версия","2125-10-25","Проверка лицензии перед работой скрипта","wait_timeout_max","returnLink","isLowPowerMode","overflow","gang3-enabled","Инъекция < Лечение < Точный < Яд","thrownfactory","#auto_repair","Настойка точности<img src='https://img1.bratki.mobi/images/items/stimulators/new/stim_accuracy_12x12.png' alt='accuracy' style='vertical-align: middle; width: 15px; height: 15px;'>","keepAliveWithFetch"," д. ","2125-09-01","enable_belt_1","Задержка способностей <img src='https://img3.bratki.mobi/images/icons/clock.png  ' alt='defensive stand' style='vertical-align: middle; width: 15px; height: 15px;'>","Бонусы","diff","-last",'Очистка сумки от вещей, <br /><font color="#ff0000">Будьте осторожны при выборе варианта сбыть</font><br /><font color="#ff3">исключеня</font> - (с общагом не работает) ключевые слова исключаящие обработку вещи, через запятую, например: филки, ящик',"a.btn-a.ml3","маст","a[href*='tempItemsLink']","div.road-line","5px","isActive","pow"];return(_0x31f4=function(){return $})()}let GUI={createMenu:function(){var $=_0x4dd47f;let x=document.createElement($(1075));x[$(1292)]=switchStyle,document[$(1088)][$(1401)](x);let e=window[$(595)]<600,t=document[$(1097)]($(1075));t.id=$(1020),t[$(1292)]="\n            .custom-menu::before {\n                content: \"\";\n                position: absolute;\n                top: 0; left: 0; right: 0; bottom: 0;\n                background: url('https://raw.githubusercontent.com/JenichG/nx/main/Endless Falls 1.gif') no-repeat center center;\n                background-size: cover;\n                opacity: 0.9;\n                z-index: -1;\n            }\n            .custom-menu {\n                color: #c8ff00ff;\n            }\n        ",document[$(1088)][$(1401)](t),modules[$(1344)]&&modules[$(1344)][$(777)]&&modules[$(1344)].onconfig();let i=lib.ce("div",{className:$(538),id:"my-bratki-script",style:$(1183),onmousemove:function(){var x=$;this[x(1075)][x(773)]="1"},onmouseout:function(){var x=$;this[x(1075)][x(773)]=x(692)}});if(e)i[$(1075)][$(769)]="0",i[$(1075)][$(1099)]="0";else if(typeof lib[$(610)]("menu_position")==$(483))i[$(1075)][$(769)]=$(632),i[$(1075)][$(414)]="10px";else{let a=lib[$(610)]("menu_position")[$(560)](".");i[$(1075)][$(769)]=a[1],i[$(1075)].left=a[0]}let n=lib.ce($(1444),{style:$(1196),innerHTML:$(1321)},i),r=lib.ce($(1444),{style:$(1127)}),d=lib.ce("div",{style:$(1158)},r),o=!1;e||(n[$(416)]=function(x){var e=$;i[e(1075)].transition="0s";let t=x[e(941)],a=x[e(396)];function r($){var x=e;i.style[x(414)]=$.pageX-t+"px",i[x(1075)][x(769)]=$[x(1233)]-a+"px",lib[x(1171)]("menu_position",i.style.left+"."+i[x(1075)][x(769)])}r(x),document.onmousemove=function($){var x=e;Math[x(850)](Math[x(1016)](t-$[x(941)],2)+Math.pow(a-$[x(396)],2))>2&&(o=!0),r($)},n[e(582)]=function(){var $=e;document[$(1246)]=null,i[$(1075)][$(623)]="500ms",n[$(582)]=null}});let s=lib.ce("div",{style:$(1147)},i),l=!1;n[$(1289)]=function(){var x=$;if(o){o=!1;return}l=!l,GUI[x(816)]=l,l?(GUI[x(690)](),s.style.maxHeight="1000px",s[x(1075)].maxWidth="500px",s[x(1075)][x(975)]="5px",s[x(1075)][x(956)]="1px solid #fff",r[x(1075)][x(773)]="0",r[x(1075)][x(575)]="0"):(GUI[x(985)](),GUI[x(1225)](),s[x(1075)][x(575)]="0",s[x(1075)][x(514)]="0",s[x(1075)][x(975)]="0",s[x(1075)][x(956)]="0",r[x(1075)][x(773)]="1",r[x(1075)][x(575)]=x(1323))};let c=engine[$(1212)],f,_,u=lib.ce("img",{style:$(1272)},r);u[$(1188)]=c?icPlayUrl:icPauseUrl,u[$(1289)]=function(){var x=$;c=!c,engine[x(1212)]=c,_.innerHTML=x(c?587:1452),this[x(1188)]=c?icPlayUrl:icPauseUrl,f.src=this[x(1188)],c||engine[x(475)](engine[x(550)]),lib[x(1171)](x(1212),c?1:0)},i[$(1401)](r);let p=lib.ce("div",{id:$(333),style:$(1310)},i),g=lib.ce($(1444),{style:$(1445)},p);GUI.bottomProgress=new ProgressBar(g,$(554)),g[$(1075)][$(687)]=$(616),g.appendChild(GUI[$(620)][$(1387)]()),f=lib.ce($(1053),{src:c?icPlayUrl:icPauseUrl},p),_=lib.ce("div",{style:"position: relative; top: 2px; display: inline-block;",innerHTML:c?$(587):$(1452)},p),p[$(1289)]=function(){var x=$;c=!c,engine[x(1212)]=c,f.src=c?icPlayUrl:icPauseUrl,_[x(1292)]=x(c?587:1452),u[x(1188)]=f[x(1188)],c||engine[x(475)](engine.handleScene),lib[x(1171)](x(1212),c?1:0)},GUI.showBottom=function(){var x=$;p[x(1075)][x(975)]=x(1014),p[x(1075)].maxHeight=x(1323),p.style[x(773)]="1"},GUI[$(1225)]=function(){var x=$;p[x(1075)][x(975)]="0",p.style.maxHeight="0",p[x(1075)][x(773)]="0"},GUI[$(1225)]();let m=lib.ce("div",{id:"notifyblock",style:$(960)},i);GUI.showMsg=function(x){var e=$;m.style.padding=e(1014),m[e(1075)][e(575)]=e(1323),m[e(1075)][e(773)]="1",m[e(1292)]=x},GUI[$(981)]=function(){var x=$;m[x(1075)][x(975)]="0",m[x(1075)][x(575)]="0",m[x(1075)].opacity="0"},GUI[$(459)]=i,GUI[$(1295)]=s,GUI[$(847)]=d},closeAllPopup:function(){var $=_0x4dd47f;for(let x in modules)modules[x][$(879)]&&modules[x][$(879)][$(1069)]()}};class EnhancedBratkiEngine{constructor(){var $=_0x4dd47f;this.isInitialized=!1,this[$(1410)]=null,this[$(1132)]=null,this[$(635)]=null,this[$(1429)]=null,this.mobileManager=null,this[$(1118)]()}async [_0x4dd47f(1118)](){var $=_0x4dd47f;try{console[$(988)]($(1404)),this[$(1410)]=new BackgroundManager,this[$(1132)]=new WakeLockManager,this[$(635)]=new WorkerManager,this[$(1429)]=new NetworkManager,this[$(1316)]=new MobileManager,await this[$(1410)][$(1118)](),await this[$(1132)][$(1118)](),await this[$(635)][$(1118)](),await this[$(1429)][$(1118)](),await this[$(1316)][$(1118)](),await this[$(841)](),this.isInitialized=!0,console.log($(417)),this.startMainLoop()}catch(x){console.error("[Bratki Engine] Ошибка инициализации:",x),this.fallbackToOriginal()}}async [_0x4dd47f(841)](){console.log(_0x4dd47f(1359))}[_0x4dd47f(1019)](){var $=_0x4dd47f;console[$(988)]($(584)),this[$(635)][$(907)]()?this[$(635)].startGameLoop():this[$(1266)]()}[_0x4dd47f(1266)](){var $=_0x4dd47f;console[$(988)]($(531)),setInterval(()=>{var x=$;this[x(1410)][x(1396)]()||this[x(722)]()},1e3)}[_0x4dd47f(722)](){console.log("[Bratki Engine] Обработка игровой логики...")}[_0x4dd47f(1228)](){var $=_0x4dd47f;console[$(1221)]($(1170))}}document.addEventListener(_0x4dd47f(669),()=>{new EnhancedBratkiEngine}),window.BratkiEngine=EnhancedBratkiEngine,(function(){var $,x=_0x11dd;try{$=Function(x(652)+x(402)+");")()}catch(e){$=window}return $})()[_0x4dd47f(688)](_0xeebc1d,1e3);var engine={auto:!1,paused:!0,cache:new Map,popupManager:null,isPageLocked:!1,initPopupManager:function(){var $=_0x4dd47f;this[$(733)]||(this[$(733)]={popups:new Map,register:function(x,e){var t=$;this[t(382)][t(1392)](x,e)},isOpen:function(x){var e=this.popups.get(x);return!!e&&e[$(1117)]()},hide:function(x){var e=$,t=this[e(382)][e(1346)](x);t&&t[e(1069)]()},closeAll:function(){var x=$;this[x(382)][x(925)](function($){$.isOpened()&&$[x(1069)]()})}})},lockPage:function(){var $=_0x4dd47f;this.isPageLocked||(window[$(786)]("beforeunload",this.preventPageUnload),this[$(701)]=!0)},unlockPage:function(){var $=_0x4dd47f;this[$(701)]&&(window[$(376)]($(1241),this[$(1076)]),this[$(701)]=!1)},preventPageUnload:function($){$.preventDefault(),$.returnValue=""},init:function(){var $=_0x4dd47f;this[$(505)](),this.initPopupManager(),this[$(589)]&&this[$(1061)](),lib.onload=function(){var x=$;engine.auto=!1,lib[x(935)](),document.body[x(1401)](GUI.menu),engine[x(475)](engine[x(550)])},engine[$(1212)]=!0,lib[$(935)](),engine.initMenu()},startScript:function(){var $=_0x4dd47f;this[$(589)]=!0,this[$(1061)]()},stopScript:function(){var $=_0x4dd47f;this[$(589)]=!1,this[$(566)]()},initWakeLock:function(){var $=_0x4dd47f;"wakeLock"in navigator&&navigator[$(673)][$(645)]("screen")[$(1303)](function(x){x[$(786)]("release",function(){})})[$(1101)](function($){})},initPopupManager:function(){var $=_0x4dd47f;this[$(733)]||(this[$(733)]={popups:new Map,register:function(x,e){var t=$;this[t(382)][t(1392)](x,e)},isOpen:function(x){var e=$,t=this[e(382)][e(1346)](x);return!!t&&t[e(1117)]()},hide:function(x){var e=$,t=this.popups[e(1346)](x);t&&t[e(1069)]()},closeAll:function(){var x=$;this[x(382)].forEach(function($){$.isOpened()&&$[x(1069)]()})}})},callback:function($){var x=_0x4dd47f;if(bratki.checking){if(delete bratki[x(1279)],0===$){confirm("Срок аренды скрипта закончен")||document[x(861)][x(518)]();return}if(-1!==$){var e=Math.floor(($*=1e3)/864e5),t=Math.floor($%864e5/36e5),i="⏳ Осталось: "+e+x(1002)+t+x(352);GUI.showMsg(i),setTimeout(function(){GUI.hideMsg()},1e4),0===e&&t<24&&setTimeout(function(){var $=x;confirm($(472))||document[$(861)][$(518)]()},$)}else GUI[x(757)](x(989)),setTimeout(function(){GUI[x(981)]()},5e3);engine[x(1118)]()}},getSceneLink:function($){var x=_0x4dd47f,e=[],t=-1;for(var i in $){var a=$[i],n=null;if(a[x(383)]?n=lib[x(429)](a[x(383)]):a[x(1148)]&&(n=lib[x(551)](a[x(1148)])),n&&n[x(464)]>0){if(a[x(1408)]&&!a.exc())continue;a[x(1363)]>t&&(e=n,void 0!==a[x(974)]&&e[0][x(1350)](x(974),a.timeout),t=a[x(1363)],a[x(422)]&&setTimeout(()=>{a[x(422)]()},50))}}if(e.length>0)return[{click:e[0]}]},handleScene:function($){var x=_0x4dd47f;engine[x(1212)]||typeof $[0][x(766)]===x(483)||(engine[x(589)]=!0,$[0].click[x(1350)](x(589),!0),$[0].click[x(766)](),setTimeout(function(){var $=x;!engine[$(1212)]&&modules[$(1048)][$(777)]&&(modules[$(1048)][$(1407)]=Date[$(1035)]())},1e3))},waitScene:function($){var x=_0x4dd47f;if(!engine[x(1212)]||modules[x(1048)][x(777)]){if(void 0!==engine[x(693)]){var e=modules[engine[x(693)]];if(e[x(901)]!==TYPE_TIMEOUT_SCENES||Date[x(1035)]()-lib[x(893)]>3e3){var t=e[x(1372)]();if(typeof t!==x(483)){$(t);return}e[x(901)]===TYPE_TIMEOUT_SCENES&&typeof e[x(974)]!==x(483)&&(e[x(1407)]=Math[x(1140)](Date[x(1035)]()+e[x(974)],Date.now()+6e4))}delete engine[x(693)]}var i=!1,a=Object[x(443)](modules);if(modules[x(1048)][x(777)]){var n=modules[x(1048)][x(1372)]();if(void 0!==n){engine.currentModule=x(1048),GUI.showMsg(x(979)+modules[x(1048)][x(1245)]),setTimeout(function(){GUI.hideMsg()},2e3),$(n);return}modules[x(1048)][x(1407)]=Math[x(1140)](Date[x(1035)]()+modules[x(1048)][x(974)],Date[x(1035)]()+6e4)}if(!engine[x(1212)])for(var r=0;r<a.length;r++){var d=a[r],o=modules[d];if(void 0!==engine[x(693)])break;if(o[x(901)]!==TYPE_SWITCH&&o[x(777)]){if(i=i||!!o[x(974)],!(o[x(901)]===TYPE_TIMEOUT_SCENES&&Date[x(1035)]()-lib[x(893)]<1e3)&&!(typeof o[x(1407)]!==x(483)&&o[x(1407)]>Date[x(1035)]())){var t=o.getNextScene();if(typeof t!==x(483)){engine.currentModule=d,GUI[x(757)]("выполнение "+modules[engine[x(693)]].name),setTimeout(function(){GUI[x(981)]()},2e3),$(t);break}o[x(901)]===TYPE_TIMEOUT_SCENES&&typeof o.timeout!==x(483)&&(o[x(1407)]=Math[x(1140)](Date[x(1035)]()+o[x(974)],Date[x(1035)]()+6e4))}}}typeof engine[x(693)]===x(483)&&(modules[x(1048)][x(777)]?(modules[x(1048)][x(1407)]=Math[x(1140)](Date[x(1035)]()+modules.licenseCheck[x(974)],Date.now()+6e4),engine[x(571)](function(){var e=x,t=modules[e(1048)].getNextScene();typeof t!==e(483)?(engine.currentModule=e(1048),GUI[e(757)]("выполнение "+modules[e(1048)][e(1245)]),setTimeout(function(){GUI[e(981)]()},2e3),$(t)):setTimeout(function(){engine[e(475)]($)},1e3)})):i?engine[x(571)]($):setTimeout(function(){engine[x(475)]($)},1e3))}},setupRandomTimeout:function($){var x=_0x4dd47f;typeof engine[x(400)]!==x(483)&&clearInterval(engine[x(400)]);let e=parseInt(lib[x(610)]("wait_timeout_min"))||15e3,t=parseInt(lib[x(610)]("wait_timeout_max"))||25e3;e>t&&(t=e,lib[x(1171)](x(992),t));var i=Math[x(1265)](Math.random()*(t-e+1))+e,a=Date[x(1035)]()+i;GUI[x(847)][x(1075)][x(773)]="0",engine.timerId=setInterval(function(){var $=x;if(engine[$(1212)]||typeof engine[$(709)]===$(483)){GUI[$(847)][$(1075)].opacity="0",clearInterval(engine[$(400)]),typeof engine[$(709)]!==$(483)&&clearTimeout(engine.timeoutId);return}var e=Math[$(1265)]((a-Date[$(1035)]())/1e3);"0"===GUI[$(847)].style[$(773)]&&(GUI[$(847)][$(1075)][$(773)]="1"),GUI[$(847)][$(1292)]=e,GUI.bottomProgress[$(921)](100-Math[$(1265)](e/(i/1e3)*100))},1e3),GUI.showMsg(x(726)),setTimeout(function(){GUI.hideMsg()},2e3),engine[x(709)]=setTimeout(function(){var e=x;GUI[e(847)][e(1075)][e(773)]="0",clearInterval(engine[e(400)]),delete engine[e(400)],delete engine.timeoutId;var t=engine[e(476)]();void 0!==t?$([{click:t}]):engine[e(475)]($)},i)},findHomeLink:function(){var $=_0x4dd47f,x=lib[$(551)]("home");if(x[$(464)]>0&&!x[0][$(512)][$(1206)]($(1313)))return x[0];var e=lib.findLinksByUrlComponent("//"+document[$(666)]),t=lib.removeLinksByUrlComponent(e,"?");if(t[$(464)]>0)return t[Math[$(1265)](Math[$(888)]()*t.length)]},init:function(){var $=_0x4dd47f;this[$(505)](),this[$(369)](),lib[$(1331)]=function(){var x=$;engine[x(589)]=!1,lib[x(935)](),document.body[x(1401)](GUI[x(459)]),engine[x(475)](engine[x(550)])},engine[$(1212)]=!0,lib[$(935)](),engine[$(1138)]()},initWakeLock:function(){var $=_0x4dd47f;$(673) in navigator&&navigator[$(673)][$(645)]($(1071))[$(1303)](function(x){var e=$;x[e(786)](e(718),function(){})})[$(1101)](function($){})},getModuleState:function($,x){var e=_0x4dd47f;if(this[e(721)][e(1190)]($))return this[e(721)][e(1346)]($);var t=lib[e(610)]($),i=typeof t===e(483)?x[e(777)]:1==t;return this.cache.set($,i),i},createToggleHandler:function($,x){var e=this;return function(){var t=_0x11dd;if("licenseCheck"===$){this[t(336)]=!0;return}var i=this[t(336)];x[t(901)]===TYPE_SWITCH&&modules[this.id][t(487)](i),modules[this.id][t(777)]=i,e[t(721)].set(this.id,i),i||engine[t(693)]!==this.id||delete engine[t(693)],i&&typeof engine[t(693)]===t(483)&&(typeof engine.timeoutId!==t(483)&&(clearTimeout(engine[t(709)]),delete engine[t(709)]),engine.waitScene(engine.handleScene)),lib[t(1171)](this.id,i?1:0)}},createHelpPopupHandler:function($){var x=this;return function(){var $=_0x11dd,e=this.id[$(560)]("_")[1],t=modules[e],i="desc_"+e;if(x[$(733)][$(744)](i))x[$(733)].hide(i);else if(typeof t[$(879)]===$(483)){var a=new PopupWindow(this[$(1324)]);a[$(1181)](lib.ce($(1444),{style:$(634),innerHTML:t[$(1169)]})),GUI[$(985)](),a[$(948)](),t[$(879)]=a,x[$(733)][$(857)](i,a)}else t[$(879)][$(1117)]()?t[$(879)][$(1069)]():(GUI[$(985)](),t.descPopup.show())}},createSettingsPopupHandler:function($){var x=this;return function(){var $=_0x11dd,e=this.id[$(560)]("_")[1],t=modules[e];if(typeof t[$(1454)]===$(483)){var i=new PopupWindow(this.parentNode,!1),a=lib.ce("div",{style:$(918)});for(var n in i[$(1181)](a),t.settings){var r=x[$(569)](e,t.settings[n],t);a[$(1401)](r)}GUI.closeAllPopup(),i[$(948)](),t.setPopup=i}else t[$(1454)][$(1117)]()?t.setPopup[$(1069)]():(GUI[$(985)](),t[$(1454)][$(948)]())}},createSettingElement:function($,x,e){var t=_0x4dd47f,i=document.createElement(t(1444)),a=lib.ce(t(1444),{style:t(938),innerHTML:x[t(1245)]});if(x[t(901)]===t(618)){var n=new ToggleButton(x[t(1405)]),r=n[t(1068)]();r.id=x[t(1405)],typeof lib[t(610)](x[t(1405)])===t(483)&&lib[t(1171)](x[t(1405)],x[t(1122)]?1:0),r.onclick=function(){var $=t;lib[$(1171)](this.id,this[$(336)]?1:0),typeof e[$(545)]!==$(483)&&e[$(545)]()},r[t(336)]=1==lib[t(610)](x[t(1405)]),i.appendChild(n[t(1387)]())}if(x[t(901)]===t(711)){var d=new SelectBox(x.key,x[t(467)]);typeof lib.getCookie(x.key)===t(483)&&lib[t(1171)](x[t(1405)],x[t(1122)]),d[t(1416)](lib.getCookie(x[t(1405)])),d.onchange=function($,x){var i=t;lib[i(1171)]($,x),void 0!==e[i(545)]&&e.onconfig()},x.sb=d,i[t(1401)](d[t(1387)]())}if(i[t(1401)](a),x.type===t(743)){var o=lib.ce(t(1207),{type:t(743),style:t(517),id:x[t(1405)],max:x[t(586)]});typeof lib.getCookie(x[t(1405)])===t(483)&&lib.setCookie(x[t(1405)],x.value),o.id=x[t(1405)];var s=lib.ce(t(1444),{style:"display: inline-block; padding-left: 3px;",innerHTML:lib[t(610)](x[t(1405)])});s.id="val_"+x.key,o[t(1055)]=function(){var $=t;lib[$(1171)](this.id,this[$(1122)]),document[$(1302)]($(1251)+this.id).innerHTML=this.value,void 0!==e.onconfig&&e.onconfig()},o[t(1122)]=lib[t(610)](x[t(1405)]),i[t(1401)](o),i[t(1401)](s)}if("text"===x[t(901)]){typeof lib.getCookie(x[t(1405)])===t(483)&&lib[t(1171)](x[t(1405)],x.value);var l=new EditText(x[t(1405)],lib.getCookie(x[t(1405)]));l[t(897)]=function($,x){lib.setCookie($,x)},i[t(1401)](l[t(1387)]())}return i},createCheckboxControl:function($,x,e){var t=_0x4dd47f,i=new ToggleButton(x[t(1405)]),a=i[t(1068)]();return a.id=x[t(1405)],typeof lib[t(610)](x.key)===t(483)&&lib.setCookie(x[t(1405)],x.value?1:0),a.checked=1==lib.getCookie(x[t(1405)]),a[t(1289)]=function(){var $=t;lib[$(1171)](this.id,this.checked?1:0),typeof e[$(545)]!==$(483)&&e[$(545)]()},i[t(1387)]()},createSelectControl:function($,x,e){var t=_0x4dd47f,i=new SelectBox(x.key,x[t(467)]);return void 0===lib.getCookie(x.key)&&lib.setCookie(x[t(1405)],x[t(1122)]),i[t(1416)](lib[t(610)](x.key)),i[t(897)]=function($,x){var i=t;lib[i(1171)]($,x),void 0!==e[i(545)]&&e.onconfig()},x.sb=i,i[t(1387)]()},createRangeControl:function($,x,e){var t=_0x4dd47f,i=lib.ce("div",{style:t(1397)});typeof lib[t(610)](x[t(1405)])===t(483)&&lib[t(1171)](x[t(1405)],x.value);var a=lib.ce(t(1207),{type:t(743),id:x[t(1405)],max:x[t(586)],value:lib.getCookie(x.key),style:t(808)}),n=lib.ce(t(1444),{id:t(1352)+x[t(1405)],style:t(1411),innerHTML:lib[t(610)](x[t(1405)])});return a[t(1055)]=function(){var $=t;lib[$(1171)](this.id,this[$(1122)]),document[$(1302)]("#val_"+this.id)[$(1292)]=this.value,typeof e[$(545)]!==$(483)&&e.onconfig()},i[t(1401)](a),i.appendChild(n),i},createTextControl:function($,x,e){var t=_0x4dd47f;typeof lib.getCookie(x[t(1405)])===t(483)&&lib[t(1171)](x[t(1405)],x[t(1122)]);var i=new EditText(x[t(1405)],lib.getCookie(x[t(1405)]));return i.onchange=function($,x){var i=t;lib[i(1171)]($,x),typeof e[i(545)]!==i(483)&&e[i(545)]()},i.getElement()},initMenu:function(){var $=_0x4dd47f;this[$(369)]();for(var x=GUI[$(1295)],e=document[$(867)](),t=Object[$(443)](modules),i=0;i<t[$(464)];i++){var a=t[i],n=modules[a];if(a!==$(1048)){var r=this[$(1438)](a,n);e[$(1401)](r)}}x[$(1401)](e)},createMenuItem:function($,x){var e=_0x4dd47f,t=document[e(1097)](e(1444)),i=new ToggleButton($),a=i[e(1068)]();a.id=$,a.checked=this[e(502)]($,x),x[e(777)]=a[e(336)],x[e(901)]===TYPE_SWITCH&&x[e(487)](a[e(336)]),a[e(1289)]=this[e(525)]($,x);var n=lib.ce(e(1444),{style:"display: inline-block; overflow: hidden; padding: 3px; vertical-align: top;",innerHTML:x[e(1245)]}),r=lib.ce("div",{style:"padding: 3px; display: inline-block; color: #2196F3; cursor: pointer",id:e(421)+$,innerHTML:"?",onclick:this.createHelpPopupHandler($)});if(t[e(1401)](i.getElement()),t[e(1401)](n),t[e(1401)](r),x[e(626)]){var d=lib.ce(e(1053),{style:e(553),id:e(1398)+$,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAABDUlEQVR4AcXSPUoDURRH8TtJOj9aEXEVouAqRBAtDIq4AwsDgo0IIskUQkAsBDGFrkALRdBCG+swpJIQFFdgJKNH8PK43EiYgRT+/t1jTvGGJ/+BHYJtpH/C310SNPIFzwRPg4MCj9ywxDQNvghSzphimVseiHywifrG+JM1LGCcd7K8MmrBIV6TKjUSvH0LynQxRxQQhCJ1zAcrFgiztFFN9HNNEtQLM/2/dRdVRbDFqAoyKKjlC+bpoBKKhNMSLVSbOSxgnU9MHU1KHGO6rFpwgJcQE9PC27NgjDeydBixQNjIfBplf+mIe65YYJJTUoIeJ0ywyDV3REM9b78LgvN8QYX0dz228gR+wwc/ymXie5Q1fWkAAAAASUVORK5CYII=",onclick:this[e(329)]($)});t.appendChild(d)}return t},updateModuleState:function($,x){var e=_0x4dd47f,t=modules[$];t&&(t[e(777)]=x,this[e(721)][e(1392)]($,x),lib.setCookie($,x?1:0),t[e(901)]===TYPE_SWITCH&&typeof t[e(487)]!==e(483)&&t[e(487)](x),this.handleEngineState($,x))},handleEngineState:function($,x){var e=_0x4dd47f;x||engine[e(693)]!==$||delete engine[e(693)],x&&typeof engine[e(693)]===e(483)&&(typeof engine.timeoutId!==e(483)&&(clearTimeout(engine[e(709)]),delete engine.timeoutId),typeof engine.waitScene===e(708)&&engine.waitScene(engine.handleScene))},cleanup:function(){var $=_0x4dd47f;this[$(721)]&&this[$(721)].clear(),this.popupManager&&this[$(733)][$(473)](),typeof this.timerId!==$(483)&&(clearInterval(this[$(400)]),delete this[$(400)]),typeof this.timeoutId!==$(483)&&(clearTimeout(this[$(709)]),delete this[$(709)])}},ModuleUtils={debounce:function($,x){var e;return function(){var t=this,i=arguments,a=function(){var x=_0x11dd;e=null,$[x(1296)](t,i)};clearTimeout(e),e=setTimeout(a,x)}},batchUpdateCookies:function($){for(var x=_0x4dd47f,e=Object[x(443)]($),t=0;t<e[x(464)];t++){var i=e[t];lib[x(1171)](i,$[i])}},getActiveModules:function(){for(var $=_0x4dd47f,x=[],e=Object.keys(modules),t=0;t<e[$(464)];t++){var i=e[t];modules[i][$(777)]&&x.push(i)}return x},toggleModules:function($,x){for(var e=_0x4dd47f,t={},i=0;i<$[e(464)];i++){var a=$[i];modules[a]&&(modules[a][e(777)]=x,t[a]=x?1:0,modules[a][e(901)]===TYPE_SWITCH&&typeof modules[a][e(487)]!==e(483)&&modules[a][e(487)](x))}this[e(1175)](t),engine[e(721)][e(1023)]()}},bratki={getMissionsLinks:function(){var $=_0x4dd47f,x=[],e=document[$(394)].innerHTML[$(346)]("Заказухи"),t=document.body[$(1292)][$(346)]($(478),document[$(394)][$(1292)][$(346)]($(679)));return -1!=e&&lib[$(551)]($(1276))[$(925)](function(i,a,n){var r=$,d=document[r(394)][r(1292)][r(346)](i.outerHTML);d>e&&d<t&&!i[r(1421)][r(1206)](r(339))&&x[r(1123)](i)}),x},getCombatLinks:function($=!1){var x=_0x4dd47f,e=lib[x(551)]("combatPanel"),t=[];for(var i in e)typeof e[i]==x(957)&&(!e[i][x(1036)]||!e[i].classList[x(489)](x(912))&&!e[i].classList[x(489)](x(825))||$&&e[i][x(1036)][x(489)](x(912)))&&t.push(e[i]);return t},getPackagePrice:function(){var $,x=_0x4dd47f,e=document[x(1302)]("a[href*='messagePanel:codIncomingBlock:codActionsPanel:buyLink']")[x(1324)].querySelector(x(519))[x(379)],t=e.match(/[^><]+(?=<)/g);return 1==t[x(464)]?e[x(1206)]("bucks")?100*t[0]:parseInt(t[0]):100*t[0]+parseInt(t[1])},getPackageItems:function(){var $=_0x4dd47f,x=document[$(491)]("div.content-inner>div:not([class])"),e=[];for(var t in x)if(typeof x[t]==$(957)){var i=x[t].querySelector("a").href,a=x[t].innerText[$(560)](" x")[0],n=x[t][$(1292)].includes("item_difficulty_40")?">>":x[t][$(1292)][$(1206)]($(366))?">":"",r=x[t].innerText[$(560)](" x")[1];e.push({name:a,diff:n,href:i,count:parseInt(void 0===r?1:r)})}return e},getEnemyHp:function(){var $=_0x4dd47f;try{var x=document[$(1302)]($(365));if(null!=x)return x[$(1292)];var e=document[$(1302)]("ul.block")[$(1302)]("li")[$(491)]($(519))[1];if(typeof e!=$(483)){var t=e.innerHTML;return t[$(859)](2,t[$(464)]-3)}}catch(i){}},getLastDamage:function(){var $=_0x4dd47f;try{if(bratki[$(705)]())return document[$(1302)]($(556)).querySelectorAll($(407))[0].innerHTML;return document[$(1302)]($(1045))[$(491)]($(519))[2][$(1292)]}catch(x){}},getEnemyName:function(){var $=_0x4dd47f;try{if(bratki[$(705)]())return document[$(1302)]($(509)).innerHTML;var x=document.querySelector($(780))[$(1302)]("span");if(x.parentNode.innerHTML.includes($(511)))return x.innerHTML}catch(e){}},getMyHp:function(){var $,x=_0x4dd47f;try{if($=bratki[x(705)]()?document[x(1302)]("div.b-header").querySelector(x(519)):document.querySelector("div.header")[x(1302)](x(519)),null!==$)return{count:$.innerHTML,type:["major",x(1221),"info"][x(346)]($.className)}}catch(e){}},getTeamHp:function(){var $=_0x4dd47f;try{var x=[$(1250),$(535),$(1197)],e=2;for(var t in x){var i=document[$(491)]($(1149));for(var a in i)null!==i[a].parentNode[$(1302)](x[t])&&e<t&&(e=t)}return t}catch(n){}},hasNewInterface:function(){var $=_0x4dd47f;return null!==document[$(1302)]($(556))},getUid:function(){var $=_0x4dd47f;try{var x=document[$(1302)]($(916))[$(350)][$(1302)]("span").innerText;if(document[$(861)].href[$(1206)](x))return;return x}catch(e){return}},getRackItems:function(){var $=_0x4dd47f,x=lib[$(551)]($(557)),e=[];for(var t in x)typeof x[t]==$(957)&&e[$(1123)](x[t][$(1324)][$(1324)]);return e}};let lib={safeMode:!0,loadTime:0,lastAction:Date[_0x4dd47f(1035)](),onload:function(){},handlePage(){var $=_0x4dd47f;let x=document[$(491)]("a");x.forEach(x=>{var e=$;(!x[e(1289)]||x.href[e(1206)](e(348)))&&(x[e(1289)]=$=>{var t=e;$[t(649)](),typeof engine[t(709)]!==t(483)&&clearTimeout(engine.timeoutId),typeof engine.timerId!==t(483)&&clearInterval(engine[t(400)]),lib[t(645)](x)})});let e=document[$(491)]("form");for(let t of e)for(let i of(t[$(1420)]=x=>{var e=$;x.preventDefault();let i=new XMLHttpRequest;i[e(1062)](t.method,t.action,!1),i.setRequestHeader(e(791),e(567));let a=lib.urlData(t);i.send(a),document[e(394)].innerHTML=i[e(915)],typeof engine[e(709)]!==e(483)&&clearTimeout(engine[e(709)]),typeof engine[e(400)]!==e(483)&&clearInterval(engine[e(400)]),lib.onload()},t[$(491)]("input[type='submit']")))i[$(1289)]=x=>{var e=$;i.id=e(840)};Object[$(1427)](modules)[$(925)](([x,e])=>{e[$(777)]&&"function"==typeof e.onload&&e.onload()})},urlData:function($){var x=_0x4dd47f;let e=[];for(let t in $[x(732)])($[x(732)][t][x(901)]!=x(580)||$[x(732)][t].id==x(840))&&e[x(1123)]($[x(732)][t][x(1245)]+"="+encodeURIComponent($[x(732)][t][x(1122)]));return e[x(1081)]("&")},request:function($,x=lib[_0x4dd47f(1331)],e=lib[_0x4dd47f(1032)]?Math[_0x4dd47f(1265)](Math[_0x4dd47f(888)]()*(lib[_0x4dd47f(1209)]-lib[_0x4dd47f(651)]+1))+lib[_0x4dd47f(651)]:0){var t=_0x4dd47f;$[t(1167)](t(974))&&(e=$[t(814)](t(974))),$.hasAttribute("auto")||(e=0,lib.lastAction=Date[t(1035)]());var i=Date[t(1035)](),a=new XMLHttpRequest;a[t(603)]=function(){var n=t;4==a[n(1345)]&&(200==a[n(1185)]?(lib.loadTime=Date[n(1035)]()-i,document[n(394)][n(1292)]=a.responseText,history[n(1128)]({html:a[n(915)]},n(678),a[n(426)]),engine[n(589)]||scrollTo(0,0),x()):0===a[n(1185)]&&-1==url[n(346)](document[n(666)])?document[n(861)]=$.href:(bratki.requestCnt--,lib.request($,x,e)))},a[t(1062)](t(1388),$[t(512)],!0);var n=new ProgressBar($);$[t(1401)](n[t(1387)]());var r=setInterval(function(){var $=t;if(engine.auto&&engine[$(1212)])n[$(921)](0);else{var x=Math.floor((Date[$(1035)]()-i)/e*100);n.setProgress(x)}},0,100);typeof lib.rTimeout!=t(483)&&clearTimeout(lib.rTimeout),lib[t(471)]=setTimeout(function(){var x=t;if(delete lib.rTimeout,clearInterval(r),engine.auto&&engine.paused){engine[x(589)]=!1;return}$[x(1075)][x(1085)]=x(627),a[x(1365)]()},e)},removeLinksByUrlComponent:function($,x){var e=_0x4dd47f;let t=[];for(let i in $)void 0===$[i].href||$[i][e(512)][e(1206)](x)||t.push($[i]);return t},findLinksByUrlComponent:function($){var x=_0x4dd47f;return document[x(491)](x(331)+$+"']")},findLinksByText:function($,x=!0,e=0){var t=_0x4dd47f;let i=[];return document[t(491)]("a")[t(925)](function(a,n,r){var d=t;(x&&a[d(1292)].includes($,e)||a.innerHTML==$)&&i[d(1123)](a)}),i},ce:function($,x,e){var t=_0x4dd47f,i=document[t(1097)]($);for(var a in x)i[a]=x[a];return typeof e==t(957)&&e[t(1401)](i),i},getCookie:function($){var x=_0x4dd47f,e=document[x(1047)][x(1305)](RegExp(x(361)+$[x(871)](/([\.$?*|{}\(\)\[\]\\/\+^])/g,"\\$1")+x(1436)));return e?decodeURIComponent(e[1]):void 0},setCookie:function($,x,e){var t=_0x4dd47f,i=(e=e||{path:"/",domain:document[t(666)]})[t(883)];if(typeof i==t(978)&&i){var a=new Date;a.setTime(a.getTime()+1e3*i),i=e[t(883)]=a}i&&i[t(638)]&&(e[t(883)]=i.toUTCString()),x=encodeURIComponent(x);var n=$+"="+x;for(var r in e){n+="; "+r;var d=e[r];!0!==d&&(n+="="+d)}document[t(1047)]=n}};class MobileManager{constructor(){var $=_0x4dd47f;this[$(1354)]=null,this[$(1386)]=null,this[$(682)]=null,this[$(745)]=null,this.connectionManager=null,this[$(739)]=null,this[$(735)]={isLowPowerMode:!1,batteryLevel:null,connectionType:$(418),memoryPressure:!1,orientation:$(356),isCharging:null},console[$(988)]($(1449),PLATFORM)}async [_0x4dd47f(1118)](){var $=_0x4dd47f;try{this[$(902)](),this[$(435)](),this[$(609)](),await this[$(1419)](),await this[$(1235)](),await this[$(581)](),this[$(1182)](),PLATFORM[$(1217)]&&this[$(1248)](),PLATFORM.isAndroid&&this[$(605)](),console.log($(724))}catch(x){console[$(1121)]($(1412),x)}}[_0x4dd47f(902)](){var $=_0x4dd47f;this[$(1354)]=x=>{var e=$;window[e(532)]&&window.engine[e(1015)]},document[$(786)]($(1202),this[$(1354)],{passive:!0,capture:!1}),document[$(786)]($(599),x=>{var e=$;window[e(532)]&&window[e(532)][e(1015)]&&x[e(649)]()},{passive:!1}),PLATFORM[$(1217)]&&(document[$(394)][$(1075)][$(995)]="hidden",document[$(854)][$(1075)][$(995)]=$(439))}[_0x4dd47f(435)](){var $=_0x4dd47f;this[$(1386)]=()=>{var x=$;let e=x(window[x(572)]>window[x(595)]?356:1430);e!==this[x(735)][x(983)]&&(console.log(x(851)+this[x(735)].orientation+x(887)+e),this[x(735)][x(983)]=e,this[x(1351)](e))},window.addEventListener($(1330),this.orientationHandler),window.addEventListener($(1347),this[$(1386)]),this[$(1386)]()}[_0x4dd47f(1351)]($){var x=_0x4dd47f;window[x(716)]&&typeof window[x(716)][x(528)]===x(708)&&setTimeout(()=>window[x(716)][x(528)](),500);let e=document[x(1302)](x(1298));e&&("landscape"===$&&PLATFORM[x(680)]?e.style[x(1026)]="12px":e[x(1075)][x(1026)]="14px")}[_0x4dd47f(609)](){var $=_0x4dd47f;let x=document.querySelector($(1341));if(x||((x=document[$(1097)]("meta"))[$(1245)]=$(1290),document[$(1088)][$(1401)](x)),x[$(1295)]=$(672),PLATFORM[$(1217)]){let e=document.querySelectorAll($(1107));e[$(925)](x=>{var e=$;x[e(1075)][e(1026)]=e(748)})}}async [_0x4dd47f(1419)](){var $=_0x4dd47f;try{$(1226) in window&&(this.performanceObserver=new PerformanceObserver(x=>{var e=$;let t=x.getEntries();t[e(925)]($=>{var x=e;$[x(753)]===x(664)&&$[x(965)]>100&&(console.warn(x(395)+$[x(1245)]+" ("+$[x(965)][x(1030)](2)+"мс)"),this[x(1309)]($))})}),this[$(739)].observe({entryTypes:[$(664),$(944)]})),this[$(959)]()}catch(x){console[$(1121)]($(872),x)}}startFPSMonitoring(){var $=_0x4dd47f;let x=performance[$(1035)](),e=0,t=60,i=()=>{var a=$;e++;let n=performance[a(1035)]();n-x>=1e3&&(t=Math.round(1e3*e/(n-x)),e=0,x=n,t<20&&!this.state[a(994)]&&(console.warn("[MobileManager] Низкий FPS: "+t+", активация энергосберегающего режима"),this[a(1180)]())),document[a(439)]||requestAnimationFrame(i)};document[$(439)]||requestAnimationFrame(i),document.addEventListener($(953),()=>{document[$(439)]||requestAnimationFrame(i)})}async initBatteryManager(){var $=_0x4dd47f;try{$(388) in navigator&&(this[$(745)]=await navigator[$(388)](),this[$(492)](),this[$(745)].addEventListener($(874),()=>this[$(492)]()),this[$(745)][$(786)]($(420),()=>this[$(492)]()),console[$(988)]($(1037)))}catch(x){console[$(988)]($(622),x.message)}}[_0x4dd47f(492)](){var $=_0x4dd47f;this[$(745)]&&(this[$(735)].batteryLevel=Math[$(1018)](100*this[$(745)][$(904)]),this[$(735)][$(1327)]=this.batteryManager[$(507)],this[$(735)].batteryLevel<=20&&!this[$(735)][$(1327)]?(console[$(988)]($(699)+this[$(735)].batteryLevel+"%"),this[$(1180)]()):(this.state[$(946)]>50||this.state[$(1327)])&&this[$(1028)](),SCRIPT_CONFIG[$(614)]&&console[$(988)]($(923)+this[$(735)][$(946)]+$(548)+$(this[$(735)].isCharging?1151:880)+")"))}async initConnectionManager(){var $=_0x4dd47f;try{if($(1431) in navigator||$(750) in navigator||$(838) in navigator){let x=navigator[$(1431)]||navigator.mozConnection||navigator[$(838)];this[$(1457)]=x,this[$(405)](),x[$(786)]("change",()=>this[$(405)]()),console[$(988)]($(1275))}}catch(e){console[$(988)]($(765),e.message)}}updateConnectionState(){var $=_0x4dd47f;this[$(1457)]&&(this.state[$(1450)]=this[$(1457)][$(1066)]||$(418),(this[$(1457)][$(1066)]===$(1304)||"2g"===this[$(1457)][$(1066)])&&(console[$(988)]($(592)),this.enableNetworkSavingMode()),SCRIPT_CONFIG.debug&&console.log($(1268)+this[$(735)][$(1450)]))}[_0x4dd47f(1182)](){var $=_0x4dd47f;if($(341) in performance){let x=()=>{var x=$;let e=performance[x(341)],t=e[x(1119)]/e.jsHeapSizeLimit*100;t>80&&(console[x(1221)](x(911)+t.toFixed(1)+"%"),this[x(1154)]())};setInterval(x,3e4)}PLATFORM[$(1217)]&&window[$(786)]($(787),()=>{this[$(936)]()})}[_0x4dd47f(1248)](){var $=_0x4dd47f;console[$(988)]("[MobileManager] Применение iOS оптимизаций...");let x=0;document[$(786)]("touchstart",e=>{x=e[$(601)][0].clientX},{passive:!0}),document[$(786)]($(599),e=>{var t=$;let i=e[t(601)][0][t(398)],a=i-x;x<20&&a>50&&e[t(649)]()}),document[$(786)]($(599),x=>{x[$(649)]()},{passive:!1}),this.setupIOSFullscreen()}[_0x4dd47f(982)](){var $=_0x4dd47f;let x=()=>{var $=_0x11dd;0===window[$(1041)]&&window[$(876)](0,1)};window[$(786)]($(647),x),window[$(786)]($(1330),()=>{setTimeout(x,500)})}[_0x4dd47f(605)](){var $=_0x4dd47f;console[$(988)]($(469)),PLATFORM[$(967)]&&PLATFORM[$(1142)]&&(document[$(854)].style[$(529)]=$(423))}[_0x4dd47f(1180)](){var $=_0x4dd47f;!this[$(735)].isLowPowerMode&&(console[$(988)]($(1213)),this.state[$(994)]=!0,window[$(532)]&&window[$(532)][$(374)](2e3),document[$(854)][$(1075)][$(353)]($(466),"0s"),window[$(716)]&&typeof window.GUI.showMsg===$(708)&&window[$(716)][$(757)]($(1114)))}[_0x4dd47f(1028)](){var $=_0x4dd47f;this[$(735)][$(994)]&&(console[$(988)]("[MobileManager] Деактивация энергосберегающего режима"),this.state.isLowPowerMode=!1,window.engine&&window[$(532)][$(374)](1e3),document[$(854)][$(1075)][$(1161)]($(466)))}enableNetworkSavingMode(){var $=_0x4dd47f;console[$(988)]($(1281)),window.engine&&window[$(532)].setNetworkInterval(5e3)}[_0x4dd47f(1154)](){var $=_0x4dd47f;console[$(988)]("[MobileManager] Обработка нехватки памяти"),this[$(735)][$(1131)]=!0,this[$(936)](),window[$(716)]&&typeof window[$(716)].showMsg===$(708)&&window.GUI[$(757)]($(1218))}handleSlowPerformance($){var x=_0x4dd47f;console[x(1221)](x(359)+$[x(1245)]),$[x(965)]>500&&this[x(1137)]()}[_0x4dd47f(1137)](){var $=_0x4dd47f;console[$(988)]($(1320)),document[$(854)][$(1075)][$(353)]($(736),"1");let x=document[$(1302)]($(1298));x&&(x[$(1075)][$(623)]=$(815))}[_0x4dd47f(936)](){var $=_0x4dd47f;try{let x=document[$(491)]("img");x.forEach(x=>{var e=$;x[e(1188)].startsWith(e(606))||(x[e(1188)]=x[e(1188)])}),window[$(532)]&&typeof window[$(532)].clearCache===$(708)&&window[$(532)][$(665)](),console[$(988)]($(1224))}catch(e){console[$(1121)]("[MobileManager] Ошибка очистки кешей:",e)}}[_0x4dd47f(781)](){return{...this.state}}[_0x4dd47f(994)](){var $=_0x4dd47f;return this[$(735)][$(994)]}getBatteryLevel(){var $=_0x4dd47f;return this[$(735)][$(946)]}getConnectionType(){return this.state[_0x4dd47f(1450)]}[_0x4dd47f(763)]($){$?this[_0x4dd47f(1180)]():this.disableLowPowerMode()}[_0x4dd47f(1223)](){var $=_0x4dd47f;this[$(1354)]&&document.removeEventListener($(1202),this.touchHandler),this[$(1386)]&&(window[$(376)]($(1330),this[$(1386)]),window[$(376)]("resize",this[$(1386)])),this.performanceObserver&&this.performanceObserver[$(1144)](),console[$(988)]($(1249))}}window[_0x4dd47f(1358)]=MobileManager;class WorkerManager{constructor(){var $=_0x4dd47f;this[$(406)]=null,this[$(843)]=null,this[$(907)]=this[$(660)](),this.messageHandlers=new Map,this[$(723)]={paused:!0,currentModule:null,lastAction:Date[$(1035)]()},console[$(988)]("[WorkerManager] Инициализация...",{supported:this[$(907)]})}checkWorkerSupport(){var $=_0x4dd47f;try{return typeof Worker!==$(483)&&typeof Blob!==$(483)}catch(x){return console[$(1221)]($(914),x),!1}}async [_0x4dd47f(1118)](){var $=_0x4dd47f;if(!this[$(907)]){console[$(988)]($(1064));return}try{await this.createGameWorker(),await this[$(966)](),this[$(349)](),console[$(988)]("[WorkerManager] Готов к работе")}catch(x){console[$(1121)]($(354),x),this[$(907)]=!1}}async createGameWorker(){var $=_0x4dd47f;let x=this[$(1257)](),e=new Blob([x],{type:$(833)});this[$(406)]=new Worker(URL[$(351)](e)),this[$(406)].onmessage=x=>{this[$(885)]("game",x.data)},this[$(406)][$(1413)]=$=>{console.error("[WorkerManager] Game Worker ошибка:",$)}}async [_0x4dd47f(966)](){var $=_0x4dd47f;let x=this[$(1094)](),e=new Blob([x],{type:$(833)});this[$(843)]=new Worker(URL[$(351)](e)),this.timerWorker[$(1263)]=x=>{var e=$;this[e(885)](e(847),x[e(392)])},this[$(843)][$(1413)]=x=>{var e=$;console[e(1121)](e(612),x)}}[_0x4dd47f(1257)](){return _0x4dd47f(870)}getTimerWorkerCode(){return _0x4dd47f(1252)}setupMessageHandlers(){var $=_0x4dd47f;this.messageHandlers[$(1392)]($(433),x=>{var e=$;switch(x[e(901)]){case e(801):this.executeModule(x[e(449)]);break;case e(1384):this[e(1150)](x);break;case e(1121):console.error(e(1403),x[e(1121)])}}),this[$(657)][$(1392)]($(847),x=>{var e=$;switch(x[e(901)]){case e(577):this[e(1186)](x.id);break;case"timer_progress":this[e(1034)](x);break;case e(547):this.handleWorkerPong(e(847),x)}})}[_0x4dd47f(885)]($,x){var e=_0x4dd47f;let t=this[e(657)][e(1346)]($);if(t)try{t(x)}catch(i){console[e(1121)](e(731)+$+":",i)}}[_0x4dd47f(1172)]($){var x=_0x4dd47f;console[x(988)](x(534)+$),window[x(532)]&&typeof window[x(532)].executeModule===x(708)&&window[x(532)][x(1172)]($)}[_0x4dd47f(1150)]($){var x=_0x4dd47f;SCRIPT_CONFIG.debug&&Date.now()%3e4<1e3&&console[x(988)](x(330),{timestamp:new Date($[x(899)])[x(707)](),activeModules:$[x(1453)]})}handleTimerComplete($){var x=_0x4dd47f;console.log(x(397)+$+x(1253)),window.engine&&typeof window[x(532)][x(1379)]===x(708)&&window[x(532)][x(1379)]($)}[_0x4dd47f(1034)]($){var x=_0x4dd47f;window[x(716)]&&typeof window[x(716)][x(1216)]===x(708)&&window[x(716)].updateProgress($.id,$.progress,$[x(357)])}[_0x4dd47f(1230)]($,x){var e=_0x4dd47f;console[e(988)](e(934)+$+e(908),x)}[_0x4dd47f(788)](){var $=_0x4dd47f;return this[$(907)]&&this[$(406)]?(this.gameWorker[$(458)]({type:$(1118),data:{config:SCRIPT_CONFIG,modules:this[$(338)]()}}),this[$(406)][$(458)]({type:$(1407),data:{interval:1e3}}),console[$(988)]($(1394)),!0):(console[$(1221)]($(617)),!1)}[_0x4dd47f(1294)](){var $=_0x4dd47f;this.gameWorker&&this.gameWorker[$(458)]({type:$(1193)})}[_0x4dd47f(474)]($,x,e=!1){var t=_0x4dd47f;return this[t(907)]&&this[t(843)]?(this.timerWorker.postMessage({type:"create_timer",data:{id:$,delay:x,interval:e}}),!0):(console[t(1221)](t(1425)),!1)}[_0x4dd47f(1377)]($){var x=_0x4dd47f;this[x(843)]&&this.timerWorker[x(458)]({type:"cancel_timer",data:{id:$}})}[_0x4dd47f(530)]($){var x=_0x4dd47f;this[x(406)]&&this[x(406)][x(458)]({type:x(1244),data:{modules:$}})}[_0x4dd47f(338)](){var $=_0x4dd47f;if(typeof window.modules!==$(483)){let x={};return Object.keys(window[$(482)])[$(925)](e=>{var t=$;x[e]={enabled:window.modules[e].enabled,type:window[t(482)][e][t(901)],name:window.modules[e][t(1245)]}}),x}return{}}[_0x4dd47f(596)](){var $=_0x4dd47f;this[$(406)]&&this[$(406)].postMessage({type:"ping"}),this.timerWorker&&this[$(843)][$(458)]({type:$(1277)})}[_0x4dd47f(907)](){return this[_0x4dd47f(907)]}getStatus(){var $=_0x4dd47f;return{supported:this[$(907)],gameWorkerActive:!!this.gameWorker,timerWorkerActive:!!this[$(843)],gameState:this[$(723)]}}[_0x4dd47f(1223)](){var $=_0x4dd47f;this.gameWorker&&(this[$(406)][$(1356)](),this.gameWorker=null),this[$(843)]&&(this[$(843)][$(1356)](),this[$(843)]=null),this[$(657)].clear(),console[$(988)]($(1258))}}window.WorkerManager=WorkerManager;class WakeLockManager{constructor(){var $=_0x4dd47f;this.wakeLock=null,this[$(1015)]=!1,this[$(1110)]=null,this[$(576)]=null,this[$(1360)]=null,this[$(1334)]=null,this[$(597)]=null,this.retryCount=0,this.maxRetries=3,console[$(988)]("[WakeLockManager] Инициализация...")}async [_0x4dd47f(1118)](){var $=_0x4dd47f;try{"wakeLock"in navigator?(console[$(988)]("[WakeLockManager] Wake Lock API доступен"),await this[$(834)]()):(console[$(988)]($(440)),await this[$(541)]()),PLATFORM[$(855)]&&await this[$(741)](),this.startHeartbeat(),console.log("[WakeLockManager] Готов к работе")}catch(x){console[$(1121)]("[WakeLockManager] Ошибка инициализации:",x),await this[$(541)]()}}async [_0x4dd47f(834)](){var $=_0x4dd47f;try{this[$(673)]=await navigator.wakeLock[$(645)]("screen"),this[$(1015)]=!0,this.retryCount=0,console[$(988)]($(1211)),this[$(673)].addEventListener($(718),()=>{var x=$;console[x(988)]("[WakeLockManager] Wake Lock освобожден"),this[x(1015)]=!1,this[x(591)]<this.maxRetries&&(setTimeout(()=>this[x(834)](),1e3*(this.retryCount+1)),this[x(591)]++)})}catch(x){throw console[$(1121)]($(1192),x),x.name===$(728)&&(console[$(988)]("[WakeLockManager] Wake Lock заблокирован пользователем"),this.setupUserInteractionListener()),x}}[_0x4dd47f(1039)](){var $=_0x4dd47f;let x=async()=>{var $=_0x11dd;try{await this.requestWakeLock(),document[$(376)]("click",x),document[$(376)]($(1202),x)}catch(e){console[$(1121)]($(813),e)}};document[$(786)]($(766),x,{once:!0}),document[$(786)]($(1202),x,{once:!0,passive:!0})}async [_0x4dd47f(741)](){var $=_0x4dd47f;try{console[$(988)]("[WakeLockManager] Инициализация Audio Keep-Alive для iOS..."),await this[$(1286)](),await this[$(460)](),console.log($(1271))}catch(x){console[$(1121)]($(1417),x)}}async [_0x4dd47f(1286)](){var $=_0x4dd47f;try{this[$(1334)]=document[$(1097)]($(1065));let x=$(898);this[$(1334)][$(1188)]=x,this[$(1334)].loop=!0,this.silentAudio.muted=!0,this.silentAudio[$(1205)]=.01,this.silentAudio[$(404)]="auto",this[$(1334)][$(1075)][$(863)]="none",document[$(394)][$(1401)](this[$(1334)]);let e=()=>{var x=$;this[x(1334)][x(881)]()[x(1101)]($=>{var e=x;console[e(1221)](e(1391),$)})};document.addEventListener($(1202),e,{once:!0,passive:!0}),document.addEventListener($(766),e,{once:!0})}catch(t){console.error($(702),t)}}async [_0x4dd47f(460)](){var $=_0x4dd47f;try{this.audioContext=new(window[$(835)]||window[$(1343)]),this[$(576)]=this[$(1110)].createBuffer(1,44100,44100),this.playAudioKeepAlive=()=>{var x=$;if(this[x(1110)]&&"running"===this[x(1110)].state){let e=this.audioContext[x(1284)]();e.buffer=this.audioBuffer,e[x(403)](this[x(1110)].destination),e[x(1407)]()}};let x=()=>{var x=$;this.audioContext.state===x(1357)&&this.audioContext[x(1301)]()};document[$(786)]("touchstart",x,{once:!0,passive:!0}),document[$(786)]($(766),x,{once:!0})}catch(e){console.error($(1447),e)}}async [_0x4dd47f(541)](){var $=_0x4dd47f;console[$(988)]($(1267)),this[$(1001)](),this[$(1376)](),this[$(820)]()}[_0x4dd47f(1001)](){this.fetchKeepAliveInterval=setInterval(()=>{var $=_0x11dd;document[$(439)]||fetch(window[$(861)].href,{method:$(411),cache:$(1108),keepalive:!0}).catch(()=>{})},3e4)}[_0x4dd47f(1376)](){var $=_0x4dd47f;try{let x=document.createElement($(779));x.src=$(1070),x[$(1308)]=!0,x[$(1381)]=!0,x.autoplay=!0,x.style[$(687)]=$(864),x[$(1075)][$(769)]=$(653),x[$(1075)][$(414)]=$(653),x[$(1075)][$(447)]=$(1174),x.style[$(1432)]="1px",x.style[$(773)]="0",document.body[$(1401)](x);let e=()=>{var e=$;x[e(881)]()[e(1101)](()=>{})};document[$(786)]($(766),e,{once:!0}),document[$(786)]($(1202),e,{once:!0,passive:!0})}catch(t){console[$(1121)]("[WakeLockManager] Ошибка создания invisible video:",t)}}[_0x4dd47f(820)](){var $=_0x4dd47f;console[$(988)]($(516))}startHeartbeat(){var $=_0x4dd47f;this[$(597)]=setInterval(()=>{var x=$;this.wakeLock&&!this[x(1015)]&&(console[x(988)](x(674)),this[x(834)]().catch($=>{console[x(1121)]("[WakeLockManager] Не удалось восстановить Wake Lock:",$)})),PLATFORM[x(855)]&&this[x(971)]&&this[x(971)](),SCRIPT_CONFIG[x(614)]&&Date.now()%6e4<1e3&&console[x(988)](x(585),{wakeLockActive:this.isActive,audioContextState:this[x(1110)]?.state,documentHidden:document[x(439)]})},SCRIPT_CONFIG.mobile[$(597)])}async [_0x4dd47f(718)](){var $=_0x4dd47f;try{this.wakeLock&&(await this[$(673)][$(718)](),this[$(673)]=null,this.isActive=!1,console[$(988)]("[WakeLockManager] Wake Lock освобожден вручную"))}catch(x){console[$(1121)]($(1332),x)}}destroy(){var $=_0x4dd47f;this[$(718)](),this[$(597)]&&(clearInterval(this[$(597)]),this[$(597)]=null),this.fetchKeepAliveInterval&&(clearInterval(this.fetchKeepAliveInterval),this[$(370)]=null),this[$(1334)]&&(this[$(1334)][$(1193)](),this[$(1334)][$(1027)](),this.silentAudio=null),this[$(1110)]&&(this.audioContext[$(499)](),this[$(1110)]=null),console[$(988)]("[WakeLockManager] Деинициализация завершена")}isWakeLockActive(){return this[_0x4dd47f(1015)]}getStatus(){var $=_0x4dd47f;return{wakeLockActive:this[$(1015)],hasWakeLockAPI:"wakeLock"in navigator,audioContextState:this[$(1110)]?.[$(735)],platform:PLATFORM,retryCount:this[$(591)]}}}window.WakeLockManager=WakeLockManager;class BackgroundManager{constructor(){var $=_0x4dd47f;this.isInBackgroundMode=!1,this.backgroundStartTime=null,this[$(922)]=null,this[$(671)]=null,this[$(756)]=null,this[$(704)]=null,this[$(1096)]=null,this[$(890)]=null,this[$(1143)]={onBackground:[],onForeground:[],onBeforeUnload:[],onPageShow:[],onPageHide:[]},console[$(988)]($(1220))}async [_0x4dd47f(1118)](){var $=_0x4dd47f;this[$(493)](),this[$(334)](),this[$(465)](),this.setupUnloadEvents(),PLATFORM[$(1217)]&&this.setupIOSSpecialHandling(),console[$(988)]($(1456))}[_0x4dd47f(493)](){var $=_0x4dd47f;this.visibilityChangeHandler=()=>{var $=_0x11dd;document[$(439)]?this[$(578)]():this[$(755)]()},document.addEventListener($(953),this[$(922)])}[_0x4dd47f(334)](){var $=_0x4dd47f;this[$(756)]=x=>{var e=$;console.log("[BackgroundManager] Page Show event"),x[e(1204)]&&this.handleForegroundTransition(),this[e(827)](e(1049),x)},this.pageHideHandler=x=>{var e=$;console.log("[BackgroundManager] Page Hide event"),x[e(1204)]&&this[e(578)](),this[e(827)](e(973),x)},window[$(786)]("pageshow",this[$(756)]),window[$(786)]($(787),this.pageHideHandler)}setupFocusEvents(){var $=_0x4dd47f;this[$(1096)]=()=>{var x=$;console[x(988)](x(427)),setTimeout(()=>this.handleForegroundTransition(),100)},this.blurHandler=()=>{var x=$;console[x(988)](x(1293)),setTimeout(()=>this.handleBackgroundTransition(),100)},window[$(786)]($(670),this[$(1096)]),window[$(786)]($(933),this[$(890)])}[_0x4dd47f(628)](){var $=_0x4dd47f;this.beforeUnloadHandler=$=>{var x=_0x11dd;console.log(x(561)),this.triggerCallbacks(x(1414),$)},window[$(786)]($(1241),this[$(671)])}[_0x4dd47f(832)](){var $=_0x4dd47f;document[$(786)]($(1202),()=>{var x=$;this[x(668)]&&this[x(755)]()},{passive:!0}),window[$(786)]($(1330),()=>{setTimeout(()=>{var $=_0x11dd;document.hidden||this[$(755)]()},500)})}[_0x4dd47f(578)](){var $=_0x4dd47f;this[$(668)]||(console[$(988)]($(1210)),this.isInBackgroundMode=!0,this[$(930)]=Date[$(1035)](),this.triggerCallbacks($(495)))}[_0x4dd47f(755)](){var $=_0x4dd47f;if(this.isInBackgroundMode){let x=Date[$(1035)]()-this[$(930)];console[$(988)]($(1100)+Math[$(1018)](x/1e3)+"с)"),this.isInBackgroundMode=!1,this[$(930)]=null,this[$(827)]($(451),{backgroundDuration:x})}}[_0x4dd47f(1396)](){var $=_0x4dd47f;return this[$(668)]||document[$(439)]}[_0x4dd47f(1057)](){var $=_0x4dd47f;return this[$(668)]?Date.now()-this[$(930)]:0}[_0x4dd47f(917)]($,x){var e=_0x4dd47f;this[e(1143)][$]&&this[e(1143)][$][e(1123)](x)}[_0x4dd47f(454)]($,x){var e=_0x4dd47f;if(this[e(1143)][$]){let t=this[e(1143)][$][e(346)](x);t>-1&&this.callbacks[$][e(563)](t,1)}}triggerCallbacks($,x=null){var e=_0x4dd47f;this[e(1143)][$]&&this[e(1143)][$][e(925)](t=>{try{t(x)}catch(i){console[e(1121)]("[BackgroundManager] Ошибка в callback "+$+":",i)}})}[_0x4dd47f(1223)](){var $=_0x4dd47f;document[$(376)]($(953),this[$(922)]),window.removeEventListener($(343),this.pageShowHandler),window[$(376)]($(787),this[$(704)]),window[$(376)]("focus",this[$(1096)]),window.removeEventListener("blur",this.blurHandler),window[$(376)]($(1241),this[$(671)]),Object[$(443)](this[$(1143)]).forEach(x=>{this[$(1143)][x]=[]}),console[$(988)]($(775))}}window.BackgroundManager=BackgroundManager;var ProgressBar=function($,x="black"){var e=_0x4dd47f,t=lib.ce(e(1444),{style:e(444)});t[e(1075)][e(663)]=x,$.style.position=e(453),this[e(921)]=function($){var x=e;t[x(1075)][x(447)]=""+$+"%"},this[e(1387)]=function(){return t}},PopupWindow=function($,x=!0){var e=_0x4dd47f,t=lib.ce(e(1444),{style:e(1435)},$);x&&(t[e(1075)][e(687)]=e(616));var i=!1;this[e(948)]=function(){var $=e;t.style[$(952)]=$(452),t[$(1075)][$(773)]="0.9",t[$(1075)][$(575)]=$(1323),t[$(1075)][$(975)]=$(1014),i=!0},this[e(1069)]=function(){var $=e;t[$(1075)][$(952)]="0",t[$(1075)][$(773)]="0",t.style.maxHeight="0",t[$(1075)].padding="0",i=!1},this[e(1117)]=function(){return i},this.addChild=function($){var x=e,i=lib.ce(x(1444),{className:"popup-content"});i[x(1401)]($),t[x(1401)](i)},this[e(1069)]()},SelectBox=function($,x){var e=_0x4dd47f,t=lib.ce("div",{style:"cursor: pointer; height:20px; border-radius:5px; overflow:hidden; display:inline-block;"}),i=lib.ce("div",{style:e(362)},t),a=0;ctx=this;var n=0;for(var r in x){var d=x[r],o=document[e(1097)](e(519));o[e(1075)][e(523)]="hidden",o[e(1075)][e(687)]="absolute",o[e(1075)].font=e(1139),o[e(1159)]=d,document[e(394)].appendChild(o),o[e(625)]>n&&(n=o[e(625)]),document[e(394)].removeChild(o)}var s=n+6;for(var r in x)lib.ce(e(1444),{style:e(486)+s+"px; text-align:center;",innerHTML:x[r],onclick:function(){var t=e;i.style[t(769)]=(a=(a-=20)<=-20*x[t(464)]?0:a)+"px",ctx[t(897)]($,-(a/20))}},i);this.getElement=function(){return t},this[e(1416)]=function($){var x=e;a=-20*$,i[x(1075)][x(769)]=a+"px"}},EditText=function($,x){var e=_0x4dd47f,t=lib.ce(e(1444),{className:e(368),contentEditable:!0,innerHTML:x}),i=this;t.onkeyup=function(){var x=e;void 0!==i[x(897)]&&i[x(897)]($,t[x(1380)])},this[e(1387)]=function(){return t}},ToggleButton=function($){var x=_0x4dd47f,e=lib.ce(x(1130),{className:x(1080)}),t=lib.ce("input",{type:x(618)},e);lib.ce(x(519),{className:x(770)},e),this.getElement=function(){return e},this[x(1068)]=function(){return t}};const idExpirationDates={15887366:_0x4dd47f(1283),15807522:_0x4dd47f(527),15747005:_0x4dd47f(611),15896664:"2026-03-18",9758750:"2026-01-21T",15826562:_0x4dd47f(1040),15748445:_0x4dd47f(742),15912668:_0x4dd47f(1260),10777548:_0x4dd47f(961),15026223:_0x4dd47f(1338),10904626:_0x4dd47f(696),284028:"2026-04-12",1599902:_0x4dd47f(1098),1158250:"2026-04-12",10624802:_0x4dd47f(650),7221536:_0x4dd47f(503),9878195:_0x4dd47f(503),2458528:_0x4dd47f(1191),904283:"2025-08-18",15343426:_0x4dd47f(503),16118126:_0x4dd47f(503),10099903:_0x4dd47f(539),16135316:_0x4dd47f(958),15915810:_0x4dd47f(990),6438603:_0x4dd47f(656),15899266:_0x4dd47f(1198),11184931:"2026-06-14",10371936:"2025-10-05",15870641:"2025-07-13",15811655:"2025-08-19",15771595:_0x4dd47f(456),15908767:_0x4dd47f(546),3369484:_0x4dd47f(594),16168848:_0x4dd47f(1179),10120810:_0x4dd47f(1179),10409833:_0x4dd47f(1003),15852001:_0x4dd47f(1003),16125511:"2125-09-01",15664945:_0x4dd47f(1003),11228857:_0x4dd47f(790),16171789:_0x4dd47f(790),15767362:_0x4dd47f(742),8493337:"2025-10-13",15327336:_0x4dd47f(1084),4912191:_0x4dd47f(805),16250913:"2025-09-22",10648513:_0x4dd47f(862)};if(GUI.createMenu(),document[_0x4dd47f(394)][_0x4dd47f(1401)](GUI.menu),GUI[_0x4dd47f(757)](_0x4dd47f(1194)),typeof bratki.getUid===_0x4dd47f(483)||!bratki[_0x4dd47f(772)]()||bratki[_0x4dd47f(772)]().length<4)alert("Не удалось определить id вашего персонажа, убедитесь что вы вошли в него из кабинета и повторите снова");else{function e($){var x=_0x4dd47f;let e=$[x(871)](/T|Z/g,""),t=e[x(560)]("-").map($=>$[x(807)](2,"0"));if(3===t[x(464)]){let[i,a,n]=t;return i+"-"+a+"-"+n}return null}function t($){var x=_0x4dd47f;let t=idExpirationDates[$];if(!t)return -1;let i=e(t);if(!i)return -1;let a=new Date,n=new Date(i+x(1231));return isNaN(n[x(1109)]())?(console.warn(x(1442)+$+": "+i),-1):Math.floor((n-a)/1e3)}bratki.uid=bratki[_0x4dd47f(772)](),bratki[_0x4dd47f(1279)]=!0;let i=t(bratki[_0x4dd47f(806)]);if(i>0){let a=engine.callback(i);document.head[_0x4dd47f(1401)](a)}else alert("Недопустимый ID или истек срок действия")}function _0xeebc1d($){function x($){var e=_0x11dd;if(typeof $===e(751))return(function($){})[e(446)](e(1440))[e(1296)](e(1033));1!==(""+$/$)[e(464)]||$%20==0?(function(){return!0})[e(446)](e(767)+e(924))[e(1135)](e(564)):(function(){return!1})[e(446)](e(767)+e(924)).apply("stateObject"),x(++$)}try{if($)return x;x(0)}catch(e){}}
